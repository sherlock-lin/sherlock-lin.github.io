<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="È´òÈ¢ë ËØ¥ËØ¥RDD„ÄÅDataFrame„ÄÅDataSet‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª RDD (Spark1.0) ‚Äî&gt; Dataframe(Spark1.3) ‚Äî&gt; Dataset(Spark1.6)\nSparkÊúÄÂºÄÂßãÂè™Êèê‰æõ‰∫ÜRDDÔºåRDDÂÆÉÊòØSpark‰∏≠ÊúÄÂü∫Êú¨ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊ®°ÂûãÔºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ÂºπÊÄß„ÄÅ‰∏çÂèØÂèò„ÄÅÂèØÂàÜÂå∫„ÄÅÈáåÈù¢ÁöÑÂÖÉÁ¥†ÂèØËøõË°åËÆ°ÁÆóÁöÑÈõÜÂêà„ÄÇ‰ΩÜÂÆÉÁöÑÁº∫ÁÇπ‰πüÂæàÊòéÊòæÔºåÂ∞±ÊòØÊó†Ê≥ïËé∑ÂèñÂà∞ÊâÄÂ≠òÂÖÉÁ¥†ÁöÑÂÖ∑‰ΩìÁªìÊûÑÔºåÂõ†Ê≠§SparkÂºïÂÖ•‰∫ÜDataFrameÔºåDataFrameÈô§‰∫ÜËÆ∞ÂΩïÊï∞ÊçÆËøòËÆ∞ÂΩï‰∫ÜÊï∞ÊçÆÁöÑÁªìÊûÑ‰ø°ÊÅØschemaÔºåÂèØ‰ª•ÊääÂÆÉÂΩìÂÅöÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÂº†Ë°®Êù•ÂØπÂæÖ„ÄÇÁõ∏ÊØîRDDÊù•ËØ¥ÊÄßËÉΩÊõ¥È´ò„ÄÅAPI‰ΩøÁî®Êõ¥Âä†ÂèãÂ•ΩÔºåÈó®ÊßõÊõ¥‰Ωé„ÄÇDataFrameÂèØ‰ª•Âü∫‰∫éÂ∑≤ÊúâÁöÑ‰ø°ÊÅØÂÅöRBOÂ±ÇÈù¢ÁöÑ‰ºòÂåñÔºå‰æãÂ¶ÇË∞ìËØç‰∏ãÊé®‰πüÂ∞±ÊòØfilterÂâçÁΩÆ„ÄÅÂàóË£ÅÂâ™„ÄÅÂàÜÂå∫Ë£ÅÂâ™Á≠âÔºåÂπ∂‰∏îÊï∞ÊçÆÂèØ‰ª•‰ª•‰∫åËøõÂà∂ÁöÑÊñπÂºèÂ≠òÂú®ÈùûÂ†ÜÂÜÖÂ≠òÔºåÊëÜËÑ±GCÁöÑÈôêÂà∂ÊèêÂçáÊÄßËÉΩ„ÄÇ‰ΩÜDataFrameÂè™ËÉΩË°®Á§∫‰∏Ä‰∏™Ë°®ÂØπË±°ÔºåËÄåÂú®‰∏öÂä°‰∏≠‰ºöÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂØπË±°ÔºåÂõ†Ê≠§SparkÂèàÂ¢ûÂä†‰∫ÜDataSetÁöÑÊîØÊåÅÔºåDataSetÊîØÊåÅ‰ªªÊÑèÂØπË±°Âπ∂‰∏îÂÖ∑ÊúâDataFrameÁöÑÊâÄÊúâ‰ºòÂäøÔºåÂèØ‰ª•ÊääDataFrameÁúãÂÅöDataSetÁöÑ‰∏Ä‰∏™Áâπ‰æãÔºåRDD„ÄÅDataframe„ÄÅDataset‰∏âËÄÖ‰πãÈó¥ÂèØ‰ª•‰∫íÁõ∏ËΩ¨Êç¢„ÄÇ\n">
<title>SparkÈù¢ËØï‰∏ÄÊñáÈÄö</title>

<link rel='canonical' href='https://sherlock-lin.github.io/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="SparkÈù¢ËØï‰∏ÄÊñáÈÄö">
<meta property='og:description' content="È´òÈ¢ë ËØ¥ËØ¥RDD„ÄÅDataFrame„ÄÅDataSet‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª RDD (Spark1.0) ‚Äî&gt; Dataframe(Spark1.3) ‚Äî&gt; Dataset(Spark1.6)\nSparkÊúÄÂºÄÂßãÂè™Êèê‰æõ‰∫ÜRDDÔºåRDDÂÆÉÊòØSpark‰∏≠ÊúÄÂü∫Êú¨ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊ®°ÂûãÔºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ÂºπÊÄß„ÄÅ‰∏çÂèØÂèò„ÄÅÂèØÂàÜÂå∫„ÄÅÈáåÈù¢ÁöÑÂÖÉÁ¥†ÂèØËøõË°åËÆ°ÁÆóÁöÑÈõÜÂêà„ÄÇ‰ΩÜÂÆÉÁöÑÁº∫ÁÇπ‰πüÂæàÊòéÊòæÔºåÂ∞±ÊòØÊó†Ê≥ïËé∑ÂèñÂà∞ÊâÄÂ≠òÂÖÉÁ¥†ÁöÑÂÖ∑‰ΩìÁªìÊûÑÔºåÂõ†Ê≠§SparkÂºïÂÖ•‰∫ÜDataFrameÔºåDataFrameÈô§‰∫ÜËÆ∞ÂΩïÊï∞ÊçÆËøòËÆ∞ÂΩï‰∫ÜÊï∞ÊçÆÁöÑÁªìÊûÑ‰ø°ÊÅØschemaÔºåÂèØ‰ª•ÊääÂÆÉÂΩìÂÅöÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÂº†Ë°®Êù•ÂØπÂæÖ„ÄÇÁõ∏ÊØîRDDÊù•ËØ¥ÊÄßËÉΩÊõ¥È´ò„ÄÅAPI‰ΩøÁî®Êõ¥Âä†ÂèãÂ•ΩÔºåÈó®ÊßõÊõ¥‰Ωé„ÄÇDataFrameÂèØ‰ª•Âü∫‰∫éÂ∑≤ÊúâÁöÑ‰ø°ÊÅØÂÅöRBOÂ±ÇÈù¢ÁöÑ‰ºòÂåñÔºå‰æãÂ¶ÇË∞ìËØç‰∏ãÊé®‰πüÂ∞±ÊòØfilterÂâçÁΩÆ„ÄÅÂàóË£ÅÂâ™„ÄÅÂàÜÂå∫Ë£ÅÂâ™Á≠âÔºåÂπ∂‰∏îÊï∞ÊçÆÂèØ‰ª•‰ª•‰∫åËøõÂà∂ÁöÑÊñπÂºèÂ≠òÂú®ÈùûÂ†ÜÂÜÖÂ≠òÔºåÊëÜËÑ±GCÁöÑÈôêÂà∂ÊèêÂçáÊÄßËÉΩ„ÄÇ‰ΩÜDataFrameÂè™ËÉΩË°®Á§∫‰∏Ä‰∏™Ë°®ÂØπË±°ÔºåËÄåÂú®‰∏öÂä°‰∏≠‰ºöÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂØπË±°ÔºåÂõ†Ê≠§SparkÂèàÂ¢ûÂä†‰∫ÜDataSetÁöÑÊîØÊåÅÔºåDataSetÊîØÊåÅ‰ªªÊÑèÂØπË±°Âπ∂‰∏îÂÖ∑ÊúâDataFrameÁöÑÊâÄÊúâ‰ºòÂäøÔºåÂèØ‰ª•ÊääDataFrameÁúãÂÅöDataSetÁöÑ‰∏Ä‰∏™Áâπ‰æãÔºåRDD„ÄÅDataframe„ÄÅDataset‰∏âËÄÖ‰πãÈó¥ÂèØ‰ª•‰∫íÁõ∏ËΩ¨Êç¢„ÄÇ\n">
<meta property='og:url' content='https://sherlock-lin.github.io/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/'>
<meta property='og:site_name' content='Â§èÊ¥õÂÖã-Êûó'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-03-12T11:53:11&#43;08:00'/><meta property='article:modified_time' content='2025-03-12T11:53:11&#43;08:00'/><meta property='og:image' content='https://sherlock-lin.github.io/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/nevada-8338929_1280.jpg' />
<meta name="twitter:title" content="SparkÈù¢ËØï‰∏ÄÊñáÈÄö">
<meta name="twitter:description" content="È´òÈ¢ë ËØ¥ËØ¥RDD„ÄÅDataFrame„ÄÅDataSet‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª RDD (Spark1.0) ‚Äî&gt; Dataframe(Spark1.3) ‚Äî&gt; Dataset(Spark1.6)\nSparkÊúÄÂºÄÂßãÂè™Êèê‰æõ‰∫ÜRDDÔºåRDDÂÆÉÊòØSpark‰∏≠ÊúÄÂü∫Êú¨ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊ®°ÂûãÔºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ÂºπÊÄß„ÄÅ‰∏çÂèØÂèò„ÄÅÂèØÂàÜÂå∫„ÄÅÈáåÈù¢ÁöÑÂÖÉÁ¥†ÂèØËøõË°åËÆ°ÁÆóÁöÑÈõÜÂêà„ÄÇ‰ΩÜÂÆÉÁöÑÁº∫ÁÇπ‰πüÂæàÊòéÊòæÔºåÂ∞±ÊòØÊó†Ê≥ïËé∑ÂèñÂà∞ÊâÄÂ≠òÂÖÉÁ¥†ÁöÑÂÖ∑‰ΩìÁªìÊûÑÔºåÂõ†Ê≠§SparkÂºïÂÖ•‰∫ÜDataFrameÔºåDataFrameÈô§‰∫ÜËÆ∞ÂΩïÊï∞ÊçÆËøòËÆ∞ÂΩï‰∫ÜÊï∞ÊçÆÁöÑÁªìÊûÑ‰ø°ÊÅØschemaÔºåÂèØ‰ª•ÊääÂÆÉÂΩìÂÅöÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÂº†Ë°®Êù•ÂØπÂæÖ„ÄÇÁõ∏ÊØîRDDÊù•ËØ¥ÊÄßËÉΩÊõ¥È´ò„ÄÅAPI‰ΩøÁî®Êõ¥Âä†ÂèãÂ•ΩÔºåÈó®ÊßõÊõ¥‰Ωé„ÄÇDataFrameÂèØ‰ª•Âü∫‰∫éÂ∑≤ÊúâÁöÑ‰ø°ÊÅØÂÅöRBOÂ±ÇÈù¢ÁöÑ‰ºòÂåñÔºå‰æãÂ¶ÇË∞ìËØç‰∏ãÊé®‰πüÂ∞±ÊòØfilterÂâçÁΩÆ„ÄÅÂàóË£ÅÂâ™„ÄÅÂàÜÂå∫Ë£ÅÂâ™Á≠âÔºåÂπ∂‰∏îÊï∞ÊçÆÂèØ‰ª•‰ª•‰∫åËøõÂà∂ÁöÑÊñπÂºèÂ≠òÂú®ÈùûÂ†ÜÂÜÖÂ≠òÔºåÊëÜËÑ±GCÁöÑÈôêÂà∂ÊèêÂçáÊÄßËÉΩ„ÄÇ‰ΩÜDataFrameÂè™ËÉΩË°®Á§∫‰∏Ä‰∏™Ë°®ÂØπË±°ÔºåËÄåÂú®‰∏öÂä°‰∏≠‰ºöÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂØπË±°ÔºåÂõ†Ê≠§SparkÂèàÂ¢ûÂä†‰∫ÜDataSetÁöÑÊîØÊåÅÔºåDataSetÊîØÊåÅ‰ªªÊÑèÂØπË±°Âπ∂‰∏îÂÖ∑ÊúâDataFrameÁöÑÊâÄÊúâ‰ºòÂäøÔºåÂèØ‰ª•ÊääDataFrameÁúãÂÅöDataSetÁöÑ‰∏Ä‰∏™Áâπ‰æãÔºåRDD„ÄÅDataframe„ÄÅDataset‰∏âËÄÖ‰πãÈó¥ÂèØ‰ª•‰∫íÁõ∏ËΩ¨Êç¢„ÄÇ\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://sherlock-lin.github.io/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/nevada-8338929_1280.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/cs_hu10005534405353342465.jpg" width="300"
                            height="294" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ü•≥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Â§èÊ¥õÂÖã-Êûó</a></h1>
            <h2 class="site-description">Ê¨¢ËøéÊù•Âà∞‰∏Ä‰∏™ËØª‰π¶ÁãÇÈ≠î„ÄÅÂÅèÊâßÁãÇÁöÑÂçöÂÆ¢~</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÂèãÊÉÖÈìæÊé•</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#È´òÈ¢ë">È´òÈ¢ë</a>
      <ol>
        <li><a href="#ËØ¥ËØ¥rdddataframedataset‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª">ËØ¥ËØ¥RDD„ÄÅDataFrame„ÄÅDataSet‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª</a></li>
        <li><a href="#sparkÁöÑstageÂàíÂàÜ">SparkÁöÑStageÂàíÂàÜ</a></li>
        <li><a href="#‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºö‰∫ßÁîüspark-shuffle">‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºö‰∫ßÁîüSpark Shuffle</a></li>
        <li><a href="#spark‰∏≠lineageÁöÑÂü∫Êú¨ÂéüÁêÜ">Spark‰∏≠LineageÁöÑÂü∫Êú¨ÂéüÁêÜ</a></li>
        <li><a href="#‰ªãÁªç‰∏Ä‰∏ãspark-sqlËß£ÊûêËøáÁ®ã">‰ªãÁªç‰∏Ä‰∏ãSpark SQLËß£ÊûêËøáÁ®ã</a></li>
        <li><a href="#raftÁÆóÊ≥ï">RaftÁÆóÊ≥ï</a></li>
        <li><a href="#lsm">LSM</a></li>
        <li><a href="#spark-‰∏∫‰ªÄ‰πàÊØîhiveÂø´">Spark ‰∏∫‰ªÄ‰πàÊØîhiveÂø´</a></li>
        <li><a href="#ÁºìÂ≠òÊú∫Âà∂‰∏écheckpointÊú∫Âà∂ÁöÑÂå∫Âà´">ÁºìÂ≠òÊú∫Âà∂‰∏écheckpointÊú∫Âà∂ÁöÑÂå∫Âà´</a></li>
        <li><a href="#ËØ¥‰∏ãspark-joinÁöÑÂàÜÁ±ª">ËØ¥‰∏ãSpark joinÁöÑÂàÜÁ±ª</a></li>
        <li><a href="#sparkÂ§ÑÁêÜÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÊµÅÁ®ã">SparkÂ§ÑÁêÜÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÊµÅÁ®ã</a></li>
        <li><a href="#spark-map-joinÁöÑÂÆûÁé∞ÂéüÁêÜ">Spark map joinÁöÑÂÆûÁé∞ÂéüÁêÜ</a></li>
        <li><a href="#sparkÂ∫îÁî®Á®ãÂ∫èÊâßË°åÊµÅÁ®ã">SparkÂ∫îÁî®Á®ãÂ∫èÊâßË°åÊµÅÁ®ã</a></li>
        <li><a href="#‰ªãÁªç‰∏ãspark-shuffle‰ª•ÂèäÂÖ∂‰ºòÁº∫ÁÇπ">‰ªãÁªç‰∏ãSpark Shuffle‰ª•ÂèäÂÖ∂‰ºòÁº∫ÁÇπ</a></li>
        <li><a href="#‰∏∫‰ªÄ‰πàË¶Åspark-shuffle">‰∏∫‰ªÄ‰πàË¶ÅSpark Shuffle</a></li>
        <li><a href="#ËØ¥Êòéyarn-clusterÊ®°Âºè‰Ωú‰∏öÊèê‰∫§ÊµÅÁ®ãyarn-cluster‰∏éyarn-clientÁöÑÂå∫Âà´">ËØ¥Êòéyarn-clusterÊ®°Âºè‰Ωú‰∏öÊèê‰∫§ÊµÅÁ®ãÔºåyarn-cluster‰∏éyarn-clientÁöÑÂå∫Âà´</a></li>
        <li><a href="#sparkÁöÑÂÜÖÂ≠òÊ®°Âûã">SparkÁöÑÂÜÖÂ≠òÊ®°Âûã</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÁöÑÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖç">ËØ¥ËØ¥SparkÁöÑÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖç</a></li>
        <li><a href="#ÁÆÄËø∞ÂπøÊí≠ÂèòÈáèÂíåÁ¥ØÂä†Âô®ÁöÑÂü∫Êú¨ÂéüÁêÜÂíåÁî®ÈÄî">ÁÆÄËø∞ÂπøÊí≠ÂèòÈáèÂíåÁ¥ØÂä†Âô®ÁöÑÂü∫Êú¨ÂéüÁêÜÂíåÁî®ÈÄî</a></li>
        <li><a href="#sparkÁöÑ‰ºòÂåñÊÄé‰πàÂÅösparkÂÅöËøáÂì™‰∫õ‰ºòÂåñÂéüÁêÜÊòØ‰ªÄ‰πà">SparkÁöÑ‰ºòÂåñÊÄé‰πàÂÅöÔºüSparkÂÅöËøáÂì™‰∫õ‰ºòÂåñÔºüÂéüÁêÜÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#Ë∞à‰∏ÄË∞àspark‰∏≠ÁöÑÂÆπÈîôÊú∫Âà∂">Ë∞à‰∏ÄË∞àSpark‰∏≠ÁöÑÂÆπÈîôÊú∫Âà∂</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÊï∞ÊçÆÂÄæÊñú">ËØ¥ËØ¥SparkÊï∞ÊçÆÂÄæÊñú</a></li>
      </ol>
    </li>
    <li><a href="#Âü∫Êú¨">Âü∫Êú¨</a>
      <ol>
        <li><a href="#Âú®Ê∫êÁ†Å‰∏≠ÊòØÊÄé‰πàÂà§Êñ≠Â±û‰∫éshufflemap-stageÊàñresult-stageÁöÑ">Âú®Ê∫êÁ†Å‰∏≠ÊòØÊÄé‰πàÂà§Êñ≠Â±û‰∫éShuffleMap StageÊàñResult StageÁöÑ</a></li>
        <li><a href="#spark-joinÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂèòÊàêÁ™Ñ‰æùËµñ">Spark joinÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂèòÊàêÁ™Ñ‰æùËµñ</a></li>
        <li><a href="#Êï∞ÊçÆÊú¨Âú∞ÊÄßÊòØÂú®Âì™‰∏™ÁéØËäÇÁ°ÆÂÆöÁöÑ">Êï∞ÊçÆÊú¨Âú∞ÊÄßÊòØÂú®Âì™‰∏™ÁéØËäÇÁ°ÆÂÆöÁöÑ</a></li>
        <li><a href="#sparkÁöÑÊï∞ÊçÆÊú¨Âú∞ÊÄßÊúâÂì™Âá†Áßç">SparkÁöÑÊï∞ÊçÆÊú¨Âú∞ÊÄßÊúâÂì™Âá†Áßç</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÊèê‰∫§‰Ωú‰∏öÂèÇÊï∞">ËØ¥ËØ¥SparkÊèê‰∫§‰Ωú‰∏öÂèÇÊï∞</a></li>
        <li><a href="#sparkÁöÑÂÆΩÁ™Ñ‰æùËµñ‰ª•ÂèäsparkÂ¶Ç‰ΩïÂàíÂàÜstageÂ¶Ç‰ΩïÁ°ÆÂÆöÊØè‰∏™stage‰∏≠task‰∏™Êï∞">SparkÁöÑÂÆΩÁ™Ñ‰æùËµñÔºå‰ª•ÂèäSparkÂ¶Ç‰ΩïÂàíÂàÜStageÔºåÂ¶Ç‰ΩïÁ°ÆÂÆöÊØè‰∏™Stage‰∏≠Task‰∏™Êï∞</a></li>
        <li><a href="#aqeÊòØ‰ªÄ‰πà">AQEÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#sparkÁ¥ØÂä†Âô®ÊúâÂì™‰∫õÁâπÁÇπ">SparkÁ¥ØÂä†Âô®ÊúâÂì™‰∫õÁâπÁÇπ</a></li>
        <li><a href="#spark‰ΩøÁî®parquetÊñá‰ª∂Â≠òÂÇ®Ê†ºÂºèËÉΩÂ∏¶Êù•Âì™‰∫õÂ•ΩÂ§Ñ">Spark‰ΩøÁî®parquetÊñá‰ª∂Â≠òÂÇ®Ê†ºÂºèËÉΩÂ∏¶Êù•Âì™‰∫õÂ•ΩÂ§Ñ</a></li>
        <li><a href="#sparksqlÂ∏∏Áî®Âì™‰∫õÁÆóÂ≠ê">SparkSQLÂ∏∏Áî®Âì™‰∫õÁÆóÂ≠ê</a></li>
        <li><a href="#sparkÊúâÂì™‰∏§ÁßçÁÆóÂ≠ê">SparkÊúâÂì™‰∏§ÁßçÁÆóÂ≠ê</a></li>
        <li><a href="#ÂØπ‰∫éspark‰∏≠ÁöÑÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò‰Ω†Êúâ‰ªÄ‰πàÂ•ΩÁöÑÊñπÊ°à">ÂØπ‰∫éSpark‰∏≠ÁöÑÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò‰Ω†Êúâ‰ªÄ‰πàÂ•ΩÁöÑÊñπÊ°à</a></li>
        <li><a href="#sparkÊäÄÊúØÊ†àÊúâÂì™‰∫õÁªÑ‰ª∂ÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÊúâ‰ªÄ‰πàÂäüËÉΩÈÄÇÂêà‰ªÄ‰πàÂ∫îÁî®Âú∫ÊôØ">SparkÊäÄÊúØÊ†àÊúâÂì™‰∫õÁªÑ‰ª∂ÔºåÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÊúâ‰ªÄ‰πàÂäüËÉΩÔºåÈÄÇÂêà‰ªÄ‰πàÂ∫îÁî®Âú∫ÊôØ</a></li>
        <li><a href="#ÊèèËø∞‰ª•‰∏ãÁÆóÂ≠êÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª">ÊèèËø∞‰ª•‰∏ãÁÆóÂ≠êÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª</a></li>
        <li><a href="#sparkÁÆóÂ≠êÂèØÂàÜ‰∏∫‰∏§Á±ªÁÆóÂ≠êÂå∫Âà´ÊòØ‰ªÄ‰πàÂàÜÂà´‰∏æ‰æã">SparkÁÆóÂ≠êÂèØÂàÜ‰∏∫‰∏§Á±ªÁÆóÂ≠êÔºåÂå∫Âà´ÊòØ‰ªÄ‰πàÔºåÂàÜÂà´‰∏æ‰æã</a></li>
        <li><a href="#ËØ¥ËØ¥‰Ω†ÂØπsparkÂàÜÂå∫Âô®ÁöÑÁêÜËß£">ËØ¥ËØ¥‰Ω†ÂØπSparkÂàÜÂå∫Âô®ÁöÑÁêÜËß£</a></li>
        <li><a href="#spark-streaming-‰∏≠ÊúâÂì™‰∫õÊ∂àË¥πkafkaÊï∞ÊçÆÁöÑÊñπÂºèÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà">Spark Streaming ‰∏≠ÊúâÂì™‰∫õÊ∂àË¥πKafkaÊï∞ÊçÆÁöÑÊñπÂºèÔºåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#ËØ¥ËØ¥ÂØπspark-shuffleÁöÑÁêÜËß£">ËØ¥ËØ¥ÂØπSpark ShuffleÁöÑÁêÜËß£</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÁöÑ‰ºòÂåñ">ËØ¥ËØ¥SparkÁöÑ‰ºòÂåñ</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÂ∑•‰ΩúÊú∫Âà∂">ËØ¥ËØ¥SparkÂ∑•‰ΩúÊú∫Âà∂</a></li>
        <li><a href="#ËØ¥ËØ¥spark-jobÊâßË°åÊµÅÁ®ãsparkÁöÑÊâßË°åÊµÅÁ®ãÁÆÄË¶ÅÊèèËø∞sparkÂÜôÊï∞ÊçÆÁöÑÊµÅÁ®ã">ËØ¥ËØ¥Spark JobÊâßË°åÊµÅÁ®ãÔºüsparkÁöÑÊâßË°åÊµÅÁ®ãÔºüÁÆÄË¶ÅÊèèËø∞SparkÂÜôÊï∞ÊçÆÁöÑÊµÅÁ®ãÔºü</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÁöÑËøêË°åÊ®°ÂºèÁÆÄÂçïÊèèËø∞wc">ËØ¥ËØ¥SparkÁöÑËøêË°åÊ®°ÂºèÔºåÁÆÄÂçïÊèèËø∞WC</a></li>
        <li><a href="#Â¶Ç‰ΩïÁêÜËß£standaloneÊ®°Âºè‰∏ãsparkËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑ">Â¶Ç‰ΩïÁêÜËß£StandaloneÊ®°Âºè‰∏ãÔºåSparkËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑÔºü</a></li>
        <li><a href="#spark‰∏≠standaloneÊ®°ÂºèÁâπÁÇπÊúâÂì™‰∫õ‰ºòÁÇπÂíåÁº∫ÁÇπ">Spark‰∏≠standaloneÊ®°ÂºèÁâπÁÇπÔºåÊúâÂì™‰∫õ‰ºòÁÇπÂíåÁº∫ÁÇπÔºü</a></li>
        <li><a href="#ÁÆÄË¶ÅÊèèËø∞sparkÂàÜÂ∏ÉÂºèÈõÜÁæ§Êê≠Âª∫ÁöÑÊ≠•È™§">ÁÆÄË¶ÅÊèèËø∞SparkÂàÜÂ∏ÉÂºèÈõÜÁæ§Êê≠Âª∫ÁöÑÊ≠•È™§</a></li>
        <li><a href="#spark-streaming‰∏≠Â¶Ç‰ΩïÂÆûÁé∞Á≤æÂáÜ‰∏ÄÊ¨°Ê∂àË¥π">Spark Streaming‰∏≠Â¶Ç‰ΩïÂÆûÁé∞Á≤æÂáÜ‰∏ÄÊ¨°Ê∂àË¥π</a></li>
        <li><a href="#spark‰∏≠master-ÂÆûÁé∞haÊúâÂì™‰∫õÊñπÂºè">Spark‰∏≠Master ÂÆûÁé∞HAÊúâÂì™‰∫õÊñπÂºè</a></li>
        <li><a href="#spark-master‰ΩøÁî®zookeeperËøõË°åhaÊúâÂì™‰∫õÂÖÉÊï∞ÊçÆ‰øùÂ≠òÂú®zookeeper">Spark master‰ΩøÁî®zookeeperËøõË°åHAÔºåÊúâÂì™‰∫õÂÖÉÊï∞ÊçÆ‰øùÂ≠òÂú®Zookeeper?</a></li>
        <li><a href="#spark-master-ha-‰∏ª‰ªéÂàáÊç¢ËøáÁ®ã‰∏ç‰ºöÂΩ±ÂìçÈõÜÁæ§Â∑≤ÊúâÁöÑ‰Ωú‰∏öËøêË°å‰∏∫‰ªÄ‰πà">Spark master HA ‰∏ª‰ªéÂàáÊç¢ËøáÁ®ã‰∏ç‰ºöÂΩ±ÂìçÈõÜÁæ§Â∑≤ÊúâÁöÑ‰Ωú‰∏öËøêË°åÔºå‰∏∫‰ªÄ‰πàÔºü</a></li>
        <li><a href="#spark-masterÂ¶Ç‰ΩïÈÄöËøázookeeperÂÅöha">Spark masterÂ¶Ç‰ΩïÈÄöËøáZookeeperÂÅöHAÔºü</a></li>
        <li><a href="#ËØ¥ËØ¥spark-hashparitionerÁöÑÂºäÁ´ØÊòØ‰ªÄ‰πà">ËØ¥ËØ¥spark hashParitionerÁöÑÂºäÁ´ØÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#sparkËØªÂèñÊï∞ÊçÆÊòØÂá†‰∏™partitionÂë¢">SparkËØªÂèñÊï∞ÊçÆÔºåÊòØÂá†‰∏™PartitionÂë¢</a></li>
        <li><a href="#rangepartitionerÂàÜÂå∫ÁöÑÂéüÁêÜ">RangePartitionerÂàÜÂå∫ÁöÑÂéüÁêÜ</a></li>
        <li><a href="#rangepartionerÂàÜÂå∫Âô®ÁâπÁÇπ">RangePartionerÂàÜÂå∫Âô®ÁâπÁÇπ</a></li>
        <li><a href="#‰ªãÁªçparitionÂíåblockÊúâ‰ªÄ‰πàÂÖ≥ËÅîÂÖ≥Á≥ª">‰ªãÁªçparitionÂíåblockÊúâ‰ªÄ‰πàÂÖ≥ËÅîÂÖ≥Á≥ª</a></li>
        <li><a href="#‰ªÄ‰πàÊòØ‰∫åÊ¨°ÊéíÂ∫è‰Ω†ÊòØÂ¶Ç‰ΩïÁî®sparkÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫èÁöÑ‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢">‰ªÄ‰πàÊòØ‰∫åÊ¨°ÊéíÂ∫èÔºå‰Ω†ÊòØÂ¶Ç‰ΩïÁî®sparkÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫èÁöÑÔºüÔºà‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢Ôºâ</a></li>
        <li><a href="#Â¶Ç‰Ωï‰ΩøÁî®sparkËß£ÂÜ≥topnÈóÆÈ¢ò‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢">Â¶Ç‰Ωï‰ΩøÁî®SparkËß£ÂÜ≥TopNÈóÆÈ¢òÔºüÔºà‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢Ôºâ</a></li>
        <li><a href="#Â¶Ç‰Ωï‰ΩøÁî®sparkËß£ÂÜ≥ÂàÜÁªÑÊéíÂ∫èÈóÆÈ¢ò‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢">Â¶Ç‰Ωï‰ΩøÁî®SparkËß£ÂÜ≥ÂàÜÁªÑÊéíÂ∫èÈóÆÈ¢òÔºüÔºà‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢Ôºâ</a></li>
        <li><a href="#hadoop‰∏≠mapreduceÊìç‰ΩúÁöÑmapperÂíåreducerÈò∂ÊÆµÁõ∏ÂΩì‰∫éspark‰∏≠ÁöÑÂì™Âá†‰∏™ÁÆóÂ≠ê">Hadoop‰∏≠ÔºåMapreduceÊìç‰ΩúÁöÑmapperÂíåreducerÈò∂ÊÆµÁõ∏ÂΩì‰∫éspark‰∏≠ÁöÑÂì™Âá†‰∏™ÁÆóÂ≠êÔºü</a></li>
        <li><a href="#spark-shellÂêØÂä®Êó∂‰ºöÂêØÂä®derby">Spark shellÂêØÂä®Êó∂‰ºöÂêØÂä®derby</a></li>
        <li><a href="#‰ªãÁªç‰∏Ä‰∏ã‰Ω†ÂØπunified-memory-managementÂÜÖÂ≠òÁÆ°ÁêÜÊ®°ÂûãÁöÑÁêÜËß£">‰ªãÁªç‰∏Ä‰∏ã‰Ω†ÂØπUnified Memory ManagementÂÜÖÂ≠òÁÆ°ÁêÜÊ®°ÂûãÁöÑÁêÜËß£</a></li>
        <li><a href="#hbaseÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂíåsparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞Áõ∏Âêå‰πà">HBaseÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂíåSparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞Áõ∏Âêå‰πà</a></li>
        <li><a href="#ÁÆÄË¶Å‰ªãÁªç‰∏ãsparkÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ">ÁÆÄË¶Å‰ªãÁªç‰∏ãSparkÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ</a></li>
        <li><a href="#sparkËØªÂèñhdfs‰∏äÁöÑÊñá‰ª∂ÁÑ∂ÂêécountÊúâÂ§öÂ∞ëË°åÁöÑÊìç‰Ωú‰Ω†ÂèØ‰ª•ËØ¥ËØ¥ËøáÁ®ãÂêóÈÇ£Ëøô‰∏™countÊòØÂú®ÂÜÖÂ≠ò‰∏≠ËøòÊòØÁ£ÅÁõò‰∏≠ËÆ°ÁÆóÁöÑÂë¢">SparkËØªÂèñhdfs‰∏äÁöÑÊñá‰ª∂ÔºåÁÑ∂ÂêécountÊúâÂ§öÂ∞ëË°åÁöÑÊìç‰ΩúÔºå‰Ω†ÂèØ‰ª•ËØ¥ËØ¥ËøáÁ®ãÂêó„ÄÇÈÇ£Ëøô‰∏™countÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøòÊòØÁ£ÅÁõò‰∏≠ËÆ°ÁÆóÁöÑÂë¢</a></li>
        <li><a href="#hbase-regionÂ§öÂ§ß‰ºöÂàÜÂå∫sparkËØªÂèñhbaseÊï∞ÊçÆÊòØÂ¶Ç‰ΩïÂàíÂàÜpartitionÁöÑ">hbase regionÂ§öÂ§ß‰ºöÂàÜÂå∫ÔºåsparkËØªÂèñhbaseÊï∞ÊçÆÊòØÂ¶Ç‰ΩïÂàíÂàÜpartitionÁöÑ</a></li>
        <li><a href="#ËØ¥ËØ¥blockmanagerÊÄé‰πàÁÆ°ÁêÜÁ°¨ÁõòÂíåÂÜÖÂ≠òÁöÑ">ËØ¥ËØ¥BlockManagerÊÄé‰πàÁÆ°ÁêÜÁ°¨ÁõòÂíåÂÜÖÂ≠òÁöÑ</a></li>
        <li><a href="#Âàó‰∏æspark‰∏≠Â∏∏ËßÅÁöÑÁ´ØÂè£ÂàÜÂà´Êúâ‰ªÄ‰πàÂäüËÉΩ">Âàó‰∏æSpark‰∏≠Â∏∏ËßÅÁöÑÁ´ØÂè£ÔºåÂàÜÂà´Êúâ‰ªÄ‰πàÂäüËÉΩ</a></li>
        <li><a href="#ÈõÜÁæ§‰∏änodemanagerÂíåresourcemanagerÁöÑÊï∞ÈáèÂÖ≥Á≥ª">ÈõÜÁæ§‰∏änodemanagerÂíåResourceManagerÁöÑÊï∞ÈáèÂÖ≥Á≥ª</a></li>
        <li><a href="#spark-Â¶Ç‰ΩïÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫">Spark Â¶Ç‰ΩïÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫</a></li>
        <li><a href="#sparkÁöÑÈÄö‰ø°ÊñπÂºè">SparkÁöÑÈÄö‰ø°ÊñπÂºè</a></li>
        <li><a href="#sparkÂ¶Ç‰ΩïÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆsparkÂ¶Ç‰ΩïÂ§ÑÁêÜÈùûÁªìÊûÑËØùÊï∞ÊçÆ">SparkÂ¶Ç‰ΩïÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆÔºåSparkÂ¶Ç‰ΩïÂ§ÑÁêÜÈùûÁªìÊûÑËØùÊï∞ÊçÆÔºü</a></li>
        <li><a href="#ÂØπ‰∫éspark‰Ω†ËßâÂæó‰ªñÂØπ‰∫éÁé∞ÊúâÂ§ßÊï∞ÊçÆÁöÑÁé∞Áä∂ÁöÑ‰ºòÂäøÂíåÂä£ÂäøÂú®Âì™Èáå">ÂØπ‰∫éSpark‰Ω†ËßâÂæó‰ªñÂØπ‰∫éÁé∞ÊúâÂ§ßÊï∞ÊçÆÁöÑÁé∞Áä∂ÁöÑ‰ºòÂäøÂíåÂä£ÂäøÂú®Âì™Èáå</a></li>
        <li><a href="#ÁÆÄË¶ÅÊèèËø∞‰Ω†‰∫ÜËß£ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÊåñÊéòÁÆóÊ≥ï‰∏éÂÜÖÂÆπ">ÁÆÄË¶ÅÊèèËø∞‰Ω†‰∫ÜËß£ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÊåñÊéòÁÆóÊ≥ï‰∏éÂÜÖÂÆπ</a></li>
        <li><a href="#spark-streaming‰∏≠ÂØπÊé•ÁöÑsocketÁöÑÁºìÂ≠òÁ≠ñÁï•ÊòØ‰ªÄ‰πà">Spark Streaming‰∏≠ÂØπÊé•ÁöÑsocketÁöÑÁºìÂ≠òÁ≠ñÁï•ÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#mapreduceÂíåsparkÁöÑÁõ∏ÂêåÂíåÂå∫Âà´">MapreduceÂíåSparkÁöÑÁõ∏ÂêåÂíåÂå∫Âà´</a></li>
        <li><a href="#ÂØπrdddagÂíåtaskÁöÑÁêÜËß£">ÂØπRDD„ÄÅDAGÂíåTaskÁöÑÁêÜËß£</a></li>
        <li><a href="#dag‰∏∫‰ªÄ‰πàÈÄÇÂêàspark">DAG‰∏∫‰ªÄ‰πàÈÄÇÂêàSpark</a></li>
        <li><a href="#‰ªãÁªç‰∏ãsparkÁöÑdag‰ª•ÂèäÂÆÉÁöÑÁîüÊàêËøáÁ®ã">‰ªãÁªç‰∏ãSparkÁöÑDAG‰ª•ÂèäÂÆÉÁöÑÁîüÊàêËøáÁ®ã</a></li>
        <li><a href="#dagschedulerÂ¶Ç‰ΩïÂàíÂàÜÂπ≤‰∫Ü‰ªÄ‰πàÊ¥ª">DAGSchedulerÂ¶Ç‰ΩïÂàíÂàÜÔºüÂπ≤‰∫Ü‰ªÄ‰πàÊ¥ª</a></li>
        <li><a href="#sparkÁöÑÂÆπÈîôÊú∫Âà∂">SparkÁöÑÂÆπÈîôÊú∫Âà∂</a></li>
        <li><a href="#rddÁöÑÂÆπÈîô">RDDÁöÑÂÆπÈîô</a></li>
        <li><a href="#executorÂÜÖÂ≠òÂàÜÈÖç">ExecutorÂÜÖÂ≠òÂàÜÈÖç</a></li>
        <li><a href="#sparkÁöÑbatchsizeÊÄé‰πàËß£ÂÜ≥Â∞èÊñá‰ª∂ÂêàÂπ∂ÈóÆÈ¢ò">SparkÁöÑbatchsizeÔºåÊÄé‰πàËß£ÂÜ≥Â∞èÊñá‰ª∂ÂêàÂπ∂ÈóÆÈ¢ò</a></li>
        <li><a href="#sparkÂèÇÊï∞ÊÄßËÉΩË∞É‰ºò">SparkÂèÇÊï∞(ÊÄßËÉΩ)Ë∞É‰ºò</a></li>
        <li><a href="#‰ªãÁªç‰∏Ä‰∏ãsparkÊòØÊÄé‰πàÂü∫‰∫éÂÜÖÂ≠òËÆ°ÁÆóÁöÑ">‰ªãÁªç‰∏Ä‰∏ãSparkÊòØÊÄé‰πàÂü∫‰∫éÂÜÖÂ≠òËÆ°ÁÆóÁöÑ</a></li>
        <li><a href="#ËØ¥‰∏ã‰ªÄ‰πàÊòØrddÂØπrddÁöÑÁêÜËß£rddÊúâÂì™‰∫õÁâπÁÇπËØ¥‰∏ãÁü•ÈÅìÁöÑrddÁÆóÂ≠ê">ËØ¥‰∏ã‰ªÄ‰πàÊòØRDD(ÂØπRDDÁöÑÁêÜËß£)ÔºåRDDÊúâÂì™‰∫õÁâπÁÇπÔºüËØ¥‰∏ãÁü•ÈÅìÁöÑRDDÁÆóÂ≠ê</a></li>
        <li><a href="#rddÂ∫ïÂ±ÇÂéüÁêÜ">RDDÂ∫ïÂ±ÇÂéüÁêÜ</a></li>
        <li><a href="#rddÂ±ûÊÄß">RDDÂ±ûÊÄß</a></li>
        <li><a href="#rddÁöÑÁºìÂ≠òÁ∫ßÂà´">RDDÁöÑÁºìÂ≠òÁ∫ßÂà´</a></li>
        <li><a href="#sparkÂπøÊí≠ÂèòÈáèÁöÑÂÆûÁé∞ÂíåÂéüÁêÜ">SparkÂπøÊí≠ÂèòÈáèÁöÑÂÆûÁé∞ÂíåÂéüÁêÜ</a></li>
        <li><a href="#reducebykeyÂíågroupbykeyÁöÑÂå∫Âà´Âíå‰ΩúÁî®">reduceByKeyÂíågroupByKeyÁöÑÂå∫Âà´Âíå‰ΩúÁî®</a></li>
        <li><a href="#reducebykeyÂíåreduceÁöÑÂå∫Âà´">reduceByKeyÂíåreduceÁöÑÂå∫Âà´</a></li>
        <li><a href="#‰ΩøÁî®reducebykeyÂá∫Áé∞Êï∞ÊçÆÂÄæÊñúÊÄé‰πàÂäû">‰ΩøÁî®reduceByKeyÂá∫Áé∞Êï∞ÊçÆÂÄæÊñúÊÄé‰πàÂäû</a></li>
        <li><a href="#sparksqlÁöÑÊâßË°åÂéüÁêÜ">SparkSQLÁöÑÊâßË°åÂéüÁêÜ</a></li>
        <li><a href="#sparksqlÁöÑ‰ºòÂåñ">SparkSQLÁöÑ‰ºòÂåñ</a></li>
        <li><a href="#ËØ¥‰∏ãspark-checkpoint">ËØ¥‰∏ãSpark checkpoint</a></li>
        <li><a href="#sparksqlËá™ÂÆö‰πâÂáΩÊï∞ÊÄé‰πàÂàõÂª∫dataframe">SparksqlËá™ÂÆö‰πâÂáΩÊï∞ÔºüÊÄé‰πàÂàõÂª∫DataFrame</a></li>
        <li><a href="#hashpartitionerÂíårangepartitionerÁöÑÂÆûÁé∞">HashPartitionerÂíåRangePartitionerÁöÑÂÆûÁé∞</a></li>
        <li><a href="#dagschedulertaskschedulerschedulerbackendÂÆûÁé∞ÂéüÁêÜ">DAGScheduler„ÄÅTaskScheduler„ÄÅSchedulerBackendÂÆûÁé∞ÂéüÁêÜ</a></li>
        <li><a href="#driverÊÄé‰πàÁÆ°ÁêÜexecutor">DriverÊÄé‰πàÁÆ°ÁêÜexecutor</a></li>
        <li><a href="#sparkÁöÑmapÂíåflatmapÁöÑÂå∫Âà´">SparkÁöÑmapÂíåflatmapÁöÑÂå∫Âà´</a></li>
        <li><a href="#mapÂíåmappartitionÁöÑÂå∫Âà´">mapÂíåmapPartitionÁöÑÂå∫Âà´</a></li>
        <li><a href="#sparkÁöÑcacheÂíåpersistÁöÑÂå∫Âà´ÂÆÉ‰ª¨ÊòØtransformationÁÆóÂ≠êËøòÊòØactionÁÆóÂ≠ê">SparkÁöÑcacheÂíåpersistÁöÑÂå∫Âà´ÔºüÂÆÉ‰ª¨ÊòØtransformationÁÆóÂ≠êËøòÊòØactionÁÆóÂ≠êÔºü</a></li>
        <li><a href="#sparkstreamingÁöÑÂ∑•‰ΩúÂéüÁêÜ">SparkStreamingÁöÑÂ∑•‰ΩúÂéüÁêÜ</a></li>
        <li><a href="#spark-streamingÁöÑdstreamÂíådstreamgraphÁöÑÂå∫Âà´">Spark StreamingÁöÑDStreamÂíåDStreamGraphÁöÑÂå∫Âà´</a></li>
        <li><a href="#sparkËæìÂá∫Êñá‰ª∂ÁöÑ‰∏™Êï∞Â¶Ç‰ΩïÂêàÂπ∂Â∞èÊñá‰ª∂">SparkËæìÂá∫Êñá‰ª∂ÁöÑ‰∏™Êï∞ÔºåÂ¶Ç‰ΩïÂêàÂπ∂Â∞èÊñá‰ª∂</a></li>
        <li><a href="#sparkÁöÑdriverÊòØÊÄé‰πàÈ©±Âä®‰Ωú‰∏öÊµÅÁ®ãÁöÑ">SparkÁöÑdriverÊòØÊÄé‰πàÈ©±Âä®‰Ωú‰∏öÊµÅÁ®ãÁöÑ</a></li>
        <li><a href="#sparksqlÁöÑÂä£Âäø">SparkSQLÁöÑÂä£Âäø</a></li>
        <li><a href="#dagÂàíÂàÜsparkÊ∫êÁ†ÅÂÆûÁé∞">DAGÂàíÂàÜSparkÊ∫êÁ†ÅÂÆûÁé∞</a></li>
        <li><a href="#spark-steamingÁöÑÂèåÊµÅjoinÁöÑËøáÁ®ãÊÄé‰πàÂÅöÁöÑ">Spark SteamingÁöÑÂèåÊµÅjoinÁöÑËøáÁ®ãÔºåÊÄé‰πàÂÅöÁöÑ</a></li>
        <li><a href="#sparkÁöÑblockÁÆ°ÁêÜ">SparkÁöÑBlockÁÆ°ÁêÜ</a></li>
        <li><a href="#sparkÊÄé‰πà‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±">SparkÊÄé‰πà‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±</a></li>
        <li><a href="#sparksqlÂ¶Ç‰Ωï‰ΩøÁî®udf">SparkSQLÂ¶Ç‰Ωï‰ΩøÁî®UDF</a></li>
        <li><a href="#sparksqlËØªÂèñÊñá‰ª∂ÂÜÖÂ≠ò‰∏çÂ§ü‰ΩøÁî®Â¶Ç‰ΩïÂ§ÑÁêÜ">SparkSQLËØªÂèñÊñá‰ª∂ÔºåÂÜÖÂ≠ò‰∏çÂ§ü‰ΩøÁî®ÔºåÂ¶Ç‰ΩïÂ§ÑÁêÜ</a></li>
        <li><a href="#sparkÁöÑlazyÊèêÁé∞Âú®Âì™Èáå">SparkÁöÑlazyÊèêÁé∞Âú®Âì™Èáå</a></li>
        <li><a href="#spark‰∏≠ÁöÑÂπ∂Ë°åÂ∫¶Á≠â‰∫é‰ªÄ‰πà">Spark‰∏≠ÁöÑÂπ∂Ë°åÂ∫¶Á≠â‰∫é‰ªÄ‰πà</a></li>
        <li><a href="#sparkËøêË°åÊó∂Âπ∂Ë°åÂ∫¶ÁöÑËÆæÁΩÆ">SparkËøêË°åÊó∂Âπ∂Ë°åÂ∫¶ÁöÑËÆæÁΩÆ</a></li>
        <li><a href="#sparksqlÁöÑÊï∞ÊçÆÂÄæÊñú">SparkSQLÁöÑÊï∞ÊçÆÂÄæÊñú</a></li>
        <li><a href="#sparkÁöÑexactly-one">SparkÁöÑexactly-one</a></li>
        <li><a href="#sparkÁöÑrddÂíåpartitionÁöÑËÅîÁ≥ª">SparkÁöÑRDDÂíåpartitionÁöÑËÅîÁ≥ª</a></li>
        <li><a href="#spark3ÁöÑÁâπÊÄß">Spark3ÁöÑÁâπÊÄß</a></li>
        <li><a href="#spakrËÆ°ÁÆóÁöÑÁÅµÊ¥ªÊÄßÊèêÁé∞Âú®Âì™Èáå">SpakrËÆ°ÁÆóÁöÑÁÅµÊ¥ªÊÄßÊèêÁé∞Âú®Âì™Èáå</a></li>
      </ol>
    </li>
    <li><a href="#ÂÆûÊàò">ÂÆûÊàò</a>
      <ol>
        <li><a href="#sparkÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÂ¶Ç‰ΩïÂÆö‰ΩçËß£ÂÜ≥ÊñπÊ°à">SparkÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÂÆö‰ΩçÔºåËß£ÂÜ≥ÊñπÊ°à</a></li>
        <li><a href="#sparkÊèê‰∫§‰Ω†ÁöÑjarÂåÖÊó∂ÊâÄÁî®ÁöÑÂëΩ‰ª§ÊòØ‰ªÄ‰πà">SparkÊèê‰∫§‰Ω†ÁöÑjarÂåÖÊó∂ÊâÄÁî®ÁöÑÂëΩ‰ª§ÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#spark-submitÁöÑÊó∂ÂÄôÂ¶Ç‰ΩïÂºïÂÖ•Â§ñÈÉ®jarÂåÖ">spark-submitÁöÑÊó∂ÂÄôÂ¶Ç‰ΩïÂºïÂÖ•Â§ñÈÉ®jarÂåÖ</a></li>
        <li><a href="#‰Ω†Â¶Ç‰Ωï‰ªékafka‰∏≠Ëé∑ÂèñÊï∞ÊçÆ">‰Ω†Â¶Ç‰Ωï‰ªéKafka‰∏≠Ëé∑ÂèñÊï∞ÊçÆ</a></li>
        <li><a href="#spark-streamingÂØπÊé•kafka‰∏§ÁßçÊï¥ÂêàÊñπÂºèÁöÑÂå∫Âà´">Spark StreamingÂØπÊé•Kafka‰∏§ÁßçÊï¥ÂêàÊñπÂºèÁöÑÂå∫Âà´</a></li>
        <li><a href="#Â¶Ç‰ΩïÈÖçÁΩÆspark-masterÁöÑha">Â¶Ç‰ΩïÈÖçÁΩÆSpark masterÁöÑHA</a></li>
        <li><a href="#Âú®‰∏Ä‰∏™‰∏çÁ°ÆÂÆöÁöÑÊï∞ÊçÆËßÑÊ®°ÁöÑËåÉÂõ¥ÂÜÖËøõË°åÊéíÂ∫èÂèØ‰ª•ÈááÁî®‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ï">Âú®‰∏Ä‰∏™‰∏çÁ°ÆÂÆöÁöÑÊï∞ÊçÆËßÑÊ®°ÁöÑËåÉÂõ¥ÂÜÖËøõË°åÊéíÂ∫èÂèØ‰ª•ÈááÁî®‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ï</a></li>
        <li><a href="#sparkÂ¶Ç‰ΩïËá™ÂÆö‰πâpartitionerÂàÜÂå∫Âô®">SparkÂ¶Ç‰ΩïËá™ÂÆö‰πâpartitionerÂàÜÂå∫Âô®</a></li>
        <li><a href="#‰ΩøÁî®shellÂíåscala‰ª£Á†ÅÂÆûÁé∞wordcount">‰ΩøÁî®shellÂíåscala‰ª£Á†ÅÂÆûÁé∞WordCount</a></li>
        <li><a href="#ÊÄé‰πàÁî®sparkÂÅöÊï∞ÊçÆÊ∏ÖÊ¥ó">ÊÄé‰πàÁî®SparkÂÅöÊï∞ÊçÆÊ∏ÖÊ¥ó</a></li>
        <li><a href="#ËØ¥ËØ¥sparkÊÄé‰πàÊï¥Âêàhive">ËØ¥ËØ¥SparkÊÄé‰πàÊï¥Âêàhive</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/">
                <img src="/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/nevada-8338929_1280_hu12942515254112204139.jpg"
                        srcset="/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/nevada-8338929_1280_hu12942515254112204139.jpg 800w, /p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/nevada-8338929_1280_hu2070711175736809333.jpg 1600w"
                        width="800" 
                        height="533" 
                        loading="lazy"
                        alt="Featured image of post SparkÈù¢ËØï‰∏ÄÊñáÈÄö" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/" style="background-color: #2a9d8f; color: #fff;">
                Èù¢ËØï‰∏ìÈ¢ò
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/spark%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/">SparkÈù¢ËØï‰∏ÄÊñáÈÄö</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-03-12</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 92 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="È´òÈ¢ë">È´òÈ¢ë
</h2><h3 id="ËØ¥ËØ¥rdddataframedataset‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª">ËØ¥ËØ¥RDD„ÄÅDataFrame„ÄÅDataSet‰∏âËÄÖÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª
</h3><p>RDD (Spark1.0) ‚Äî&gt; Dataframe(Spark1.3) ‚Äî&gt; Dataset(Spark1.6)</p>
<p>SparkÊúÄÂºÄÂßãÂè™Êèê‰æõ‰∫ÜRDDÔºåRDDÂÆÉÊòØSpark‰∏≠ÊúÄÂü∫Êú¨ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊ®°ÂûãÔºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ÂºπÊÄß„ÄÅ‰∏çÂèØÂèò„ÄÅÂèØÂàÜÂå∫„ÄÅÈáåÈù¢ÁöÑÂÖÉÁ¥†ÂèØËøõË°åËÆ°ÁÆóÁöÑÈõÜÂêà„ÄÇ‰ΩÜÂÆÉÁöÑÁº∫ÁÇπ‰πüÂæàÊòéÊòæÔºåÂ∞±ÊòØÊó†Ê≥ïËé∑ÂèñÂà∞ÊâÄÂ≠òÂÖÉÁ¥†ÁöÑÂÖ∑‰ΩìÁªìÊûÑÔºåÂõ†Ê≠§SparkÂºïÂÖ•‰∫ÜDataFrameÔºåDataFrameÈô§‰∫ÜËÆ∞ÂΩïÊï∞ÊçÆËøòËÆ∞ÂΩï‰∫ÜÊï∞ÊçÆÁöÑÁªìÊûÑ‰ø°ÊÅØschemaÔºåÂèØ‰ª•ÊääÂÆÉÂΩìÂÅöÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÂº†Ë°®Êù•ÂØπÂæÖ„ÄÇÁõ∏ÊØîRDDÊù•ËØ¥ÊÄßËÉΩÊõ¥È´ò„ÄÅAPI‰ΩøÁî®Êõ¥Âä†ÂèãÂ•ΩÔºåÈó®ÊßõÊõ¥‰Ωé„ÄÇDataFrameÂèØ‰ª•Âü∫‰∫éÂ∑≤ÊúâÁöÑ‰ø°ÊÅØÂÅöRBOÂ±ÇÈù¢ÁöÑ‰ºòÂåñÔºå‰æãÂ¶ÇË∞ìËØç‰∏ãÊé®‰πüÂ∞±ÊòØfilterÂâçÁΩÆ„ÄÅÂàóË£ÅÂâ™„ÄÅÂàÜÂå∫Ë£ÅÂâ™Á≠âÔºåÂπ∂‰∏îÊï∞ÊçÆÂèØ‰ª•‰ª•‰∫åËøõÂà∂ÁöÑÊñπÂºèÂ≠òÂú®ÈùûÂ†ÜÂÜÖÂ≠òÔºåÊëÜËÑ±GCÁöÑÈôêÂà∂ÊèêÂçáÊÄßËÉΩ„ÄÇ‰ΩÜDataFrameÂè™ËÉΩË°®Á§∫‰∏Ä‰∏™Ë°®ÂØπË±°ÔºåËÄåÂú®‰∏öÂä°‰∏≠‰ºöÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂØπË±°ÔºåÂõ†Ê≠§SparkÂèàÂ¢ûÂä†‰∫ÜDataSetÁöÑÊîØÊåÅÔºåDataSetÊîØÊåÅ‰ªªÊÑèÂØπË±°Âπ∂‰∏îÂÖ∑ÊúâDataFrameÁöÑÊâÄÊúâ‰ºòÂäøÔºåÂèØ‰ª•ÊääDataFrameÁúãÂÅöDataSetÁöÑ‰∏Ä‰∏™Áâπ‰æãÔºåRDD„ÄÅDataframe„ÄÅDataset‰∏âËÄÖ‰πãÈó¥ÂèØ‰ª•‰∫íÁõ∏ËΩ¨Êç¢„ÄÇ</p>
<p>DataFrame Âè™ËÉΩÂÅöÂà∞ËøêË°åÊó∂Á±ªÂûãÊ£ÄÊü•, DataSet ËÉΩÂÅöÂà∞ÁºñËØëÂíåËøêË°åÊó∂ÈÉΩÊúâÁ±ªÂûãÊ£ÄÊü•„ÄÇ</p>
<h3 id="sparkÁöÑstageÂàíÂàÜ">SparkÁöÑStageÂàíÂàÜ
</h3><p>Spark‰ºöÂ∞ÜJob‰Ωú‰∏öÊ†πÊçÆÂÆΩ‰æùËµñÂàíÂàÜ‰∏∫Â§ö‰∏™StageÔºåÊØè‰∏™StageÂåÖÂê´‰∏ÄÁªÑÂèØ‰ª•Âπ∂Ë°åÊâßË°åÁöÑTask‰ªªÂä°„ÄÇ</p>
<p>ÂÆÉÁöÑÂàíÂàÜÊµÅÁ®ãÊòØËøôÊ†∑ÔºåÈ¶ñÂÖà‰ºö‰ªéÊúÄÁªàÁöÑRDDÂºÄÂßãÔºåÊ†πÊçÆË°ÄÁºòÂÖ≥Á≥ª(Lineage)ÈÄÜÂêëÈÅçÂéÜRDDÔºåÈÅáÂà∞Á™Ñ‰æùËµñÊó∂Â∞±ÁªßÁª≠Âêë‰∏äÈÅçÂéÜÔºåÈÅáÂà∞ÂÆΩ‰æùËµñÊó∂ÔºåÂ∞ÜÂΩìÂâçÂ∑≤ÁªèÈÅçÂéÜËøáÁöÑRDDÂàíÂàÜ‰∏∫‰∏Ä‰∏™StageÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑStageÈáçÂ§ç‰∏äËØâËøáÁ®ãÔºåÁõ¥Âà∞ÈÅçÂéÜÂÆåÊâÄÊúâÁöÑRDD„ÄÇ</p>
<p>Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî® groupByKey Á≠âÂÆΩ‰æùËµñÊìç‰ΩúÔºåÊîπÁî® reduceByKey Á≠âÁ™Ñ‰æùËµñÊìç‰Ωú„ÄÇÂêåÊó∂ÂèØ‰ª•ÈÄöËøá Spark UI Êü•Áúã‰Ωú‰∏öÁöÑÈò∂ÊÆµÂàíÂàÜÂíå‰ªªÂä°ÊâßË°åÊÉÖÂÜµÔºå‰ª•ÂèäÊü•Áúã Driver Âíå Executor ÁöÑÊó•ÂøóÔºåÂàÜÊûêÈò∂ÊÆµÂàíÂàÜÂíå‰ªªÂä°ÊâßË°åÁöÑÊÄßËÉΩÁì∂È¢à„ÄÇ</p>
<h3 id="‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºö‰∫ßÁîüspark-shuffle">‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºö‰∫ßÁîüSpark Shuffle
</h3><p>ÂÆΩ‰æùËµñÊìç‰Ωú‰ºöÂØºËá¥ ShuffleÔºåÂõ†‰∏∫Êï∞ÊçÆÈúÄË¶ÅÈáçÊñ∞ÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑÂàÜÂå∫Ôºå‰æãÂ¶ÇgroupByKey„ÄÅreduceByKey„ÄÅjoin„ÄÅcogroup„ÄÅdistinct„ÄÅrepartition„ÄÅsortByKey„ÄÇ</p>
<p>Êàë‰ª¨Â∫îÂΩìÂ∞ΩÈáèÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑshuffleÊàñËÄÖË¶ÅÂØπshuffleÂÅö‰∫õË∞É‰ºòÔºå‰æãÂ¶Ç‰ΩøÁî®ÂπøÊí≠JOIN„ÄÅ‰ΩøÁî® reduceByKey ‰ª£Êõø groupByKey(reduceByKey Âú® Map Á´ØËøõË°åÂ±ÄÈÉ®ËÅöÂêàÔºåÂáèÂ∞ë‰∫Ü Shuffle Êï∞ÊçÆÈáè)„ÄÅ‰ºòÂåñÂàÜÂå∫Êï∞„ÄÅ‰ΩøÁî®ÁºìÂ≠òÁ≠â„ÄÇÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑ ShuffleÔºåÊòØ‰ºòÂåñ Spark ‰Ωú‰∏öÊÄßËÉΩÁöÑÂÖ≥ÈîÆÔºåÈÄöËøáÂêàÁêÜËÆæËÆ°Êï∞ÊçÆÂ§ÑÁêÜÈÄªËæëÂíå‰ºòÂåñÈÖçÁΩÆÔºåÂèØ‰ª•ÊòæËëóÂáèÂ∞ë Shuffle ÁöÑÂºÄÈîÄ„ÄÇ</p>
<h3 id="spark‰∏≠lineageÁöÑÂü∫Êú¨ÂéüÁêÜ">Spark‰∏≠LineageÁöÑÂü∫Êú¨ÂéüÁêÜ
</h3><p>Âú®Spark‰∏≠ÔºåLineageÔºàË°ÄÁªüÔºâÊòØ‰∏ÄÁßçËÆ∞ÂΩïRDD‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÁöÑÊú∫Âà∂„ÄÇÊØè‰∏Ä‰∏™ RDD ÈÉΩÊòØ‰∏Ä‰∏™‰∏çÂèØÂèòÁöÑÂàÜÂ∏ÉÂºèÂèØÈáçÁÆóÁöÑÊï∞ÊçÆÈõÜÔºåÂÆÉËÆ∞ÂΩïÁùÄÁ°ÆÂÆöÊÄßÁöÑÊìç‰Ωú‰ª•ÂèäÁªßÊâøÂÖ≥Á≥ªÔºå‰ªªÊÑè‰∏Ä‰∏™ RDD ÁöÑÂàÜÂå∫Âá∫ÈîôÊàñ‰∏çÂèØÁî®ÔºåÈÉΩÊòØÂèØ‰ª•Âà©Áî®ÂéüÂßãËæìÂÖ•Êï∞ÊçÆÈÄöËøáËΩ¨Êç¢Êìç‰ΩúËÄåÈáçÊñ∞ÁÆóÂá∫ÁöÑÔºåÂÆÉÊòØSparkÂÆûÁé∞ÂÆπÈîôÊÄßÂíåÊï∞ÊçÆÊÅ¢Â§çÁöÑÂÖ≥ÈîÆ„ÄÇ</p>
<p>LineageÁöÑÂü∫Êú¨ÂéüÁêÜÂ¶Ç‰∏ãÔºö</p>
<ol>
<li><strong>RDDÁöÑÂàõÂª∫</strong> ÔºöÂΩìÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™RDDÊó∂ÔºåSpark‰ºöÂ∞ÜÂÖ∂ÂàùÂßãÊï∞ÊçÆÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàóÁöÑÂàÜÂå∫ÔºåÂπ∂Â∞ÜËøô‰∫õÂàÜÂå∫ÁöÑÂÖÉÊï∞ÊçÆ‰øùÂ≠òÂú®Lineage‰∏≠„ÄÇ</li>
<li><strong>ËΩ¨Êç¢Êìç‰Ωú</strong> ÔºöÂΩìÊàë‰ª¨ÂØπRDDËøõË°åËΩ¨Êç¢Êìç‰ΩúÔºàÂ¶Çmap„ÄÅfilter„ÄÅreduceÁ≠âÔºâÔºåSpark‰ºöÊ†πÊçÆËΩ¨Êç¢Êìç‰ΩúÁöÑÈÄªËæëÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑRDDÔºåÂπ∂Â∞ÜËøô‰∏™ËΩ¨Êç¢Êìç‰ΩúÊ∑ªÂä†Âà∞ÂΩìÂâçRDDÁöÑLineage‰∏≠„ÄÇ</li>
<li><strong>ÂÆΩ‰æùËµñÂíåÁ™Ñ‰æùËµñ</strong> ÔºöÂΩì‰∏Ä‰∏™RDD‰æùËµñ‰∫éÂ§ö‰∏™Áà∂RDDÊó∂ÔºåÁß∞‰∏∫ÂÆΩ‰æùËµñÔºõÂΩì‰∏Ä‰∏™RDDÂè™‰æùËµñ‰∫é‰∏Ä‰∏™Áà∂RDDÊó∂ÔºåÁß∞‰∏∫Á™Ñ‰æùËµñ„ÄÇSparkÈÄöËøáËøôÁßç‰æùËµñÂÖ≥Á≥ªÊù•ÊûÑÂª∫RDD‰πãÈó¥ÁöÑÊúâÂêëÊó†ÁéØÂõæÔºàDAGÔºâ„ÄÇ</li>
<li><strong>ÂÆπÈîôÊÄßÂíåÊï∞ÊçÆÊÅ¢Â§ç</strong> ÔºöÂΩìÊüê‰∏™RDDÂàÜÂå∫Êï∞ÊçÆ‰∏¢Â§±ÊàñËäÇÁÇπÂ§±Ë¥•Êó∂ÔºåSparkÂèØ‰ª•Ê†πÊçÆLineageÈáçÊñ∞ËÆ°ÁÆó‰∏¢Â§±ÁöÑÂàÜÂå∫„ÄÇÂÆÉ‰ºöÈÅçÂéÜRDDÁöÑLineageÔºåÊ†πÊçÆ‰æùËµñÂÖ≥Á≥ªÈÄêÁ∫ßËÆ°ÁÆóÁº∫Â§±ÁöÑÂàÜÂå∫ÔºåÁõ¥Âà∞ËææÂà∞ÂéüÂßãÊï∞ÊçÆÁöÑÊù•Ê∫ê„ÄÇ</li>
</ol>
<p>ÈÄöËøá‰ΩøÁî®LineageÔºåSparkÂèØ‰ª•ÂÆûÁé∞ÂÆπÈîôÊÄßÂíåÊï∞ÊçÆÊÅ¢Â§ç„ÄÇÂΩìËäÇÁÇπÂ§±Ë¥•ÊàñÊï∞ÊçÆ‰∏¢Â§±Êó∂ÔºåSparkÂèØ‰ª•Ê†πÊçÆLineageÈáçÊñ∞ËÆ°ÁÆó‰∏¢Â§±ÁöÑÊï∞ÊçÆÔºåËÄåÊó†ÈúÄÈáçÊñ∞ËÆ°ÁÆóÊï¥‰∏™RDDÔºå‰ªéËÄåÊèêÈ´ò‰∫ÜËÆ°ÁÆóÊïàÁéáÂíåÂèØÈù†ÊÄß„ÄÇ</p>
<p>Â¶ÇÊûú‰∏Ä‰∏™ÂàÜÂå∫Âá∫Èîô‰∫ÜÔºöÂØπ‰∫éÁ™Ñ‰æùËµñÔºåÂàôÂè™Ë¶ÅÊää‰∏¢Â§±ÁöÑÁà∂ RDD ÂàÜÂå∫ÈáçÁÆóÂç≥ÂèØÔºå‰∏ç‰æùËµñ‰∫éÂÖ∂‰ªñÂàÜÂå∫ÔºõÂØπ‰∫éÂÆΩ‰æùËµñÔºåÂàôÁà∂ RDD ÁöÑÊâÄÊúâÂàÜÂå∫ÈÉΩÈúÄË¶ÅÈáçÁÆóÔºå‰ª£‰ª∑ÊòÇË¥µÔºõÊâÄ‰ª•Âú®Èïø‚ÄúË°ÄÁªü‚ÄùÈìæÁâπÂà´ÊòØÊúâÂÆΩ‰æùËµñÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂú®ÈÄÇÂΩìÁöÑÊó∂Êú∫ËÆæÁΩÆÊï∞ÊçÆÊ£ÄÊü•ÁÇπ„ÄÇ</p>
<h3 id="‰ªãÁªç‰∏Ä‰∏ãspark-sqlËß£ÊûêËøáÁ®ã">‰ªãÁªç‰∏Ä‰∏ãSpark SQLËß£ÊûêËøáÁ®ã
</h3><p>Spark SQLÊòØApache Spark‰∏≠ÁöÑ‰∏Ä‰∏™Ê®°ÂùóÔºåÁî®‰∫éÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆ„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áî®‰∫éÊü•ËØ¢Êï∞ÊçÆÁöÑÁªü‰∏ÄÁºñÁ®ãÊé•Âè£ÔºåÂπ∂ÊîØÊåÅSQLÊü•ËØ¢ÂíåDataFrame API„ÄÇSpark SQLÁöÑËß£ÊûêËøáÁ®ãÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>
<ol>
<li><strong>ËæìÂÖ•SQLÊü•ËØ¢ÊàñDataFrameÊìç‰Ωú</strong> ÔºöÁî®Êà∑ÂèØ‰ª•‰ΩøÁî®SQLËØ≠Âè•ÊàñDataFrameÊìç‰ΩúÊù•ÊèèËø∞‰ªñ‰ª¨ÊÉ≥Ë¶ÅÊâßË°åÁöÑÊü•ËØ¢ÊàñËΩ¨Êç¢Êìç‰Ωú„ÄÇ</li>
<li><strong>Ëß£ÊûêÂô®ÔºàParserÔºâ</strong> ÔºöSpark SQLÈ¶ñÂÖà‰ΩøÁî®Ëß£ÊûêÂô®Â∞ÜËæìÂÖ•ÁöÑSQLÊü•ËØ¢ÊàñDataFrameÊìç‰ΩúËΩ¨Êç¢‰∏∫ÈÄªËæëËÆ°Âàí„ÄÇËß£ÊûêÂô®Ë¥üË¥£Â∞ÜËæìÂÖ•ÁöÑÊü•ËØ¢ËØ≠Âè•ÊàñÊìç‰ΩúËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÊäΩË±°ËØ≠Ê≥ïÊ†ëÔºàASTÔºâË°®Á§∫„ÄÇ</li>
<li><strong>ËØ≠‰πâÂàÜÊûêÂô®ÔºàSemantic AnalyzerÔºâ</strong> ÔºöÂú®Ëß£ÊûêÂÆåÊàêÂêéÔºåSpark SQL‰ΩøÁî®ËØ≠‰πâÂàÜÊûêÂô®ÂØπASTËøõË°åÂ§ÑÁêÜ„ÄÇËØ≠‰πâÂàÜÊûêÂô®Ë¥üË¥£È™åËØÅÊü•ËØ¢ËØ≠Âè•ÁöÑËØ≠Ê≥ïÂíåËØ≠‰πâÁöÑÊ≠£Á°ÆÊÄßÔºåÂåÖÊã¨Ê£ÄÊü•Ë°®ÂíåÂàóÁöÑÂ≠òÂú®ÊÄß„ÄÅËß£ÊûêÂáΩÊï∞ÂíåË°®ËææÂºèÔºåÂπ∂ËøõË°åÁ±ªÂûãÊ£ÄÊü•Á≠â„ÄÇ</li>
<li><strong>ÈÄªËæë‰ºòÂåñÂô®ÔºàLogical OptimizerÔºâ</strong> ÔºöÂú®ËØ≠‰πâÂàÜÊûêÂÆåÊàêÂêéÔºåSpark SQL‰ΩøÁî®ÈÄªËæë‰ºòÂåñÂô®ÂØπÈÄªËæëËÆ°ÂàíËøõË°å‰ºòÂåñ„ÄÇÈÄªËæë‰ºòÂåñÂô®ÈÄöËøáÂ∫îÁî®‰∏ÄÁ≥ªÂàóÁöÑËßÑÂàôÂíåËΩ¨Êç¢Êù•‰ºòÂåñÊü•ËØ¢ËÆ°ÂàíÔºå‰ª•ÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂÆÉÂèØ‰ª•ËøõË°åË∞ìËØç‰∏ãÊé®„ÄÅÊäïÂΩ±Ê∂àÈô§„ÄÅÂ∏∏ÈáèÊäòÂè†Á≠â‰ºòÂåñÊìç‰Ωú„ÄÇ</li>
<li><strong>Áâ©ÁêÜ‰ºòÂåñÂô®ÔºàPhysical OptimizerÔºâ</strong> ÔºöÂú®ÈÄªËæë‰ºòÂåñÂÆåÊàêÂêéÔºåSpark SQL‰ΩøÁî®Áâ©ÁêÜ‰ºòÂåñÂô®ÂØπÈÄªËæëËÆ°ÂàíËøõË°åËøõ‰∏ÄÊ≠•ÁöÑ‰ºòÂåñ„ÄÇÁâ©ÁêÜ‰ºòÂåñÂô®Ë¥üË¥£Â∞ÜÈÄªËæëËÆ°ÂàíËΩ¨Êç¢‰∏∫Áâ©ÁêÜÊâßË°åËÆ°ÂàíÔºåÈÄâÊã©ÊúÄ‰ºòÁöÑÁâ©ÁêÜÁÆóÂ≠êÂíåÊâßË°åÁ≠ñÁï•„ÄÇÂÆÉËÄÉËôë‰∫ÜÊï∞ÊçÆÁöÑÂàÜÂ∏É„ÄÅÊï∞ÊçÆÂ§ßÂ∞è„ÄÅÂèØÁî®ÁöÑËÆ°ÁÆóËµÑÊ∫êÁ≠âÂõ†Á¥†Êù•ÈÄâÊã©ÊúÄ‰Ω≥ÁöÑÊâßË°åËÆ°Âàí„ÄÇ</li>
<li><strong>‰ª£Á†ÅÁîüÊàêÂô®ÔºàCode GeneratorÔºâ</strong> ÔºöÂú®Áâ©ÁêÜ‰ºòÂåñÂÆåÊàêÂêéÔºåSpark SQL‰ΩøÁî®‰ª£Á†ÅÁîüÊàêÂô®Â∞Ü‰ºòÂåñÂêéÁöÑÁâ©ÁêÜÊâßË°åËÆ°ÂàíËΩ¨Êç¢‰∏∫ÂèØÊâßË°åÁöÑJavaÂ≠óËäÇÁ†Å„ÄÇ‰ª£Á†ÅÁîüÊàêÂô®Ë¥üË¥£ÁîüÊàêÈ´òÊïàÁöÑÊâßË°å‰ª£Á†ÅÔºå‰ª•ÊèêÈ´òÊü•ËØ¢ÁöÑÊâßË°åÈÄüÂ∫¶„ÄÇ</li>
<li><strong>ÊâßË°åÂô®ÔºàExecutorÔºâ</strong> ÔºöÊúÄÂêéÔºåSpark SQLÂ∞ÜÁîüÊàêÁöÑJavaÂ≠óËäÇÁ†Å‰∫§ÁªôÊâßË°åÂô®ÊâßË°å„ÄÇÊâßË°åÂô®Ë¥üË¥£Â∞ÜÊü•ËØ¢ËÆ°ÂàíÂàÜËß£‰∏∫‰∏ÄÁ≥ªÂàóÁöÑ‰ªªÂä°ÔºåÂπ∂Âú®ÈõÜÁæ§‰∏äÊâßË°åËøô‰∫õ‰ªªÂä°„ÄÇÊâßË°åÂô®ËøòË¥üË¥£Â§ÑÁêÜÊï∞ÊçÆÁöÑËØªÂèñ„ÄÅËÆ°ÁÆóÂíåËæìÂá∫Á≠âÊìç‰ΩúÔºå‰ª•ÂÆåÊàêÊï¥‰∏™Êü•ËØ¢ËøáÁ®ã„ÄÇ</li>
</ol>
<p>ÊÄªÁªìËµ∑Êù•ÔºåSpark SQLÁöÑËß£ÊûêËøáÁ®ãÂåÖÊã¨Ëß£Êûê„ÄÅËØ≠‰πâÂàÜÊûê„ÄÅÈÄªËæë‰ºòÂåñ„ÄÅÁâ©ÁêÜ‰ºòÂåñ„ÄÅ‰ª£Á†ÅÁîüÊàêÂíåÊâßË°åÁ≠âÈò∂ÊÆµ„ÄÇËøô‰∫õÈò∂ÊÆµÁöÑÁõÆÊ†áÊòØÂ∞ÜÁî®Êà∑ËæìÂÖ•ÁöÑÊü•ËØ¢ÊàñÊìç‰ΩúËΩ¨Êç¢‰∏∫È´òÊïàÁöÑÊâßË°åËÆ°ÂàíÔºåÂπ∂Âú®ÈõÜÁæ§‰∏äÊâßË°åËøô‰∫õËÆ°ÂàíÊù•Â§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆ„ÄÇ</p>
<h3 id="raftÁÆóÊ≥ï">RaftÁÆóÊ≥ï
</h3><p>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈÄöÂ∏∏Áî±ÂºÇÊ≠•ÁΩëÁªúËøûÊé•ÁöÑÂ§ö‰∏™ËäÇÁÇπÊûÑÊàêÔºåÊØè‰∏™ËäÇÁÇπÊúâÁã¨Á´ãÁöÑËÆ°ÁÆóÂíåÂ≠òÂÇ®ÔºåËäÇÁÇπ‰πãÈó¥ÈÄöËøáÁΩëÁªúÈÄö‰ø°ËøõË°åÂçè‰ΩúÔºåÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÊòØÊåáÂ§ö‰∏™ËäÇÁÇπÂØπÊüê‰∏ÄÂèòÈáèÁöÑÂèñÂÄºËææÊàê‰∏ÄËá¥„ÄÇÂ∏∏ËßÅÁöÑ‰∏ÄËá¥ÊÄßÁÆóÊ≥ïÂåÖÊã¨PaxosÁÆóÊ≥ïÔºåRaftÁÆóÊ≥ïÔºåZABÁÆóÊ≥ïÁ≠â„ÄÇ</p>
<p>RaftÁÆóÊ≥ïÂÜÖÈÉ®ÈááÁî®Â§çÂà∂Áä∂ÊÄÅÊú∫Ê®°ÂûãÔºåÂú®Ëøô‰∏™Ê®°Âûã‰∏≠‰ºöÂà©Áî®Â§öÂè∞ÊúçÂä°Âô®ÊûÑÊàê‰∏Ä‰∏™ÈõÜÁæ§ÔºåÂπ∂ÈÄöËøáËøô‰∏™ÈõÜÁæ§ÂØπÂ§ñÊèê‰æõ‰∏Ä‰∏™Áõ∏ÂØπÁ®≥ÂÆöÁöÑÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄß‰øùËØÅ„ÄÇRaftÁÆóÊ≥ïÂú®ÂÖ∑‰ΩìÂÆûÁé∞‰∏≠ÔºåÂ∞ÜÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÈóÆÈ¢òÂàÜËß£‰∏∫‰∫ÜLeaderÈÄâ‰∏æ„ÄÅÊó•ÂøóÂêåÊ≠•ÂíåÂÆâÂÖ®ÊÄß‰øùËØÅ‰∏âÂ§ßÂ≠êÈóÆÈ¢ò„ÄÇ</p>
<p>RaftÈáåÈù¢ÊúâLeader„ÄÅFollowerÂíåCandidate‰∏âÁßçËßíËâ≤„ÄÇÈõÜÁæ§ÂêØÂä®Êó∂ÔºåÊâÄÊúâËäÇÁÇπÈÉΩÊòØFollowerËßíËâ≤Âπ∂‰∏îÈÉΩÊúâ‰∏Ä‰∏™ËÆ°Êó∂Âô®ÔºåÂ¶ÇÊûúËÆ°Êó∂Âô®Ë∂ÖÊó∂ËØ¥ÊòéÂΩìÂâçFollowerÊúâ‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞ Leader ÁöÑÊ∂àÊÅØÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ËÆ§‰∏∫ Leader Â∑≤Ê≠ªÊàñËÄÖ‰∏çÂ≠òÂú®ÔºåÈÇ£‰πàËØ•ÁªìÁÇπÂ∞±‰ºöËΩ¨ÂèòÊàê CandidateÔºåÊÑèÊÄù‰∏∫ÂáÜÂ§áÁ´û‰∫âÊàê‰∏∫ Leader„ÄÇÊàê‰∏∫ Candidate ÂêéÁªìÁÇπ‰ºöÂêëÊâÄÊúâÂÖ∂‰ªñÁªìÁÇπÂèëÈÄÅËØ∑Ê±ÇÊäïÁ•®ÁöÑËØ∑Ê±ÇÔºåÂÖ∂‰ªñÁªìÁÇπÂú®Êî∂Âà∞ËØ∑Ê±ÇÂêé‰ºöÂà§Êñ≠ÊòØÂê¶ÂèØ‰ª•ÊäïÁªô‰ªñÂπ∂ËøîÂõûÁªìÊûú„ÄÇCandidate Â¶ÇÊûúÊî∂Âà∞‰∫ÜÂçäÊï∞‰ª•‰∏äÁöÑÊäïÁ•®Â∞±ÂèØ‰ª•Êàê‰∏∫ LeaderÔºåÊàê‰∏∫Leader‰πãÂêé‰ºöÁ´ãÂç≥Âπ∂Âú®‰ªªÊúüÂÜÖÂÆöÊúüÂèëÈÄÅ‰∏Ä‰∏™ÂøÉË∑≥‰ø°ÊÅØÈÄöÁü•ÂÖ∂‰ªñÊâÄÊúâÁªìÁÇπÊñ∞ÁöÑ Leader ‰ø°ÊÅØÔºåÂπ∂Áî®Êù•ÈáçÁΩÆÂÆöÊó∂Âô®ÔºåÈÅøÂÖçÂÖ∂‰ªñÁªìÁÇπÂÜçÊ¨°Êàê‰∏∫ Candidate„ÄÇ</p>
<p>Â¶ÇÊûú Candidate Âú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâËé∑ÂæóË∂≥Â§üÁöÑÊäïÁ•®ÔºåÈÇ£‰πàÂ∞±‰ºöËøõË°å‰∏ÄËΩÆÊñ∞ÁöÑÈÄâ‰∏æÔºåÁõ¥Âà∞ÂÖ∂Êàê‰∏∫ Leader,ÊàñËÄÖÂÖ∂‰ªñÁªìÁÇπÊàê‰∏∫‰∫ÜÊñ∞ÁöÑ LeaderÔºåËá™Â∑±ÂèòÊàê Follower„ÄÇ</p>
<p>RaftÁÆóÊ≥ïÂ∞ÜÊó∂Èó¥ÂàÜ‰∏∫‰∏Ä‰∏™‰∏™ÁöÑ‰ªªÊúüÔºàtermÔºâÔºåÊØè‰∏Ä‰∏™termÁöÑÂºÄÂßãÈÉΩÊòØLeaderÈÄâ‰∏æ„ÄÇÊØè‰∏Ä‰∏™‰ªªÊúü‰ª•‰∏ÄÊ¨°ÈÄâ‰∏æ‰Ωú‰∏∫Ëµ∑ÁÇπÔºåÊâÄ‰ª•ÂΩì‰∏Ä‰∏™ÁªìÁÇπÊàê‰∏∫ Candidate Âπ∂ÂêëÂÖ∂‰ªñÁªìÁÇπËØ∑Ê±ÇÊäïÁ•®Êó∂Ôºå‰ºöÂ∞ÜËá™Â∑±ÁöÑ Term Âä† 1ÔºåË°®ÊòéÊñ∞‰∏ÄËΩÆÁöÑÂºÄÂßã‰ª•ÂèäÊóß Leader ÁöÑ‰ªªÊúüÁªìÊùü„ÄÇÊâÄÊúâÁªìÁÇπÂú®Êî∂Âà∞ÊØîËá™Â∑±Êõ¥Êñ∞ÁöÑ Term ‰πãÂêéÂ∞±‰ºöÊõ¥Êñ∞Ëá™Â∑±ÁöÑ Term Âπ∂ËΩ¨Êàê FollowerÔºåËÄåÊî∂Âà∞ËøáÊó∂ÁöÑÊ∂àÊÅØÂàôÊãíÁªùËØ•ËØ∑Ê±Ç„ÄÇÂú®ÊàêÂäüÈÄâ‰∏æLeader‰πãÂêéÔºåLeader‰ºöÂú®Êï¥‰∏™termÂÜÖÁÆ°ÁêÜÊï¥‰∏™ÈõÜÁæ§„ÄÇÂ¶ÇÊûúLeaderÈÄâ‰∏æÂ§±Ë¥•ÔºåËØ•termÂ∞±‰ºöÂõ†‰∏∫Ê≤°ÊúâLeaderËÄåÁªìÊùü„ÄÇ</p>
<p>Âú®ÊäïÁ•®Êó∂ÂÄôÔºåÊâÄÊúâÊúçÂä°Âô®ÈááÁî®ÂÖàÊù•ÂÖàÂæóÁöÑÂéüÂàôÔºåÂú®‰∏Ä‰∏™‰ªªÊúüÂÜÖÂè™ÂèØ‰ª•ÊäïÁ•®Áªô‰∏Ä‰∏™ÁªìÁÇπÔºåÂæóÂà∞Ë∂ÖËøáÂçäÊï∞ÁöÑÊäïÁ•®ÊâçÂèØÊàê‰∏∫ LeaderÔºå‰ªéËÄå‰øùËØÅ‰∫Ü‰∏Ä‰∏™‰ªªÊúüÂÜÖÂè™‰ºöÊúâ‰∏Ä‰∏™ Leader ‰∫ßÁîüÔºàElection SafetyÔºâ„ÄÇ</p>
<p>Â∑•‰ΩúÊµÅÁ®ãÔºö</p>
<p>LeaderÈÄâÂá∫ÂêéÔºåÂ∞±ÂºÄÂßãÊé•Êî∂ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±Ç„ÄÇLeaderÊääËØ∑Ê±Ç‰Ωú‰∏∫Êó•ÂøóÊù°ÁõÆÔºàLog entriesÔºâÂä†ÂÖ•Âà∞ÂÆÉÁöÑÊó•Âøó‰∏≠ÔºåÁÑ∂ÂêéÂπ∂Ë°åÁöÑÂêëÂÖ∂‰ªñÊúçÂä°Âô®ÂèëËµ∑ AppendEntries RPCÂ§çÂà∂Êó•ÂøóÊù°ÁõÆ„ÄÇÂΩìËøôÊù°Êó•ÂøóË¢´Â§çÂà∂Âà∞Â§ßÂ§öÊï∞ÊúçÂä°Âô®‰∏äÔºåLeaderÂ∞ÜËøôÊù°Êó•ÂøóÂ∫îÁî®Âà∞ÂÆÉÁöÑÁä∂ÊÄÅÊú∫Âπ∂ÂêëÂÆ¢Êà∑Á´ØËøîÂõûÊâßË°åÁªìÊûú„ÄÇÊó•ÂøóÁî±ÊúâÂ∫èÁºñÂè∑Ôºàlog indexÔºâÁöÑÊó•ÂøóÊù°ÁõÆÁªÑÊàê„ÄÇÊØè‰∏™Êó•ÂøóÊù°ÁõÆÂåÖÂê´ÂÆÉË¢´ÂàõÂª∫Êó∂ÁöÑ‰ªªÊúüÂè∑ÔºàtermÔºâÔºåÂíåÁî®‰∫éÁä∂ÊÄÅÊú∫ÊâßË°åÁöÑÂëΩ‰ª§„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Êó•ÂøóÊù°ÁõÆË¢´Â§çÂà∂Âà∞Â§ßÂ§öÊï∞ÊúçÂä°Âô®‰∏äÔºåÂ∞±Ë¢´ËÆ§‰∏∫ÂèØ‰ª•Êèê‰∫§ÔºàcommitÔºâ‰∫Ü„ÄÇ</p>
<h3 id="lsm">LSM
</h3><p>ÁõÆÂâçHBase,LevelDB,RocksDB„ÄÅPaimonËøô‰∫õÂ≠òÂÇ®ÈÉΩÊòØÈááÁî®ÁöÑLSMÊ†ë„ÄÇLSMÊ†ëÁöÑÊ†∏ÂøÉÁâπÁÇπÊòØÂà©Áî®È°∫Â∫èÂÜôÊù•ÊèêÈ´òÂÜôÊÄßËÉΩÔºå‰ΩÜÂõ†‰∏∫ÂàÜÂ±Ç(Ê≠§Â§ÑÂàÜÂ±ÇÊòØÊåáÁöÑÂàÜ‰∏∫ÂÜÖÂ≠òÂíåÊñá‰ª∂‰∏§ÈÉ®ÂàÜ)ÁöÑËÆæËÆ°‰ºöÁ®çÂæÆÈôç‰ΩéËØªÊÄßËÉΩÔºå‰ΩÜÊòØÈÄöËøáÁâ∫Áâ≤Â∞èÈÉ®ÂàÜËØªÊÄßËÉΩÊç¢Êù•È´òÊÄßËÉΩÂÜôÔºå‰ΩøÂæóLSMÊ†ëÊàê‰∏∫ÈùûÂ∏∏ÊµÅË°åÁöÑÂ≠òÂÇ®ÁªìÊûÑ„ÄÇ</p>
<h3 id="spark-‰∏∫‰ªÄ‰πàÊØîhiveÂø´">Spark ‰∏∫‰ªÄ‰πàÊØîhiveÂø´
</h3><p>Spark Áõ∏ÂØπ‰∫é Hive ÂÖ∑Êúâ‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢ÁöÑ‰ºòÂäøÔºö</p>
<ol>
<li><strong>DAGËÆ°ÁÆóÊ®°Âûã</strong>ÔºöSpark ‰ΩøÁî®Ëá™Â∑±ÁöÑDAGÊâßË°åÂºïÊìéÔºåÈÄöËøáÊúâÂêëÊó†ÁéØÂõæÔºàDAGÔºâÊù•Ë°®Á§∫‰ªªÂä°Ôºå‰ºòÂåñ‰∫Ü‰ªªÂä°ÁöÑË∞ÉÂ∫¶ÂíåÊâßË°åÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑ‰∏≠Èó¥ÁªìÊûúÂÜôÂÖ•Á£ÅÁõòÔºå‰πüÂ∞±ÊòØÊï∞ÊçÆÈÉΩÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÁõ¥Êé•ÈÄöËøáÁÆóÂ≠êÂ§ÑÁêÜÔºå‰∏≠Èó¥ÁªìÊûú‰∏çËêΩÁõòÔºå‰ªéËÄåÂ§ßÂπÖÂáèÂ∞ëÁ£ÅÁõòIOÂºÄÈîÄÔºåËÄåHiveÈªòËÆ§‰ΩøÁî® MapReduce ‰Ωú‰∏∫ÊâßË°åÂºïÊìéÔºåMapReduceËÆ°ÁÆóÊ®°ÂûãÊØîËæÉÁÆÄÂçïÔºåÊØè‰∏™ÁÆóÂ≠êÈÉΩ‰ºöÂ∞Ü‰∏≠Èó¥ÁªìÊûúÂÜôÂÖ•Á£ÅÁõòÔºåÂØºËá¥Â§ßÈáèÁöÑÁ£ÅÁõò I/O Êìç‰ΩúÔºåÊâÄ‰ª•ÈÄüÂ∫¶ËæÉÊÖ¢„ÄÇ</li>
<li><strong>Âª∂ËøüËÆ°ÁÆó</strong>: Spark ‰ΩøÁî®Âª∂ËøüËÆ°ÁÆóÊú∫Âà∂ÔºåÂè™ÊúâÂú®ÈÅáÂà∞actionÊìç‰ΩúÂ¶Ç collect„ÄÅcountÊó∂Êâç‰ºöÁúüÊ≠£ÊâßË°åËÆ°ÁÆó„ÄÇËøôÁßçÊú∫Âà∂ÂÖÅËÆ∏ Spark ËøõË°åÊõ¥Â§öÁöÑ‰ºòÂåñÔºå‰æãÂ¶ÇÂêàÂπ∂Â§ö‰∏™Êìç‰Ωú„ÄÅÂáèÂ∞ëÊï∞ÊçÆ shuffleÁ≠âÂπ∂‰∏îÂÜÖÂ≠òÂàÜÈÖçÊõ¥ÁßëÂ≠¶ÔºõËÄåHive ÁöÑÊü•ËØ¢ÈÄöÂ∏∏ÊòØÂç≥Êó∂ÊâßË°åÁöÑÔºåÁº∫‰πèÁ±ª‰ººÁöÑ‰ºòÂåñÊú∫Âà∂„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂàÜÂå∫ÂíåÂπ∂Ë°åÂ§ÑÁêÜ</strong>ÔºöSpark ÊîØÊåÅÊõ¥ÁªÜÁ≤íÂ∫¶ÁöÑÊï∞ÊçÆÂàÜÂå∫ÂíåÂπ∂Ë°åÂ§ÑÁêÜÔºåÂèØ‰ª•Êõ¥Â•ΩÂú∞Âà©Áî®ÈõÜÁæ§ËµÑÊ∫ê„ÄÇSpark ÁöÑ RDDÔºàÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºâÂíå DataFrame/Dataset API Êèê‰æõ‰∫ÜÁÅµÊ¥ªÁöÑÂàÜÂå∫ÂíåÂπ∂Ë°åÂ§ÑÁêÜÊú∫Âà∂„ÄÇËÄåHive ÁöÑÂπ∂Ë°åÂ§ÑÁêÜËÉΩÂäõ‰æùËµñ‰∫é MapReduceÔºåMapReduce ÁöÑÂπ∂Ë°åÂ∫¶ÂèóÈôê‰∫é Map Âíå Reduce ‰ªªÂä°ÁöÑÊï∞ÈáèÔºå‰∏î‰ªªÂä°Ë∞ÉÂ∫¶ÂºÄÈîÄËæÉÂ§ß„ÄÇ</li>
<li><strong>‰ºòÂåñÂô®</strong>ÔºöSpark Êèê‰æõ‰∫Ü Catalyst ‰ºòÂåñÂô®ÔºåÁî®‰∫é‰ºòÂåñ SQL Êü•ËØ¢ÁöÑÊâßË°åËÆ°Âàí„ÄÇCatalyst ‰ºòÂåñÂô®ÂèØ‰ª•ËøõË°åË∞ìËØç‰∏ãÊé®„ÄÅÂàóÂâ™Ë£Å„ÄÅÂ∏∏ÈáèÊäòÂè†Á≠âÂ§öÁßç‰ºòÂåñÔºåÊòæËëóÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩ„ÄÇHive ‰πüÊúâ‰ºòÂåñÂô®Ôºå‰ΩÜÂÖ∂‰ºòÂåñËÉΩÂäõÁõ∏ÂØπËæÉÂº±ÔºåÂ∞§ÂÖ∂ÊòØÂú®Â§ÑÁêÜÂ§çÊùÇÊü•ËØ¢Êó∂Ôºå‰ºòÂåñÊïàÊûú‰∏çÂ¶Ç Spark„ÄÇ</li>
<li><strong>JVM ÁöÑ‰ºòÂåñ</strong> : Hive ÊØèÊ¨° MapReduce Êìç‰ΩúÔºåÂêØÂä®‰∏Ä‰∏™ Task ‰æø‰ºöÂêØÂä®‰∏ÄÊ¨° JVMÔºåÂü∫‰∫éËøõÁ®ãÁöÑÊìç‰Ωú„ÄÇËÄå Spark ÊØèÊ¨°Êìç‰ΩúÊòØÂü∫‰∫éÁ∫øÁ®ãÁöÑÔºåÂè™Âú®ÂêØÂä® Executor Êó∂ÂÄôÂêØÂä®‰∏ÄÊ¨° JVMÔºåÂÜÖÂ≠òÁöÑ Task Êìç‰ΩúÊòØÁ∫øÁ®ãÂ§çÁî®ÁöÑ„ÄÇÊØèÊ¨°ÂêØÂä® JVM ÁöÑÊó∂Èó¥ÂèØËÉΩÂ∞±ÈúÄË¶ÅÂá†ÁßíÁîöËá≥ÂçÅÂá†ÁßíÔºåÈÇ£‰πàÂΩì Task Â§ö‰∫ÜÔºåmapreduce ‰∏çÁü•ÈÅìÊØî Spark ÊÖ¢‰∫ÜÂ§öÂ∞ë„ÄÇ</li>
</ol>
<p>ÊÄªÁöÑÊù•ËØ¥Spark ‰πãÊâÄ‰ª•ÊØî Hive Âø´Ôºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ Spark ÈááÁî®‰∫ÜDAGËÆ°ÁÆóÊ®°ÂûãÊàñËÄÖËØ¥ÂÜÖÂ≠òËÆ°ÁÆó„ÄÅÂª∂ËøüËÆ°ÁÆó„ÄÅCatalyst ‰ºòÂåñÂô®Á≠âÂÖàËøõÊäÄÊúØÔºåÂáèÂ∞ë‰∫ÜÁ£ÅÁõò I/O Âíå‰ªªÂä°Ë∞ÉÂ∫¶ÂºÄÈîÄÔºåÊèêÈ´ò‰∫ÜÊï∞ÊçÆÂ§ÑÁêÜÊïàÁéáÔºåÂõ†Ê≠§SparkÈùûÂ∏∏ÈÄÇÂêàÂÉèÊâπÂ§ÑÁêÜ„ÄÅÊú∫Âô®Â≠¶‰π†ËøôÊ†∑ÁöÑÂú∫ÊôØÔºåÂΩìÁÑ∂ÂØπ‰∫é‰∏Ä‰∫õ‰º†ÁªüÁöÑÊâπÂ§ÑÁêÜÂú∫ÊôØÔºåMapreduce‰ªçÁÑ∂ÊòØ‰∏ÄÁßçÂèØÈù†ÁöÑÈÄâÊã©„ÄÇ</p>
<h3 id="ÁºìÂ≠òÊú∫Âà∂‰∏écheckpointÊú∫Âà∂ÁöÑÂå∫Âà´">ÁºìÂ≠òÊú∫Âà∂‰∏écheckpointÊú∫Âà∂ÁöÑÂå∫Âà´
</h3><p>‰∏§ËÄÖÈÉΩÊòØÂÅöRDDÊåÅ‰πÖÂåñÁöÑÔºåRDDÈÄöËøácacheÊñπÊ≥ïÊàñËÄÖpersistÊñπÊ≥ïÂèØ‰ª•Â∞ÜÂâçÈù¢ÁöÑËÆ°ÁÆóÁªìÊûúÁºìÂ≠òÔºåËøô‰∏™RDD‰ºöË¢´ÁºìÂ≠òÂú®ËÆ°ÁÆóËäÇÁÇπÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂‰æõÂêéÈù¢‰ΩøÁî®(‰ΩÜÂπ∂‰∏çÊòØÁ´ãÂç≥ÁºìÂ≠òÔºåËÄåÊòØÂú®Ë∞ÉÁî®ActionÁÆóÂ≠êÁöÑÊó∂ÂÄô)„ÄÇÁºìÂ≠òÊó¢‰∏çÊòØtransformation‰πü‰∏çÊòØactionÁ±ªÁöÑÁÆóÂ≠êÔºåÂπ∂‰∏îÁºìÂ≠òÁªìÊùüÂêé‰∏ç‰ºö‰∫ßÁîüÊñ∞ÁöÑRDD„ÄÇ</p>
<p>ÁºìÂ≠òÊúâÂèØËÉΩ‰∏¢Â§±ÔºåÊàñËÄÖÂ≠òÂÇ®‰∫éÂÜÖÂ≠òÁöÑÊï∞ÊçÆÁî±‰∫éÂÜÖÂ≠ò‰∏çË∂≥ËÄåË¢´Âà†Èô§ÔºåRDDÁöÑÂÆπÈîôÊú∫Âà∂‰øùËØÅ‰∫ÜÂç≥‰ΩøÁºìÂ≠ò‰∏¢Â§±‰πüËÉΩ‰øùËØÅËÆ°ÁÆóÁöÑÊ≠£Á°ÆÊâßË°å„ÄÇÈÄöËøáÂü∫‰∫éRDDÁöÑ‰∏ÄÁ≥ªÂàóËΩ¨Êç¢Ôºå‰∏¢Â§±ÁöÑÊï∞ÊçÆ‰ºöË¢´ÈáçÁÆóÔºåÁî±‰∫éRDDÁöÑÂêÑ‰∏™PartitionÊòØÁõ∏ÂØπÁã¨Á´ãÁöÑÔºåÂõ†Ê≠§Âè™ÈúÄË¶ÅËÆ°ÁÆó‰∏¢Â§±ÁöÑÈÉ®ÂàÜÂç≥ÂèØÔºåÂπ∂‰∏çÈúÄË¶ÅÈáçÁÆóÂÖ®ÈÉ®Partition„ÄÇ</p>
<p>‰ΩøÁî®ÁºìÂ≠òÁöÑÊù°‰ª∂ÔºöÔºàÊàñËÄÖËØ¥‰ªÄ‰πàÊó∂ÂÄôËøõË°åÁºìÂ≠òÔºâ</p>
<ol>
<li>Ë¶ÅÊ±ÇÁöÑËÆ°ÁÆóÈÄüÂ∫¶Âø´ÔºåÂØπÊïàÁéáË¶ÅÊ±ÇÈ´òÁöÑÊó∂ÂÄô</li>
<li>ÈõÜÁæ§ÁöÑËµÑÊ∫êË¶ÅË∂≥Â§üÂ§ßÔºåËÉΩÂÆπÂæó‰∏ãË¶ÅË¢´ÁºìÂ≠òÁöÑÊï∞ÊçÆ</li>
<li>Ë¢´ÁºìÂ≠òÁöÑÊï∞ÊçÆ‰ºöÂ§öÊ¨°ÁöÑËß¶ÂèëActionÔºàÂ§öÊ¨°Ë∞ÉÁî®ActionÁ±ªÁöÑÁÆóÂ≠êÔºâ</li>
<li>ÂÖàËøõË°åËøáÊª§ÔºåÁÑ∂ÂêéÂ∞ÜÁº©Â∞èËåÉÂõ¥ÂêéÁöÑÊï∞ÊçÆÁºìÂ≠òÂà∞ÂÜÖÂ≠ò‰∏≠</li>
</ol>
<p>Âú®‰ΩøÁî®ÂÆåÊï∞ÊçÆ‰πãÂêéÔºåË¶ÅÈáäÊîæÁºìÂ≠òÔºåÂê¶Âàô‰ºö‰∏ÄÁõ¥Âú®ÂÜÖÂ≠ò‰∏≠Âç†Áî®ËµÑÊ∫ê</p>
<p>RDDÁöÑÁºìÂ≠òÂÆπÈîôÊú∫Âà∂ËÉΩ‰øùËØÅÊï∞ÊçÆ‰∏¢Â§±‰πüËÉΩÊ≠£Â∏∏ÁöÑËøêË°åÔºåÊòØÂõ†‰∏∫Âú®ÊØè‰∏Ä‰∏™RDD‰∏≠ÔºåÈÉΩÂ≠òÊúâ‰∏ä‰∏Ä‰∏™RDDÁöÑ‰ø°ÊÅØÔºåÂΩìRDD‰∏¢Â§±‰ª•ÂêéÔºåÂèØ‰ª•ËøΩÊ∫ØÂà∞ÂÖÉÊï∞ÊçÆÔºåÂÜçËøõË°åËÆ°ÁÆó„ÄÇ</p>
<p>CheckPoint(Êú¨Ë¥®ÊòØÈÄöËøáÂ∞ÜRDDÂÜôÂÖ•È´òÂèØÁî®ÁöÑÂú∞ÊñπÔºà‰æãÂ¶Ç hdfsÔºâÂÅöÊ£ÄÊü•ÁÇπÔºâÊòØ‰∏∫‰∫ÜÈÄöËøálineageÔºàË°ÄÁªüÔºâÂÅöÂÆπÈîôÁöÑËæÖÂä©ÔºålineageËøáÈïø‰ºöÈÄ†ÊàêÂÆπÈîôÊàêÊú¨ËøáÈ´òÔºåËøôÊ†∑Â∞±‰∏çÂ¶ÇÂú®‰∏≠Èó¥Èò∂ÊÆµÂÅöÊ£ÄÊü•ÁÇπÂÆπÈîôÔºåÂ¶ÇÊûú‰πãÂêéÊúâËäÇÁÇπÂá∫Áé∞ÈóÆÈ¢òËÄå‰∏¢Â§±ÂàÜÂå∫Ôºå‰ªéÂÅöÊ£ÄÊü•ÁÇπÁöÑRDDÂºÄÂßãÈáçÂÅöLineageÔºåÂ∞±‰ºöÂáèÂ∞ëÂºÄÈîÄ„ÄÇ</p>
<p>ËÆæÁΩÆcheckpointÁöÑÁõÆÂΩïÔºåÂèØ‰ª•ÊòØÊú¨Âú∞ÁöÑÊñá‰ª∂Â§π„ÄÅ‰πüÂèØ‰ª•ÊòØHDFS„ÄÅS3„ÄÇ‰∏ÄËà¨ÊòØÂú®ÂÖ∑ÊúâÂÆπÈîôËÉΩÂäõÔºåÈ´òÂèØÈù†ÁöÑÊñá‰ª∂Á≥ªÁªü‰∏äËÆæÁΩÆ‰∏Ä‰∏™Ê£ÄÊü•ÁÇπË∑ØÂæÑÔºåÁî®‰∫é‰øùÂ≠òÊ£ÄÊü•ÁÇπÊï∞ÊçÆ„ÄÇ</p>
<p>Âú®ËÆæÁΩÆÊ£ÄÊü•ÁÇπ‰πãÂêéÔºåËØ•RDD‰πãÂâçÁöÑÊúâ‰æùËµñÂÖ≥Á≥ªÁöÑÁà∂RDDÈÉΩ‰ºöË¢´ÈîÄÊØÅÔºå‰∏ãÊ¨°Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÁõ¥Êé•‰ªéÊ£ÄÊü•ÁÇπÂºÄÂßãËÆ°ÁÆó„ÄÇcheckPointÂíåcache‰∏ÄÊ†∑ÔºåÈÉΩÊòØÈÄöËøáË∞ÉÁî®‰∏Ä‰∏™ActionÁ±ªÁöÑÁÆóÂ≠êÊâçËÉΩËøêË°å„ÄÇcheckPointÈôç‰ΩéËøêË°åÊó∂Èó¥ÁöÑÂéüÂõ†ÔºöÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®Ê£ÄÊü•ÁÇπÁöÑÊó∂ÂÄôÔºå‰ºö‰∫ßÁîü‰∏§‰∏™executorÔºå‰∏§‰∏™ËøõÁ®ãÂàÜÂà´ÊòØ‰ªéhdfsËØªÊñá‰ª∂ÂíåËÆ°ÁÆóÔºàË∞ÉÁî®ÁöÑActionÁ±ªÁöÑÁÆóÂ≠êÔºâÔºåÂú®Á¨¨‰∫åÊ¨°Ë∞ÉÁî®ÁöÑÊó∂ÂÄô‰ºöÂèëÁé∞ÔºåËøêË°åÁöÑÊó∂Èó¥Â§ßÂ§ßÂáèÂ∞ëÔºåÊòØÁî±‰∫éÁ¨¨‰∫åÊ¨°Ë∞ÉÁî®ÁÆóÂ≠êÁöÑÊó∂ÂÄôÔºå‰∏ç‰ºöÂÜç‰ªéhdfsËØªÊ∫êÊñá‰ª∂ÔºåËÄåÊòØÁõ¥Êé•‰ªéhdfsËØªÂèñÁºìÂ≠òÂà∞ÁöÑÊï∞ÊçÆ</p>
<h3 id="ËØ¥‰∏ãspark-joinÁöÑÂàÜÁ±ª">ËØ¥‰∏ãSpark joinÁöÑÂàÜÁ±ª
</h3><p>Ê†πÊçÆÊï∞ÊçÆÂàÜÂ∏ÉÁöÑÊñπÂºèÔºåÂèØ‰ª•ÂàÜ‰∏∫Shuffle Join„ÄÅBroadcast JoinÂíåBucket Join„ÄÇ</p>
<ul>
<li>Shuffle JoinÔºöÊï∞ÊçÆÈúÄË¶ÅÈÄöËøáÁΩëÁªúShuffleÂà∞‰∏çÂêåÁöÑËäÇÁÇπÔºåÁΩëÁªú‰º†ËæìÂºÄÈîÄÂ§ßÔºåÊÄßËÉΩÂ∑Æ„ÄÇ</li>
<li>Broadcast JoinÔºöÂ∞ÜÂ∞èË°®ÂπøÊí≠Âà∞ÊâÄÊúâExecutorËäÇÁÇπÔºåÈÅøÂÖçShuffleÔºåÈÄÇÁî®‰∫é‰∏Ä‰∏™Â§ßË°®ÂíåÂ∞èË°®ÁöÑJOINÔºåÈÅøÂÖç‰∫ÜShuffleÔºåÊÄßËÉΩËæÉÈ´ò„ÄÇ</li>
<li>Bucket JoinÔºö‰∏§‰∏™Ë°®ÈÉΩÊåâÁÖßJOIN KeyËøõË°åÂàÜÊ°∂Ôºå‰∏îÂàÜÊ°∂Êï∞Áõ∏ÂêåÔºåÈÅøÂÖç‰∫ÜShuffleÔºåÊï∞ÊçÆÂèØ‰ª•Áõ¥Êé•Âú®Êú¨Âú∞JOIN„ÄÇ‰ΩÜÈúÄË¶Å‰∏§Âº†Ë°®ÈÉΩËøõË°åÂàÜÊ°∂Ôºå‰∏îÂàÜÊ°∂ËßÑÂàôÂåπÈÖç„ÄÇ</li>
</ul>
<p>Ê†πÊçÆÊâßË°åÁöÑÊñπÂºèÔºåÂèØ‰ª•ÂàÜ‰∏∫SortMergeJoin„ÄÅHash JoinÂíåNested Loop Join„ÄÇ</p>
<ul>
<li>Sort Merge JoinÔºöÂØπJOIN KeyËøõË°åÊéíÂ∫èÂêéÂêàÂπ∂ÔºåÊòØSpark‰∏≠ÊúÄÂ∏∏Áî®ÁöÑJOINÊñπÂºèÔºåÈÄÇÂêàÂ§ßËßÑÊ®°Êï∞ÊçÆ‰∏îÊÄßËÉΩÁ®≥ÂÆö„ÄÇ</li>
<li>Hash JoinÔºöÂØπJOIN KeyËøõË°åÂìàÂ∏åÂàÜÂå∫ÂêéJOINÔºåÈÄÇÁî®‰∫éÂÜÖÂ≠òË∂≥Â§üÁöÑÊÉÖÂÜµ‰πüÂ∞±ÊòØ‰∏ÄÂº†Ë°®ÂèØ‰ª•ÂÆåÂÖ®ÊîæÂÖ•ÂÜÖÂ≠òÔºåÊÄßËÉΩËæÉÈ´òÔºåÈÄÇÂêàÂ∞èË°®JOINÂ§ßË°®„ÄÇ</li>
<li>Nested Loop JoinÔºöÈÄöËøáÂµåÂ•óÂæ™ÁéØÁöÑÊñπÂºèÈÄêÊù°ÂåπÈÖçÊï∞ÊçÆÔºåÊÄßËÉΩËæÉÂ∑ÆÔºåÈÄöÂ∏∏‰∏çÊé®Ëçê‰ΩøÁî®ÔºåÈÄÇÂêà‰∏§‰∏™Â∞èÊï∞ÊçÆÈõÜÁöÑJOIN</li>
</ul>
<p>Ê†πÊçÆJOINÁ±ªÂûãÂàÜÁ±ªÔºåÊúâInner Join„ÄÅLeft Join„ÄÅRight Join„ÄÅFull Outer Join„ÄÅCross Join„ÄÅLeft Semi JoinÂíåLeft Anti Join</p>
<ul>
<li>
<p>Inner JoinÔºöÂè™ËøîÂõû‰∏§‰∏™Ë°®‰∏≠ÂåπÈÖçÁöÑËÆ∞ÂΩï„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">INNER</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">table1</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table2</span><span class="p">.</span><span class="na">key</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Left JoinÔºöËøîÂõûÂ∑¶Ë°®ÁöÑÊâÄÊúâËÆ∞ÂΩïÔºå‰ª•ÂèäÂè≥Ë°®‰∏≠ÂåπÈÖçÁöÑËÆ∞ÂΩïÔºà‰∏çÂåπÈÖçÁöÑÂ≠óÊÆµ‰∏∫ NULLÔºâ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">LEFT</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">table1</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table2</span><span class="p">.</span><span class="na">key</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Right JoinÔºöËøîÂõûÂè≥Ë°®ÁöÑÊâÄÊúâËÆ∞ÂΩïÔºå‰ª•ÂèäÂ∑¶Ë°®‰∏≠ÂåπÈÖçÁöÑËÆ∞ÂΩïÔºà‰∏çÂåπÈÖçÁöÑÂ≠óÊÆµ‰∏∫ NULLÔºâ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">RIGHT</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">table1</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table2</span><span class="p">.</span><span class="na">key</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Full Outer JoinÔºöËøîÂõû‰∏§‰∏™Ë°®ÁöÑÊâÄÊúâËÆ∞ÂΩïÔºå‰∏çÂåπÈÖçÁöÑÂ≠óÊÆµ‰∏∫ NULL„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">FULL</span><span class="w"> </span><span class="n">OUTER</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">table1</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table2</span><span class="p">.</span><span class="na">key</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Cross JoinÔºöËøîÂõû‰∏§‰∏™Ë°®ÁöÑÁ¨õÂç°Â∞îÁßØ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">CROSS</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Left Semi JoinÔºöÂè™ËøîÂõûÂ∑¶Ë°®‰∏≠‰∏éÂè≥Ë°®ÂåπÈÖçÁöÑËÆ∞ÂΩï„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">LEFT</span><span class="w"> </span><span class="n">SEMI</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">table1</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table2</span><span class="p">.</span><span class="na">key</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Left Anti JoinÔºöÂè™ËøîÂõûÂ∑¶Ë°®‰∏≠‰∏éÂè≥Ë°®‰∏çÂåπÈÖçÁöÑËÆ∞ÂΩï„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="n">LEFT</span><span class="w"> </span><span class="n">ANTI</span><span class="w"> </span><span class="n">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">table1</span><span class="p">.</span><span class="na">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">table2</span><span class="p">.</span><span class="na">key</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="sparkÂ§ÑÁêÜÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÊµÅÁ®ã">SparkÂ§ÑÁêÜÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÊµÅÁ®ã
</h3><p>SparkÂ§ÑÁêÜÊï∞ÊçÆÁöÑÊµÅÁ®ãÂåÖÊã¨Êï∞ÊçÆÂä†ËΩΩ„ÄÅ‰ªªÂä°Ë∞ÉÂ∫¶„ÄÅÊï∞ÊçÆËÆ°ÁÆó„ÄÅÁªìÊûúËæìÂá∫ÔºåËøô‰∏™ËøáÁ®ã‰πüÊ∂âÂèäÂà∞ËµÑÊ∫êÁÆ°ÁêÜ‰ª•ÂèäÂÆπÈîôÁ≠âÊìç‰Ωú„ÄÇ</p>
<p>È¶ñÂÖàÁ¨¨‰∏ÄÊ≠•ÊòØÊï∞ÊçÆÂä†ËΩΩÔºåSparkÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÊ∫êÂÉèHDFS„ÄÅS3„ÄÅÊú¨Âú∞Êñá‰ª∂Á≥ªÁªü„ÄÅKafka„ÄÅJDBCÁ≠âÔºåÂèØ‰ª•ÈÄöËøátextFile„ÄÅread„ÄÅparallelizeÁ≠âÊñπÊ≥ïÊù•Âä†ËΩΩÊï∞ÊçÆÔºåÊï∞ÊçÆÂä†ËΩΩÂêé‰ºöË¢´ÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÔºåÊØè‰∏™ÂàÜÂå∫ÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÊï∞ÊçÆÂùó„ÄÇ</p>
<p>Á¨¨‰∫åÊ≠•ÊòØ‰ªªÂä°ÁöÑË∞ÉÂ∫¶ÔºåSpark Ê†πÊçÆ RDD ÁöÑË°ÄÁºòÂÖ≥Á≥ªÔºàLineageÔºâÁîüÊàêÊúâÂêëÊó†ÁéØÂõæÔºàDAGÔºâÔºåDAG ÊèèËø∞‰∫ÜÊï∞ÊçÆÂ§ÑÁêÜÁöÑÈÄªËæëÊµÅÁ®ãÔºåÂåÖÊã¨ËΩ¨Êç¢Êìç‰ΩúÔºàTransformationÔºâÂíåË°åÂä®Êìç‰ΩúÔºàActionÔºâ„ÄÇÁÑ∂ÂêéSpark ‰ºöÂ∞Ü DAG ÂàíÂàÜ‰∏∫Â§ö‰∏™Èò∂ÊÆµÔºàStageÔºâÔºåÊØè‰∏™StageÂåÖÂê´‰∏ÄÁªÑÂèØ‰ª•Âπ∂Ë°åÊâßË°åÁöÑTask‰ªªÂä°„ÄÇStageÂàíÂàÜÁöÑ‰æùÊçÆÊòØÂÆΩ‰æùËµñÔºàShuffle DependencyÔºâÂíåÁ™Ñ‰æùËµñÔºàNarrow DependencyÔºâ„ÄÇÁÑ∂ÂêéSpark Â∞ÜTask‰ªªÂä°ÂàÜÈÖçÁªô Executor ÊâßË°åÔºå‰ªªÂä°Ë∞ÉÂ∫¶Áî± Driver Á®ãÂ∫èË¥üË¥£„ÄÇ</p>
<p>Á¨¨‰∏âÊ≠•ÊòØ‰ªªÂä°ËÆ°ÁÆóÔºåÊØè‰∏™Task‰ªªÂä°Â§ÑÁêÜ‰∏Ä‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÔºåÊâßË°åËΩ¨Êç¢Êìç‰ΩúÂ¶Çmap„ÄÅfilterÁ≠âÔºå‰ªªÂä°Âú®Executor‰∏≠ÊâßË°åÔºåExecutorÊòØËøêË°åÂú®ÈõÜÁæ§ËäÇÁÇπ‰∏äÁöÑËøõÁ®ãÔºåÂú®ÈÅáÂà∞ÂÆΩ‰æùËµñÊØîÂ¶ÇgroupByKey„ÄÅjoinÁöÑÊó∂ÂÄôÔºåSpark‰ºöËøõË°åShuffleÊìç‰ΩúÔºåShuffle Êìç‰ΩúÊ∂âÂèäÊï∞ÊçÆÁöÑË∑®ËäÇÁÇπ‰º†ËæìÂíåÈáçÊñ∞ÂàÜÂå∫„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÈúÄË¶ÅÂ§öÊ¨°‰ΩøÁî®ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ÁºìÂ≠òÂà∞ÂÜÖÂ≠òÊàñÁ£ÅÁõò‰∏≠ÔºàÂ¶Ç persist„ÄÅcacheÔºâ„ÄÇ</p>
<p>ÊúÄÂêé‰∏ÄÊ≠•Â∞±ÊòØÁªìÊûúËæìÂá∫ÔºåÂØπ‰∫éË°åÂä®Êìç‰ΩúÔºàÂ¶Ç collect„ÄÅcountÔºâÔºåSpark ‰ºöÂ∞ÜÁªìÊûúËøîÂõûÁªô Driver Á®ãÂ∫èÔºåÂØπ‰∫éËæìÂá∫Êìç‰ΩúÔºàÂ¶Ç saveAsTextFile„ÄÅsaveAsTableÔºâÔºåSpark ‰ºöÂ∞ÜÁªìÊûúÂ≠òÂÇ®Âà∞Â§ñÈÉ®Â≠òÂÇ®Á≥ªÁªü‰∏≠„ÄÇ</p>
<h3 id="spark-map-joinÁöÑÂÆûÁé∞ÂéüÁêÜ">Spark map joinÁöÑÂÆûÁé∞ÂéüÁêÜ
</h3><p>Âú® Spark ‰∏≠ÔºåMap JoinÔºà‰πüÁß∞‰∏∫ Broadcast JoinÔºâÊòØ‰∏ÄÁßçÁî®‰∫é‰ºòÂåñÂ∞èË°®‰∏éÂ§ßË°® JOIN Êìç‰ΩúÁöÑÊäÄÊúØ„ÄÇÂÆÉÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÂ∞ÜÂ∞èË°®ÁöÑÊï∞ÊçÆÂπøÊí≠Âà∞ÊâÄÊúâ Executor ËäÇÁÇπÔºå‰ªéËÄåÈÅøÂÖç Shuffle Êìç‰ΩúÔºåÊòæËëóÊèêÂçá JOIN ÁöÑÊÄßËÉΩ„ÄÇÂú®Â∏∏ËßÑÁöÑ Shuffle Join ‰∏≠ÔºåÂ§ßË°®ÂíåÂ∞èË°®ÁöÑÊï∞ÊçÆÈÉΩÈúÄË¶ÅÈÄöËøáÁΩëÁªú‰º†ËæìÂà∞ Reduce Èò∂ÊÆµËøõË°å JOINÔºåËøô‰ºöÂØºËá¥Â§ßÈáèÁöÑÁΩëÁªúÂíåÁ£ÅÁõò I/O ÂºÄÈîÄÔºåËÄåMap Join ÈÄöËøáÂ∞ÜÂ∞èË°®ÁöÑÊï∞ÊçÆÂπøÊí≠Âà∞ÊâÄÊúâ Executor ËäÇÁÇπÔºå‰ΩøÂæóÊØè‰∏™ËäÇÁÇπÈÉΩÂèØ‰ª•Âú®Êú¨Âú∞ÂÆåÊàê JOIN Êìç‰ΩúÔºå‰ªéËÄåÈÅøÂÖç Shuffle„ÄÇ</p>
<p>ÂπøÊí≠JoinÁöÑÂéüÁêÜÊòØÔºåSpark ‰ΩøÁî®ÂπøÊí≠ÂèòÈáèÂ∞ÜÂ∞èË°®ÁöÑÊï∞ÊçÆÂ∫èÂàóÂåñÂπ∂ÂàÜÂèëÂà∞ÊâÄÊúâ Executor ËäÇÁÇπÔºåExecutor ËäÇÁÇπÂ∞ÜÊé•Êî∂Âà∞ÁöÑÊï∞ÊçÆÂèçÂ∫èÂàóÂåñÂπ∂Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÁÑ∂ÂêéÊØè‰∏™ Executor ËäÇÁÇπÂú®Êú¨Âú∞Â∞ÜÂ§ßË°®ÁöÑÂàÜÂå∫Êï∞ÊçÆ‰∏éÂπøÊí≠ÁöÑÂ∞èË°®Êï∞ÊçÆËøõË°å JOIN„ÄÇJoinÁöÑÊó∂ÂÄôSpark‰ºöÂØπÂ§ßË°®ÁöÑÂàÜÂå∫Êï∞ÊçÆËøõË°åÈÅçÂéÜÔºåÂØπ‰∫éÊØèÊù°ËÆ∞ÂΩïÔºåÊ†πÊçÆJOIN KeyÂú®Â∞èË°®‰∏≠Êü•ÊâæÂåπÈÖçÁöÑËÆ∞ÂΩïÂπ∂Â∞ÜÂåπÈÖçÁöÑÁªìÊûúËæìÂá∫ÔºåÊúÄÂêéÊØè‰∏™Executor ËäÇÁÇπÂ∞Ü JOIN ÁªìÊûúËæìÂá∫Âà∞Êú¨Âú∞ÊàñÂ§ñÈÉ®Â≠òÂÇ®Á≥ªÁªü„ÄÇ</p>
<p>ÂπøÊí≠JoinÂá∫ÂèëÁöÑÊù°‰ª∂ÊòØÔºåÂ∞èË°®ÁöÑÂ§ßÂ∞èÂøÖÈ°ªÂ∞è‰∫éspark.sql.autoBroadcastJoinThresholdÂèÇÊï∞ÁöÑÂÄºÔºåÈªòËÆ§10MÔºå‰πüÂ∞±ÊòØÂ∞èË°®ÁöÑÊï∞ÊçÆÈúÄË¶ÅËÉΩÂ§üÂÆåÂÖ®ÊîæÂÖ• Executor ÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÂπøÊí≠JoinÈÄÇÁî®‰∫éInner Join„ÄÅLeft Join Á≠â JOIN Á±ªÂûã„ÄÇ‰ΩÜSpark‰πüÊîØÊåÅÁî®Êà∑ÊâãÂä®‰ΩøÁî®broadcastÂáΩÊï∞Ëß¶Âèë„ÄÇ</p>
<p>ÂπøÊí≠JoinÁöÑ‰ºòÂäøÂú®‰∫éÈÅøÂÖç‰∫ÜShuffleÊìç‰ΩúÔºåÂáèÂ∞ëÁΩëÁªúÂíåÁ£ÅÁõòÁöÑIOÂºÄÈîÄÔºåÂêåÊó∂JOINÊìç‰ΩúÂú®Êú¨Âú∞ÂÆåÊàêÔºåÊòæËëóÊèêÂçá‰∫ÜÊâßË°åÊïàÁéá„ÄÇ‰ΩÜÂÆÉ‰πüÊúâËá™Â∑±ÁöÑÂ±ÄÈôêÊÄßÔºåÈÇ£Â∞±ÊòØÂ∞èË°®ÁöÑÊï∞ÊçÆÂøÖÈ°ªËÉΩÂ§üÂÆåÂÖ®ÊîæÂÖ•Executor ÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂‰∏îÂπøÊí≠Join‰∏çÈÄÇÁî®‰∫éFull Outer Join Á≠âÂ§çÊùÇÁöÑ JOIN Á±ªÂûã„ÄÇ</p>
<h3 id="sparkÂ∫îÁî®Á®ãÂ∫èÊâßË°åÊµÅÁ®ã">SparkÂ∫îÁî®Á®ãÂ∫èÊâßË°åÊµÅÁ®ã
</h3><p>SparkÂ∫îÁî®Á®ãÂ∫èÁöÑÊâßË°åËøáÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>
<ol>
<li><strong>ÂàõÂª∫SparkContext</strong> ÔºöÂ∫îÁî®Á®ãÂ∫èÈ¶ñÂÖàÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™SparkContextÂØπË±°ÔºåÂÆÉÊòØ‰∏éSparkÈõÜÁæ§ÈÄö‰ø°ÁöÑÂÖ•Âè£ÁÇπ„ÄÇSparkContextË¥üË¥£‰∏éÈõÜÁæ§ÁÆ°ÁêÜÂô®ÈÄö‰ø°ÔºåÂπ∂‰∏∫Â∫îÁî®Á®ãÂ∫èÂàÜÈÖçËµÑÊ∫ê„ÄÇ</li>
<li><strong>ÂàõÂª∫RDD</strong> ÔºöÂ∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆÂä†ËΩΩÂà∞ÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºàRDDÔºâ‰∏≠„ÄÇRDDÊòØSparkÁöÑÊ†∏ÂøÉÊï∞ÊçÆÁªìÊûÑÔºåÂÆÉ‰ª£Ë°®‰∫ÜÂàÜÂ∏ÉÂú®ÈõÜÁæ§‰∏≠ÁöÑÊï∞ÊçÆÈõÜÂêà„ÄÇRDDÂèØ‰ª•ÈÄöËøáËØªÂèñÊñá‰ª∂„ÄÅ‰ªéÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÈõÜÂàõÂª∫„ÄÅ‰ªéÂÖ∂‰ªñRDDËΩ¨Êç¢Á≠âÊñπÂºèÊù•ÂàõÂª∫„ÄÇ</li>
<li><strong>ËΩ¨Êç¢Êìç‰Ωú</strong> Ôºö‰∏ÄÊó¶RDDË¢´ÂàõÂª∫ÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÂØπRDDËøõË°å‰∏ÄÁ≥ªÂàóÁöÑËΩ¨Êç¢Êìç‰ΩúÔºå‰æãÂ¶Çmap„ÄÅfilter„ÄÅreduceÁ≠â„ÄÇËøô‰∫õËΩ¨Êç¢Êìç‰Ωú‰ºöÁîüÊàêÊñ∞ÁöÑRDDÔºåËÄå‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åËÆ°ÁÆó„ÄÇ</li>
<li><strong>Ë°åÂä®Êìç‰Ωú</strong> ÔºöÂΩìÂ∫îÁî®Á®ãÂ∫èÈúÄË¶ÅËé∑ÂèñËΩ¨Êç¢Êìç‰ΩúÁöÑÁªìÊûúÊó∂ÔºåÈúÄË¶ÅÊâßË°åË°åÂä®Êìç‰Ωú„ÄÇË°åÂä®Êìç‰Ωú‰ºöËß¶ÂèëSparkÊâßË°åËÆ°ÂàíÁöÑÁîüÊàêÂíåÊâßË°å„ÄÇÂ∏∏ËßÅÁöÑË°åÂä®Êìç‰ΩúÂåÖÊã¨collect„ÄÅcount„ÄÅsaveÁ≠âÔºåÂÆÉ‰ª¨‰ºöËøîÂõûËÆ°ÁÆóÁªìÊûúÁªôÂ∫îÁî®Á®ãÂ∫è„ÄÇ</li>
<li><strong>‰Ωú‰∏öÂàíÂàÜ</strong> ÔºöSparkÂ∞ÜÂ∫îÁî®Á®ãÂ∫èÁöÑË°åÂä®Êìç‰ΩúÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàóÁöÑ‰Ωú‰∏öÔºàjobsÔºâÔºåÊØè‰∏™‰Ωú‰∏öÁî±‰∏ÄÁªÑÁõ∏ÂÖ≥ÁöÑËΩ¨Êç¢Êìç‰ΩúÁªÑÊàê„ÄÇ‰Ωú‰∏öÂàíÂàÜÊòØ‰∏∫‰∫ÜÊèêÈ´òÂπ∂Ë°åÂ∫¶ÂíåÊï∞ÊçÆÊú¨Âú∞ÊÄßÔºå‰ª•‰æøÊõ¥Â•ΩÂú∞Âà©Áî®ÈõÜÁæ§ËµÑÊ∫ê„ÄÇ</li>
<li><strong>‰ªªÂä°ÂàíÂàÜ</strong> ÔºöÊØè‰∏™‰Ωú‰∏öË¢´ÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàóÁöÑ‰ªªÂä°ÔºàtasksÔºâÔºåÊØè‰∏™‰ªªÂä°Â§ÑÁêÜÊï∞ÊçÆÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ‰ªªÂä°ÁöÑÂàíÂàÜÊòØÊ†πÊçÆÊï∞ÊçÆÂàÜÂå∫ÂíåÂèØÁî®ËµÑÊ∫êÊù•ÂÆåÊàêÁöÑ„ÄÇ</li>
<li><strong>‰ªªÂä°Ë∞ÉÂ∫¶ÂíåÊâßË°å</strong> ÔºöSparkÂ∞Ü‰ªªÂä°ÂàÜÂèëÂà∞ÈõÜÁæ§‰∏≠ÁöÑÊâßË°åÂô®ËäÇÁÇπ‰∏äÊâßË°å„ÄÇ‰ªªÂä°Ë∞ÉÂ∫¶Âô®Ë¥üË¥£Â∞Ü‰ªªÂä°ÂàÜÈÖçÁªôÂèØÁî®ÁöÑÊâßË°åÂô®ËäÇÁÇπÔºåÂπ∂ËÄÉËôëÊï∞ÊçÆÊú¨Âú∞ÊÄß‰ª•ÊèêÈ´òÊÄßËÉΩ„ÄÇÊâßË°åÂô®ËäÇÁÇπ‰ºöÂä†ËΩΩÊï∞ÊçÆÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂ÊâßË°å‰ªªÂä°Êìç‰Ωú„ÄÇ</li>
<li><strong>ÁªìÊûúËøîÂõû</strong> Ôºö‰∏ÄÊó¶‰ªªÂä°ÊâßË°åÂÆåÊàêÔºåÊâßË°åÂô®Â∞ÜÁªìÊûúËøîÂõûÁªôÈ©±Âä®Á®ãÂ∫è„ÄÇÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•Â∞ÜÁªìÊûú‰øùÂ≠òÂà∞ÂÜÖÂ≠ò„ÄÅÁ£ÅÁõòÊàñÂÖ∂‰ªñÂ§ñÈÉ®Â≠òÂÇ®‰∏≠Ôºå‰πüÂèØ‰ª•Â∞ÜÁªìÊûúËøîÂõûÁªôÂ∫îÁî®Á®ãÂ∫è„ÄÇ</li>
<li><strong>ÂÆπÈîôÂíåÊÅ¢Â§ç</strong> ÔºöSparkÂÖ∑ÊúâÂÆπÈîôÊú∫Âà∂ÔºåÂèØ‰ª•Âú®ËäÇÁÇπÊïÖÈöúÊó∂Ëá™Âä®ÊÅ¢Â§ç„ÄÇÂ¶ÇÊûúÊüê‰∏™ËäÇÁÇπÂ§±Ë¥•ÔºåSparkÂèØ‰ª•ÈáçÊñ∞Ë∞ÉÂ∫¶‰ªªÂä°Âπ∂Âú®ÂÖ∂‰ªñËäÇÁÇπ‰∏äÊâßË°å„ÄÇ</li>
</ol>
<p>ÊÄªÁöÑÊù•ËØ¥ÔºåSparkÂ∫îÁî®Á®ãÂ∫èÁöÑÊâßË°åËøáÁ®ãÂåÖÊã¨ÂàõÂª∫SparkContext„ÄÅÂàõÂª∫RDD„ÄÅËΩ¨Êç¢Êìç‰Ωú„ÄÅË°åÂä®Êìç‰Ωú„ÄÅ‰Ωú‰∏öÂàíÂàÜ„ÄÅ‰ªªÂä°ÂàíÂàÜ„ÄÅ‰ªªÂä°Ë∞ÉÂ∫¶ÂíåÊâßË°å„ÄÅÁªìÊûúËøîÂõû‰ª•ÂèäÂÆπÈîôÂíåÊÅ¢Â§çÁ≠âÊ≠•È™§„ÄÇÈÄöËøáËøô‰∫õÊ≠•È™§ÔºåSparkËÉΩÂ§ü‰ª•È´òÊïà„ÄÅÂèØÈù†ÁöÑÊñπÂºèÂ§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆÂíåÂ§çÊùÇËÆ°ÁÆó‰ªªÂä°„ÄÇ</p>
<h3 id="‰ªãÁªç‰∏ãspark-shuffle‰ª•ÂèäÂÖ∂‰ºòÁº∫ÁÇπ">‰ªãÁªç‰∏ãSpark Shuffle‰ª•ÂèäÂÖ∂‰ºòÁº∫ÁÇπ
</h3><p>Âú® Apache Spark ‰∏≠ÔºåShuffle ÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆÁöÑÊìç‰ΩúÔºåÂÆÉË¥üË¥£Âú®ÂàÜÂ∏ÉÂºèËÆ°ÁÆó‰∏≠ÈáçÊñ∞ÂàÜÂ∏ÉÊï∞ÊçÆ„ÄÇShuffle ÈÄöÂ∏∏ÂèëÁîüÂú®ÂÆΩ‰æùËµñÊìç‰ΩúÔºàÂ¶Ç groupByKey„ÄÅreduceByKey„ÄÅjoin Á≠âÔºâ‰∏≠ÔºåÊòØ Spark ‰Ωú‰∏ö‰∏≠ÊúÄÊòÇË¥µÁöÑÊìç‰Ωú‰πã‰∏Ä„ÄÇShuffle ÊòØ Spark ‰∏≠Êï∞ÊçÆÈáçÊñ∞ÂàÜÂ∏ÉÁöÑËøáÁ®ã„ÄÇÂΩìÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆÊåâÁÖßÊüêÁßçËßÑÂàôÔºàÂ¶Ç KeyÔºâÈáçÊñ∞ÂàÜÁªÑÊàñËÅöÂêàÊó∂ÔºåSpark ‰ºöÂ∞ÜÊï∞ÊçÆ‰ªé‰∏äÊ∏∏‰ªªÂä°ÔºàMap Èò∂ÊÆµÔºâÁöÑËæìÂá∫ÂàÜÂå∫ÈáçÊñ∞ÂàÜÂå∫Âπ∂‰º†ËæìÂà∞‰∏ãÊ∏∏‰ªªÂä°ÔºàReduce Èò∂ÊÆµÔºâÁöÑËæìÂÖ•ÂàÜÂå∫„ÄÇ</p>
<p>Shuffle ÂàÜ‰∏∫‰∏§‰∏™‰∏ªË¶ÅÈò∂ÊÆµÔºåShuffle WriteÔºöMap ‰ªªÂä°Â∞ÜËæìÂá∫Êï∞ÊçÆÂÜôÂÖ•Êú¨Âú∞Á£ÅÁõòÔºåÂπ∂ÊåâÁÖßÂàÜÂå∫ËßÑÂàôÂ∞ÜÊï∞ÊçÆÂàÜÁªÑÔºåÊï∞ÊçÆ‰ºöË¢´ÂÜôÂÖ•Â§ö‰∏™‰∏¥Êó∂Êñá‰ª∂ÔºåÊØè‰∏™Êñá‰ª∂ÂØπÂ∫î‰∏Ä‰∏™ Reduce ÂàÜÂå∫„ÄÇShuffle ReadÔºöReduce ‰ªªÂä°‰ªéÂêÑ‰∏™ Map ‰ªªÂä°ÁöÑËæìÂá∫Êñá‰ª∂‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂπ∂ËøõË°åËÅöÂêàÊàñËÆ°ÁÆóÔºåÊï∞ÊçÆËØªÂèñËøáÁ®ãÂèØËÉΩÊ∂âÂèäÁΩëÁªú‰º†Ëæì„ÄÇ</p>
<p>Spark Êèê‰æõ‰∫Ü‰∏§Áßç Shuffle ÂÆûÁé∞ÊñπÂºèÔºåHash ShuffleÔºöÊØè‰∏™ Map ‰ªªÂä°‰∏∫ÊØè‰∏™ Reduce ‰ªªÂä°ÁîüÊàê‰∏Ä‰∏™Êñá‰ª∂ÔºåÂØºËá¥Êñá‰ª∂Êï∞ËøáÂ§öÔºåÈÄÇÁî®‰∫éÂ∞èËßÑÊ®°Êï∞ÊçÆÔºå‰ΩÜ‰ºö‰∫ßÁîüÂ§ßÈáèÂ∞èÊñá‰ª∂ÔºåÂΩ±ÂìçÊÄßËÉΩ„ÄÇSort ShuffleÔºöMap ‰ªªÂä°Â∞ÜÊï∞ÊçÆÊéíÂ∫èÂêéÂÜôÂÖ•Âçï‰∏™Êñá‰ª∂ÔºåÂπ∂ÁîüÊàêÁ¥¢ÂºïÊñá‰ª∂ÔºåÂáèÂ∞ë‰∫ÜÊñá‰ª∂Êï∞ÔºåÈÄÇÁî®‰∫éÂ§ßËßÑÊ®°Êï∞ÊçÆÔºåÊòØ Spark 1.2 ‰πãÂêéÁöÑÈªòËÆ§ÂÆûÁé∞„ÄÇ</p>
<p>Shuffle ÁöÑ‰ºòÁÇπÔºöShuffle ‰ΩøÂæó Spark ËÉΩÂ§üÊîØÊåÅÂ§çÊùÇÁöÑÂÆΩ‰æùËµñÊìç‰ΩúÔºåÂ¶Ç groupByKey„ÄÅreduceByKey„ÄÅjoin Á≠âÔºõShuffle ÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇÈáçÊñ∞ÂàÜÂ∏ÉÊï∞ÊçÆÔºåÊª°Ë∂≥ËÆ°ÁÆóÈúÄÊ±ÇÔºõÁÅµÊ¥ªÊÄßÔºöShuffle ÊîØÊåÅËá™ÂÆö‰πâÂàÜÂå∫Âô®ÔºàPartitionerÔºâÔºåÁî®Êà∑ÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇÂÆö‰πâÂàÜÂå∫ËßÑÂàô„ÄÇ</p>
<p>Shuffle ÁöÑÁº∫ÁÇπ</p>
<p>ÊÄßËÉΩÂºÄÈîÄÂ§ßÔºöÁ£ÅÁõò I/OÔºöShuffle Write Âíå Shuffle Read ÈÉΩÊ∂âÂèäÂ§ßÈáèÁ£ÅÁõòËØªÂÜôÊìç‰ΩúÔºõÁΩëÁªú‰º†ËæìÔºöÊï∞ÊçÆÈúÄË¶ÅÂú®ËäÇÁÇπ‰πãÈó¥‰º†ËæìÔºåÁΩëÁªúÂ∏¶ÂÆΩÂèØËÉΩÊàê‰∏∫Áì∂È¢àÔºõÂ∫èÂàóÂåñ/ÂèçÂ∫èÂàóÂåñÔºöÊï∞ÊçÆÂú®‰º†ËæìÂâçÂêéÈúÄË¶ÅÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÔºåÊ∂àËÄó CPU ËµÑÊ∫ê„ÄÇ</p>
<p>Êï∞ÊçÆÂÄæÊñúÔºöÊüê‰∫õÂàÜÂå∫ÁöÑÊï∞ÊçÆÈáèËøúÂ§ß‰∫éÂÖ∂‰ªñÂàÜÂå∫ÔºåÂØºËá¥‰ªªÂä°Ë¥üËΩΩ‰∏çÂùáË°°„ÄÇ</p>
<p>Â∞èÊñá‰ª∂ÈóÆÈ¢òÔºöHash Shuffle ‰ºö‰∫ßÁîüÂ§ßÈáèÂ∞èÊñá‰ª∂ÔºåÂΩ±ÂìçÂ≠òÂÇ®ÂíåÊü•ËØ¢ÊÄßËÉΩ„ÄÇ</p>
<p>Shuffle ÁöÑ‰ºòÂåñ</p>
<p>ÂáèÂ∞ë Shuffle Êï∞ÊçÆÈáèÔºöÂú® Shuffle ÂâçËøáÊª§Êéâ‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆÔºå‰ΩøÁî® reduceByKey ‰ª£Êõø groupByKeyÔºåÂáèÂ∞ëÊï∞ÊçÆ‰º†ËæìÈáè„ÄÇ</p>
<p>‰ºòÂåñÂàÜÂå∫Êï∞ÔºöÂêàÁêÜËÆæÁΩÆÂàÜÂå∫Êï∞ÔºåÈÅøÂÖçËøáÂ§öÊàñËøáÂ∞ëÁöÑÂàÜÂå∫„ÄÇ</p>
<p>‰ΩøÁî®È´òÊïàÁöÑÂ∫èÂàóÂåñÂ∫ìÔºö‰ΩøÁî® Kryo Â∫èÂàóÂåñÂ∫ìÔºåÂáèÂ∞ëÂ∫èÂàóÂåñÂºÄÈîÄ„ÄÇ</p>
<p>ÂêØÁî® Shuffle ÂéãÁº©ÔºöÈÄöËøá spark.shuffle.compress ÂèÇÊï∞ÂêØÁî®ÂéãÁº©ÔºåÂáèÂ∞ëÁΩëÁªú‰º†ËæìÈáè„ÄÇ</p>
<p>Êï∞ÊçÆÂÄæÊñúÂ§ÑÁêÜÔºöÂØπÂÄæÊñúÁöÑ Key Ê∑ªÂä†ÈöèÊú∫ÂâçÁºÄÔºåÂàÜÊï£Êï∞ÊçÆÔºå‰ΩøÁî®Ëá™ÂÆö‰πâÂàÜÂå∫Âô®Ôºå‰ºòÂåñÊï∞ÊçÆÂàÜÂ∏É„ÄÇ</p>
<h3 id="‰∏∫‰ªÄ‰πàË¶Åspark-shuffle">‰∏∫‰ªÄ‰πàË¶ÅSpark Shuffle
</h3><p>Âú®ÂàÜÂ∏ÉÂºèËÆ°ÁÆó‰∏≠ÔºåÊï∞ÊçÆÈÄöÂ∏∏ÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑËäÇÁÇπ‰∏ä„ÄÇË¶ÅÂØπÊï∞ÊçÆËøõË°åËÅöÂêàÊàñËøûÊé•Êìç‰ΩúÔºåÈúÄË¶ÅÂ∞ÜÂÖ∑ÊúâÁõ∏Âêå Key ÁöÑÊï∞ÊçÆÈáçÊñ∞ÂàÜÂ∏ÉÂà∞Âêå‰∏Ä‰∏™ËäÇÁÇπ‰∏äËøõË°åÂ§ÑÁêÜ„ÄÇ</p>
<h3 id="ËØ¥Êòéyarn-clusterÊ®°Âºè‰Ωú‰∏öÊèê‰∫§ÊµÅÁ®ãyarn-cluster‰∏éyarn-clientÁöÑÂå∫Âà´">ËØ¥Êòéyarn-clusterÊ®°Âºè‰Ωú‰∏öÊèê‰∫§ÊµÅÁ®ãÔºåyarn-cluster‰∏éyarn-clientÁöÑÂå∫Âà´
</h3><p>Âú®Spark‰∏≠ÔºåYARNÊòØ‰∏ÄÁßçÁî®‰∫éÈõÜÁæ§ËµÑÊ∫êÁÆ°ÁêÜÁöÑÊ°ÜÊû∂ÔºåÂèØ‰ª•Â∞ÜSparkÂ∫îÁî®Á®ãÂ∫èÊèê‰∫§Âà∞YARNÈõÜÁæ§‰∏äËøõË°åÊâßË°å„ÄÇYARNÊèê‰æõ‰∫Ü‰∏§ÁßçÊ®°Âºè‰æõSparkÂ∫îÁî®Á®ãÂ∫èÊèê‰∫§Ôºöyarn-clusterÂíåyarn-client„ÄÇ</p>
<ol>
<li>yarn-clusterÊ®°Âºè‰Ωú‰∏öÊèê‰∫§ÊµÅÁ®ãÔºö
<ul>
<li>ÂΩì‰Ω†Âú®‰ΩøÁî® <code>spark-submit</code>ÂëΩ‰ª§Êèê‰∫§SparkÂ∫îÁî®Á®ãÂ∫èÊó∂ÔºåÊåáÂÆö‰∫Ü <code>--deploy-mode cluster</code>ÂèÇÊï∞ÔºåÂç≥‰ΩøÁî®yarn-clusterÊ®°Âºè„ÄÇ</li>
<li>Êèê‰∫§ÂëΩ‰ª§ÂèëÈÄÅÁªôYARNÁöÑResourceManagerÔºåResourceManager‰ºö‰∏∫Â∫îÁî®Á®ãÂ∫èÂàÜÈÖç‰∏Ä‰∏™ApplicationMaster„ÄÇ</li>
<li>ApplicationMasterÊòØ‰∏Ä‰∏™‰∏ìÈó®Ë¥üË¥£ÁÆ°ÁêÜÂ∫îÁî®Á®ãÂ∫èÊâßË°åÁöÑÁªÑ‰ª∂ÔºåÂÆÉ‰ºöÂêëResourceManagerËØ∑Ê±ÇËµÑÊ∫ê„ÄÇ</li>
<li>ResourceManager‰ºö‰∏∫ApplicationMasterÂàÜÈÖç‰∏ÄÂÆöÊï∞ÈáèÁöÑËµÑÊ∫êÔºåËøô‰∫õËµÑÊ∫êÂ∞ÜÁî®‰∫éÂêØÂä®Executor„ÄÇ</li>
<li>ApplicationMaster‰ºö‰∏éÂêÑ‰∏™NodeManagerÈÄö‰ø°ÔºåÂêØÂä®ExecutorÔºåÂπ∂Â∞ÜÂ∫îÁî®Á®ãÂ∫èÁöÑ‰ª£Á†ÅÂíå‰æùËµñÊñá‰ª∂ÂàÜÂèëÂà∞ÂêÑ‰∏™ExecutorÊâÄÂú®ÁöÑËäÇÁÇπ‰∏ä„ÄÇ</li>
<li>Executor‰ºöÊ†πÊçÆÊåáÂÆöÁöÑ‰ªªÂä°ÂàÜÈÖçÁ≠ñÁï•ÊâßË°åÂÖ∑‰ΩìÁöÑ‰ªªÂä°Ôºå‰ªªÂä°ÁöÑÊâßË°åÁªìÊûú‰ºöËøîÂõûÁªôApplicationMaster„ÄÇ</li>
<li>ApplicationMaster‰ºöÂ∞Ü‰ªªÂä°ÁöÑÊâßË°åÁªìÊûúËøîÂõûÁªôDriverÁ®ãÂ∫èÔºåDriverÁ®ãÂ∫èÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËøõË°åÂêéÁª≠Â§ÑÁêÜ„ÄÇ</li>
</ul>
</li>
<li>yarn-cluster‰∏éyarn-clientÁöÑÂå∫Âà´Ôºö
<ul>
<li>yarn-clusterÊ®°Âºè‰∏ãÔºåDriverÁ®ãÂ∫èËøêË°åÂú®ÈõÜÁæ§‰∏≠ÁöÑ‰∏Ä‰∏™Executor‰∏äÔºåÂπ∂‰∏îDriverÁ®ãÂ∫è‰∏éApplicationMasterÊòØÁã¨Á´ãÁöÑËøõÁ®ã„ÄÇËøôÊÑèÂë≥ÁùÄDriverÁ®ãÂ∫èÁöÑÊâßË°å‰∏ç‰ºöÂèóÂà∞Êú¨Âú∞ÁéØÂ¢ÉÁöÑÈôêÂà∂ÔºåÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®ÈõÜÁæ§ËµÑÊ∫ê„ÄÇ</li>
<li>yarn-clientÊ®°Âºè‰∏ãÔºåDriverÁ®ãÂ∫èËøêË°åÂú®Êèê‰∫§SparkÂ∫îÁî®Á®ãÂ∫èÁöÑÊú¨Âú∞Êú∫Âô®‰∏äÔºåËÄå‰∏çÊòØÈõÜÁæ§‰∏≠ÁöÑ‰∏Ä‰∏™Executor‰∏ä„ÄÇDriverÁ®ãÂ∫è‰∏éApplicationMasterÊòØÂêå‰∏Ä‰∏™ËøõÁ®ã„ÄÇËøôÊÑèÂë≥ÁùÄDriverÁ®ãÂ∫èÁöÑÊâßË°åÂèóÂà∞Êú¨Âú∞ÁéØÂ¢ÉÁöÑÈôêÂà∂Ôºå‰æãÂ¶ÇÂèØÁî®ÁöÑÂÜÖÂ≠òÂíåCPUËµÑÊ∫ê„ÄÇ</li>
<li>Âú®yarn-clusterÊ®°Âºè‰∏ãÔºåÊèê‰∫§ÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•Âú®ÈõÜÁæ§‰∏≠ÈïøÊó∂Èó¥ËøêË°åÔºåÂç≥‰Ωø‰∏éÊèê‰∫§Â∫îÁî®Á®ãÂ∫èÁöÑÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•ÔºåÂ∫îÁî®Á®ãÂ∫è‰ªçÁÑ∂ÂèØ‰ª•ÁªßÁª≠ÊâßË°å„ÄÇËÄåÂú®yarn-clientÊ®°Âºè‰∏ãÔºåÂ¶ÇÊûú‰∏éÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•ÔºåÂ∫îÁî®Á®ãÂ∫è‰ºöË¢´ÁªàÊ≠¢„ÄÇ</li>
<li>yarn-clusterÊ®°ÂºèÈÄÇÁî®‰∫éÈïøÊó∂Èó¥ËøêË°åÁöÑÂ∫îÁî®Á®ãÂ∫èÔºå‰æãÂ¶ÇÊâπÂ§ÑÁêÜ‰Ωú‰∏ö„ÄÇyarn-clientÊ®°ÂºèÈÄÇÁî®‰∫é‰∫§‰∫íÂºèÂ∫îÁî®Á®ãÂ∫èÔºå‰æãÂ¶ÇSpark Shell„ÄÇ</li>
</ul>
</li>
</ol>
<p>Yarn ClientÊ®°Âºè(‰∏ÄËà¨Áî®‰∫éÊµãËØï)</p>
<ul>
<li>DriverÂú®‰ªªÂä°Êèê‰∫§ÁöÑÊú¨Âú∞Êú∫Âô®‰∏äËøêË°å</li>
<li>DriverÂêØÂä®Âêé‰ºöÂêëResourceManagerÈÄöËÆØÁî≥ËØ∑ÂêØÂä®ApplicationMaster</li>
<li>ResourceManagerÂàÜÈÖçContainerÔºåÂú®ÂêàÈÄÇÁöÑNodeManager‰∏äÂêØÂä®ApplicationMasterÔºåË¥üË¥£ÂêëResourceManagerÁî≥ËØ∑ExecutorÂÜÖÂ≠ò</li>
<li>ResourceManagerÊé•Âà∞ApplicationMasterÁöÑËµÑÊ∫êÁî≥ËØ∑Âêé‰ºöÂàÜÈÖçContainerÔºåÁÑ∂ÂêéApplicationMasterÂú®ËµÑÊ∫êÂàÜÈÖçÊåáÂÆöÁöÑNodeManager‰∏äÈ©±Âä®ExecutorËøõÁ®ã</li>
<li>ExecutorËøõÁ®ãÂêØÂä®Âêé‰ºöÂêëDriverÂèçÂêëÊ≥®ÂÜåÔºåExecutorÂÖ®ÈÉ®Ê≥®ÂÜåÂÆåÊàê‰πãÂêéÔºåDriverÂºÄÂßãÊâßË°åMainÂáΩÊï∞</li>
<li>‰πãÂêéÊâßË°åÂà∞ActionÁÆóÂ≠êÔºåËß¶Âèë‰∏Ä‰∏™JobÔºåÂπ∂Ê†πÊçÆÂÆΩ‰æùËµñÂºÄÂßãÂàíÂàÜStageÔºåÊØè‰∏™StageÁîüÊàêÂØπÂ∫îÁöÑTaskSetÔºå‰πãÂêéÂ∞ÜTaskÂàÜÂèëÂà∞ÂêÑ‰∏™Executor‰∏äÊâßË°å</li>
</ul>
<p>Yarn ClusterÊ®°Âºè</p>
<ul>
<li>‰ªªÂä°Êèê‰∫§ÂêéÔºåClient‰ºöÂÖàÂíåResourceManagerÈÄöËÆØÔºåÁî≥ËØ∑ÂêØÂä®ApplicationMaster</li>
<li>ResourceManagerÂàÜÈÖçContainerÔºåÂú®ÂêàÈÄÇÁöÑNodeManager‰∏äÂêØÂä®ApplicationMasterÔºåÊ≠§Êó∂ÁöÑApplicationMasterÂ∞±ÊòØDriver</li>
<li>DriverÂêØÂä®Âêé‰ºöÂêëResourceManagerÁî≥ËØ∑ExecutorÂÜÖÂ≠òÔºåResourceManagerÊé•Âà∞ApplicationMasterÁöÑËµÑÊ∫êÁî≥ËØ∑Âêé‰ºöÂàÜÈÖçContainerÔºåÁÑ∂ÂêéÂú®ÂêàÈÄÇÁöÑNodeManager‰∏äÂêØÂä®ExecutorËøõÁ®ã</li>
<li>ExecutorËøõÁ®ãÂêØÂä®Âêé‰ºöÂêëDriverÂèçÂêëÊ≥®ÂÜåÔºåExecutorÂÖ®ÈÉ®Ê≥®ÂÜåÂÆåÊàê‰πãÂêéÔºåDriverÂºÄÂßãÊâßË°åMainÂáΩÊï∞</li>
<li>‰πãÂêéÊâßË°åÂà∞ActionÁÆóÂ≠êÔºåËß¶Âèë‰∏Ä‰∏™JobÔºåÂπ∂Ê†πÊçÆÂÆΩ‰æùËµñÂºÄÂßãÂàíÂàÜStageÔºåÊØè‰∏™StageÁîüÊàêÂØπÂ∫îÁöÑTaskSetÔºå‰πãÂêéÂ∞ÜTaskÂàÜÂèëÂà∞ÂêÑ‰∏™Executor‰∏äÊâßË°å</li>
</ul>
<p>ÊÄªÁªìÔºöyarn-clusterÊ®°Âºè‰∏ãÔºåDriverÁ®ãÂ∫èËøêË°åÂú®ÈõÜÁæ§‰∏≠ÁöÑ‰∏Ä‰∏™Executor‰∏äÔºå‰∏éApplicationMasterÊòØÁã¨Á´ãÁöÑËøõÁ®ãÔºõyarn-clientÊ®°Âºè‰∏ãÔºåDriverÁ®ãÂ∫èËøêË°åÂú®Êú¨Âú∞Êú∫Âô®‰∏äÔºå‰∏éApplicationMasterÊòØÂêå‰∏Ä‰∏™ËøõÁ®ã„ÄÇ</p>
<h3 id="sparkÁöÑÂÜÖÂ≠òÊ®°Âûã">SparkÁöÑÂÜÖÂ≠òÊ®°Âûã
</h3><p>Spark‰∏≠ÁöÑÂÜÖÂ≠ò‰ΩøÁî®ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºöÊâßË°åÔºàexecutionÔºâ‰∏éÂ≠òÂÇ®ÔºàstorageÔºâ„ÄÇÊâßË°åÂÜÖÂ≠ò‰∏ªË¶ÅÁî®‰∫éshuffles„ÄÅjoins„ÄÅsortsÂíåaggregationsÔºåÂ≠òÂÇ®ÂÜÖÂ≠òÂàôÁî®‰∫éÁºìÂ≠òÊàñËÄÖË∑®ËäÇÁÇπÁöÑÂÜÖÈÉ®Êï∞ÊçÆ‰º†Ëæì„ÄÇ1.6‰πãÂâçÔºåÂØπ‰∫é‰∏Ä‰∏™ExecutorÔºåÂÜÖÂ≠òÈÉΩÁî±‰ª•‰∏ãÈÉ®ÂàÜÊûÑÊàêÔºö
‚ÄÉ 1ÔºâExecutionMemory„ÄÇËøôÁâáÂÜÖÂ≠òÂå∫ÂüüÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ shuffles,joins, sorts and aggregations ËøáÁ®ã‰∏≠‰∏∫‰∫ÜÈÅøÂÖçÈ¢ëÁπÅIOÈúÄË¶ÅÁöÑbuffer„ÄÇ ÈÄöËøáspark.shuffle.memoryFraction(ÈªòËÆ§ 0.2) ÈÖçÁΩÆ„ÄÇ
‚ÄÉ 2ÔºâStorageMemory„ÄÇËøôÁâáÂÜÖÂ≠òÂå∫ÂüüÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ block cache(Â∞±ÊòØ‰Ω†ÊòæÁ§∫Ë∞ÉÁî®rdd.cache, rdd.persistÁ≠âÊñπÊ≥ï), ËøòÊúâÂ∞±ÊòØbroadcasts,‰ª•Âèätask resultsÁöÑÂ≠òÂÇ®„ÄÇÂèØ‰ª•ÈÄöËøáÂèÇÊï∞ spark.storage.memoryFraction(ÈªòËÆ§0.6)ËÆæÁΩÆ„ÄÇ
‚ÄÉ 3ÔºâOtherMemory„ÄÇÁªôÁ≥ªÁªüÈ¢ÑÁïôÁöÑÔºåÂõ†‰∏∫Á®ãÂ∫èÊú¨Ë∫´ËøêË°å‰πüÊòØÈúÄË¶ÅÂÜÖÂ≠òÁöÑ(ÈªòËÆ§‰∏∫0.2)„ÄÇ ‚ÄÉ ‰º†ÁªüÂÜÖÂ≠òÁÆ°ÁêÜÁöÑ‰∏çË∂≥Ôºö
‚ÄÉ 1ÔºâShuffleÂç†Áî®ÂÜÖÂ≠ò0.2*0.8ÔºåÂÜÖÂ≠òÂàÜÈÖçËøô‰πàÂ∞ëÔºåÂèØËÉΩ‰ºöÂ∞ÜÊï∞ÊçÆspillÂà∞Á£ÅÁõòÔºåÈ¢ëÁπÅÁöÑÁ£ÅÁõòIOÊòØÂæàÂ§ßÁöÑË¥üÊãÖÔºåStorageÂÜÖÂ≠òÂç†Áî®0.6Ôºå‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜËø≠‰ª£Â§ÑÁêÜ„ÄÇ‰º†ÁªüÁöÑSparkÂÜÖÂ≠òÂàÜÈÖçÂØπÊìç‰Ωú‰∫∫ÁöÑË¶ÅÊ±ÇÈùûÂ∏∏È´ò„ÄÇÔºàShuffleÂàÜÈÖçÂÜÖÂ≠òÔºöShuffleMemoryManager, TaskMemoryManager, ExecutorMemoryManagerÔºâ‰∏Ä‰∏™TaskËé∑ÂæóÂÖ®ÈÉ®ÁöÑExecutionÁöÑMemoryÔºåÂÖ∂‰ªñTaskËøáÊù•Â∞±Ê≤°ÊúâÂÜÖÂ≠ò‰∫ÜÔºåÂè™ËÉΩÁ≠âÂæÖÔºõ
‚ÄÉ 2ÔºâÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåTaskÂú®Á∫øÁ®ã‰∏≠ÂèØËÉΩ‰ºöÂç†Êª°Êï¥‰∏™ÂÜÖÂ≠òÔºåÂàÜÁâáÊï∞ÊçÆ</p>
<p><a class="link" href="https://zhuanlan.zhihu.com/p/497268882"  target="_blank" rel="noopener"
    >https://zhuanlan.zhihu.com/p/497268882</a></p>
<h3 id="ËØ¥ËØ¥sparkÁöÑÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖç">ËØ¥ËØ¥SparkÁöÑÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖç
</h3><p>ÂØπ‰∫éSparkÂ∫îÁî®Êù•ËØ¥ÔºåËµÑÊ∫êÊòØÂΩ±ÂìçSparkÂ∫îÁî®ÊâßË°åÊïàÁéáÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂõ†Á¥†„ÄÇÂΩì‰∏Ä‰∏™ÈïøÊúüËøêË°åÁöÑÊúçÂä°ÔºåËã•ÂàÜÈÖçÁªôÂÆÉÂ§ö‰∏™ExecutorÔºåÂèØÊòØÂç¥Ê≤°Êúâ‰ªª‰Ωï‰ªªÂä°ÂàÜÈÖçÁªôÂÆÉÔºåËÄåÊ≠§Êó∂ÊúâÂÖ∂‰ªñÁöÑÂ∫îÁî®Âç¥ËµÑÊ∫êÁ¥ßÂº†ÔºåËøôÂ∞±ÈÄ†Êàê‰∫ÜÂæàÂ§ßÁöÑËµÑÊ∫êÊµ™Ë¥πÂíåËµÑÊ∫ê‰∏çÂêàÁêÜÁöÑË∞ÉÂ∫¶„ÄÇ</p>
<h3 id="ÁÆÄËø∞ÂπøÊí≠ÂèòÈáèÂíåÁ¥ØÂä†Âô®ÁöÑÂü∫Êú¨ÂéüÁêÜÂíåÁî®ÈÄî">ÁÆÄËø∞ÂπøÊí≠ÂèòÈáèÂíåÁ¥ØÂä†Âô®ÁöÑÂü∫Êú¨ÂéüÁêÜÂíåÁî®ÈÄî
</h3><p>ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™‰º†ÈÄíÁªô RDD Êìç‰ΩúÔºàÂ¶Çmap„ÄÅreduceByKeyÔºâÁöÑ func ÊòØÂú®ËøúÁ®ãËäÇÁÇπ‰∏äÊâßË°åÁöÑ„ÄÇÂáΩÊï∞ func Âú®Â§ö‰∏™ËäÇÁÇπÊâßË°åËøáÁ®ã‰∏≠‰ΩøÁî®ÁöÑÂèòÈáèÔºåÊòØDriver‰∏äÂêå‰∏Ä‰∏™ÂèòÈáèÁöÑÂ§ö‰∏™ÂâØÊú¨„ÄÇËøô‰∫õÂèòÈáè‰ª•ÂâØÊú¨ÁöÑÊñπÂºèÊã∑Ë¥ùÂà∞ÊØè‰∏™task‰∏≠ÔºåÂπ∂‰∏îÂêÑtask‰∏≠ÂèòÈáèÁöÑÊõ¥Êñ∞Âπ∂‰∏ç‰ºöËøîÂõû Driver</p>
<p>‰∏∫‰∫ÜËß£ÂÜ≥‰ª•‰∏äÈóÆÈ¢òÔºåSpark Êèê‰æõ‰∫Ü‰∏§ÁßçÁâπÂÆöÁ±ªÂûãÁöÑÂÖ±‰∫´ÂèòÈáè : ÂπøÊí≠ÂèòÈáè Âíå Á¥ØÂä†Âô®„ÄÇ<strong>ÂπøÊí≠ÂèòÈáè‰∏ªË¶ÅÁî®‰∫éÈ´òÊïàÂàÜÂèëËæÉÂ§ßÁöÑÊï∞ÊçÆÂØπË±°ÔºåÁ¥ØÂä†Âô®‰∏ªË¶ÅÁî®‰∫éÂØπ‰ø°ÊÅØËøõË°åËÅöÂêà</strong></p>
<p>ÂπøÊí≠ÂèòÈáèÁöÑÂ•ΩÂ§ÑÔºå‰∏çÈúÄË¶ÅÊØè‰∏™taskÂ∏¶‰∏ä‰∏Ä‰ªΩÂèòÈáèÂâØÊú¨ÔºåËÄåÊòØÂèòÊàêÊØè‰∏™ËäÇÁÇπÁöÑexecutorÁöÑ‰∏Ä‰ªΩÂâØÊú¨„ÄÇËøôÊ†∑ÁöÑËØùÔºå Â∞±ÂèØ‰ª•ËÆ©ÂèòÈáè‰∫ßÁîüÁöÑÂâØÊú¨Â§ßÂ§ßÂáèÂ∞ë„ÄÇËÄå‰∏î Spark ‰ΩøÁî®È´òÊïàÂπøÊí≠ÁÆóÊ≥ïÔºàBTÂçèËÆÆÔºâÂàÜÂèëÂπøÊí≠ÂèòÈáè‰ª•Èôç‰ΩéÈÄö‰ø°ÊàêÊú¨</p>
<p>Á¥ØÂä†Âô®ÊòØ Spark ‰∏≠Êèê‰æõÁöÑ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÁöÑÂèòÈáèÊú∫Âà∂ÔºåÂú®DriverÁ´ØËøõË°åÂàùÂßãÂåñÔºåtask‰∏≠ÂØπÂèòÈáèËøõË°åÁ¥ØÂä†Êìç‰Ωú</p>
<p>ÂπøÊí≠ÂèòÈáèÂÖ∏ÂûãÁöÑ‰ΩøÁî®Ê°à‰æãÊòØMap Side JoinÔºõÁ¥ØÂä†Âô®ÁªèÂÖ∏ÁöÑÂ∫îÁî®Âú∫ÊôØÊòØÁî®Êù•Âú® Spark Â∫îÁî®‰∏≠ËÆ∞ÂΩïÊüê‰∫õ‰∫ã‰ª∂/‰ø°ÊÅØÁöÑÊï∞Èáè</p>
<h3 id="sparkÁöÑ‰ºòÂåñÊÄé‰πàÂÅösparkÂÅöËøáÂì™‰∫õ‰ºòÂåñÂéüÁêÜÊòØ‰ªÄ‰πà">SparkÁöÑ‰ºòÂåñÊÄé‰πàÂÅöÔºüSparkÂÅöËøáÂì™‰∫õ‰ºòÂåñÔºüÂéüÁêÜÊòØ‰ªÄ‰πà
</h3><p>SparkÁöÑ‰ºòÂåñÂèØ‰ª•‰ªéÂ§ö‰∏™ÊñπÈù¢ËøõË°åÔºåÂåÖÊã¨Êï∞ÊçÆÂ≠òÂÇ®ÂíåÂéãÁº©„ÄÅÊï∞ÊçÆÂàÜÂå∫ÂíåÂàÜÊ°∂„ÄÅShuffleÊìç‰ΩúÁöÑ‰ºòÂåñ„ÄÅÂÜÖÂ≠òÁÆ°ÁêÜÂíåÁºìÂ≠ò„ÄÅÂπ∂Ë°åÂ∫¶ÂíåËµÑÊ∫êÈÖçÁΩÆÁ≠â„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑSpark‰ºòÂåñÊäÄÊúØÂíåÂéüÁêÜÔºö</p>
<ol>
<li>
<p><strong>Êï∞ÊçÆÂ≠òÂÇ®ÂíåÂéãÁº©</strong> Ôºö‰ΩøÁî®ÂàóÂºèÂ≠òÂÇ®Ê†ºÂºèÔºàÂ¶ÇParquet„ÄÅORCÔºâÂèØ‰ª•ÂáèÂ∞ëÁ£ÅÁõòIOÂíåÂÜÖÂ≠òÂç†Áî®ÔºåÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩ„ÄÇÂêåÊó∂Ôºå‰ΩøÁî®ÂéãÁº©ÁÆóÊ≥ïÔºàÂ¶ÇSnappy„ÄÅGzipÔºâÂèØ‰ª•ÂáèÂ∞èÊï∞ÊçÆÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºåÂáèÂ∞ëÁ£ÅÁõòIOÂíåÁΩëÁªú‰º†ËæìÂºÄÈîÄ„ÄÇ</p>
</li>
<li>
<p><strong>Êï∞ÊçÆÂàÜÂå∫ÂíåÂàÜÊ°∂</strong> ÔºöÂêàÁêÜÁöÑÊï∞ÊçÆÂàÜÂå∫ÂíåÂàÜÊ°∂ÂèØ‰ª•ÊèêÈ´òÊï∞ÊçÆÁöÑÂ±ÄÈÉ®ÊÄßÔºåÂáèÂ∞ëShuffleÊìç‰ΩúÁöÑÊï∞ÊçÆ‰º†ËæìÈáè„ÄÇÈÄöËøáÂ∞ÜÁõ∏ÂêåÈîÆÁöÑÊï∞ÊçÆÂàÜÈÖçÂà∞Âêå‰∏Ä‰∏™ÂàÜÂå∫ÊàñÊ°∂‰∏≠ÔºåÂèØ‰ª•ÂáèÂ∞ëÊï∞ÊçÆÁöÑÁßªÂä®ÂíåÁΩëÁªú‰º†Ëæì„ÄÇ</p>
</li>
<li>
<p><strong>ShuffleÊìç‰ΩúÁöÑ‰ºòÂåñ</strong> ÔºöShuffleÊòØSpark‰∏≠Â∏∏ËßÅÁöÑÂºÄÈîÄËæÉÂ§ßÁöÑÊìç‰ΩúÔºåÂèØ‰ª•ÈÄöËøá‰ΩøÁî®ÂêàÈÄÇÁöÑShuffleÊìç‰ΩúÁÆóÂ≠ê„ÄÅË∞ÉÊï¥ÂàÜÂå∫Êï∞„ÄÅÂêàÁêÜËÆæÁΩÆÁºìÂ≠òÁ≠âÊâãÊÆµÊù•‰ºòÂåñShuffleÁöÑÊÄßËÉΩ„ÄÇ</p>
<ul>
<li>Ë∞ÉÊï¥ÂàÜÂå∫Êï∞ÔºöÂêàÁêÜËÆæÁΩÆÂàÜÂå∫Êï∞ÔºåÈÅøÂÖçÊï∞ÊçÆÂÄæÊñúÂíåËµÑÊ∫êÊµ™Ë¥π„ÄÇ</li>
<li>‰ΩøÁî®Êú¨Âú∞ÂåñShuffleÔºöÂ∞ΩÂèØËÉΩÂ∞ÜShuffleÊï∞ÊçÆÊîæÁΩÆÂú®‰∏éËÆ°ÁÆóËäÇÁÇπÁõ∏ÂêåÁöÑËäÇÁÇπ‰∏äÔºåÂáèÂ∞ëÁΩëÁªú‰º†ËæìÂºÄÈîÄ„ÄÇ</li>
<li>‰ΩøÁî®Á¥ØÂä†Âô®ÂíåÂπøÊí≠ÂèòÈáèÔºöÈÅøÂÖçÂ∞ÜÂ§ßÈáèÊï∞ÊçÆÈÄöËøáShuffle‰º†ËæìÔºåËÄåÊòØÈÄöËøáÁ¥ØÂä†Âô®ÂíåÂπøÊí≠ÂèòÈáèÂú®ËäÇÁÇπÈó¥ÂÖ±‰∫´Êï∞ÊçÆ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÂÜÖÂ≠òÁÆ°ÁêÜÂíåÁºìÂ≠ò</strong> ÔºöSpark‰ΩøÁî®ÂÜÖÂ≠òÊù•Âä†ÈÄüÊï∞ÊçÆÂ§ÑÁêÜÔºåÂêàÁêÜÈÖçÁΩÆSparkÁöÑÂÜÖÂ≠òÂàÜÈÖçÂíåÁºìÂ≠òÁ≠ñÁï•ÔºåÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®ÂÜÖÂ≠òËµÑÊ∫êÔºåÂáèÂ∞ëÁ£ÅÁõòIOÔºåÊèêÈ´òÊü•ËØ¢ÈÄüÂ∫¶„ÄÇ</p>
<ul>
<li>ÂêàÁêÜËÆæÁΩÆÂÜÖÂ≠òÂàÜÈÖçÊØî‰æãÔºåÂ¶ÇExecutorÂÜÖÂ≠òÂíåStorageÂÜÖÂ≠òÁöÑÊØî‰æã„ÄÇ</li>
<li>‰ΩøÁî®ÂÜÖÂ≠òÂ∫èÂàóÂåñÔºöÂ∞ÜÊï∞ÊçÆ‰ª•Â∫èÂàóÂåñÁöÑÊñπÂºèÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂáèÂ∞ëÂÜÖÂ≠òÂç†Áî®ÂíåGCÂºÄÈîÄ„ÄÇ</li>
<li>ÂêàÁêÜ‰ΩøÁî®ÁºìÂ≠òÔºöÂ∞ÜÈ¢ëÁπÅ‰ΩøÁî®ÁöÑÊï∞ÊçÆÁºìÂ≠òÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÂíåIOÂºÄÈîÄ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Âπ∂Ë°åÂ∫¶ÂíåËµÑÊ∫êÈÖçÁΩÆ</strong> ÔºöÂêàÁêÜËÆæÁΩÆÂπ∂Ë°åÂ∫¶ÂíåËµÑÊ∫êÈÖçÁΩÆÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®ÈõÜÁæ§ËµÑÊ∫êÔºåÊèêÈ´ò‰Ωú‰∏öÁöÑÊâßË°åÊïàÁéá„ÄÇÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÈáè„ÄÅËÆ°ÁÆóÂ§çÊùÇÂ∫¶ÂíåÈõÜÁæ§ËßÑÊ®°Á≠âÂõ†Á¥†Êù•Ë∞ÉÊï¥Âπ∂Ë°åÂ∫¶ÂíåËµÑÊ∫êÂàÜÈÖç„ÄÇ</p>
</li>
<li>
<p><strong>‰ΩøÁî®ÂêàÈÄÇÁöÑÁÆóÂ≠êÂíåÂáΩÊï∞</strong> ÔºöÈÄâÊã©ÂêàÈÄÇÁöÑSparkÁÆóÂ≠êÂíåÂáΩÊï∞ÔºåÈÅøÂÖç‰ΩøÁî®ÊÄßËÉΩËæÉÂ∑ÆÁöÑÊìç‰ΩúÔºåÂ¶ÇÂÖ®ÈáèÊï∞ÊçÆÁöÑÊìç‰ΩúÂíåÂ§ßÈáèÁöÑshuffleÊìç‰Ωú„ÄÇ</p>
</li>
<li>
<p><strong>‰ΩøÁî®ÁºìÂ≠òÂíåÊåÅ‰πÖÂåñ</strong> ÔºöÂØπ‰∫éÁªèÂ∏∏Ë¢´ÈáçÂ§ç‰ΩøÁî®ÁöÑÊï∞ÊçÆÈõÜÔºåÂèØ‰ª•‰ΩøÁî®ÁºìÂ≠òÊàñÊåÅ‰πÖÂåñÊäÄÊúØÂ∞ÜÂÖ∂‰øùÂ≠òÂú®ÂÜÖÂ≠òÊàñÁ£ÅÁõò‰∏≠ÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÔºåÊèêÈ´òÊÄßËÉΩ„ÄÇ</p>
</li>
<li>
<p><strong>‰ΩøÁî®ÂπøÊí≠ÂèòÈáè</strong> ÔºöÂØπ‰∫éÂ∞èËßÑÊ®°ÁöÑÊï∞ÊçÆÈõÜÔºåÂèØ‰ª•Â∞ÜÂÖ∂ÂπøÊí≠Âà∞ÊØè‰∏™Executor‰∏äÔºåÂáèÂ∞ëÊï∞ÊçÆ‰º†ËæìÂºÄÈîÄ„ÄÇ</p>
</li>
<li>
<p><strong>ËµÑÊ∫êÈ¢ÑÊµãÂíåÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖç</strong> ÔºöÈÄöËøáËµÑÊ∫êÈ¢ÑÊµãÂíåÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖçÊäÄÊúØÔºåÊ†πÊçÆ‰Ωú‰∏öÁöÑÂÆûÈôÖÈúÄÊ±ÇÂíåÈõÜÁæ§ÁöÑËµÑÊ∫êÊÉÖÂÜµÔºåÂä®ÊÄÅË∞ÉÊï¥ËµÑÊ∫êÁöÑÂàÜÈÖçÔºåÊèêÈ´òËµÑÊ∫êÁöÑÂà©Áî®Áéá„ÄÇ</p>
</li>
</ol>
<p>SparkÂÅöÂá∫Ëøô‰∫õ‰ºòÂåñÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊèêÈ´ò‰Ωú‰∏öÁöÑÊâßË°åÊïàÁéáÂíåÊÄßËÉΩÔºåÂáèÂ∞ëËµÑÊ∫êÁöÑÊµ™Ë¥πÂíåÂºÄÈîÄ„ÄÇËøô‰∫õ‰ºòÂåñÁöÑÂéüÁêÜ‰∏ªË¶ÅÊòØÈÄöËøáÂáèÂ∞ëÁ£ÅÁõòIO„ÄÅÁΩëÁªú‰º†ËæìÂíåËÆ°ÁÆóÂºÄÈîÄÔºåÊèêÈ´òÊï∞ÊçÆÁöÑÂ±ÄÈÉ®ÊÄßÂíåÂπ∂Ë°åÂ∫¶ÔºåÂÖÖÂàÜÂà©Áî®ÂÜÖÂ≠òÂíåÁºìÂ≠òÁ≠âÊñπÂºèÊù•‰ºòÂåñSparkÁöÑÊâßË°åËøáÁ®ãÔºå‰ªéËÄåÊèêÈ´ò‰Ωú‰∏öÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ</p>
<h3 id="Ë∞à‰∏ÄË∞àspark‰∏≠ÁöÑÂÆπÈîôÊú∫Âà∂">Ë∞à‰∏ÄË∞àSpark‰∏≠ÁöÑÂÆπÈîôÊú∫Âà∂
</h3><p>SparkÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèËÆ°ÁÆóÊ°ÜÊû∂ÔºåÂÖ∑Â§áÂº∫Â§ßÁöÑÂÆπÈîôÊú∫Âà∂Ôºå‰ª•Á°Æ‰øùÂú®ÈõÜÁæ§‰∏≠ÂèëÁîüÊïÖÈöúÊó∂ËÉΩÂ§ü‰øùÊåÅËÆ°ÁÆóÁöÑÊ≠£Á°ÆÊÄßÂíåÂèØÈù†ÊÄß„ÄÇ‰∏ãÈù¢ÊòØSpark‰∏≠ÁöÑÂá†‰∏™‰∏ªË¶ÅÂÆπÈîôÊú∫Âà∂Ôºö</p>
<ol>
<li><strong>Êï∞ÊçÆÂÆπÈîô</strong> ÔºöSparkÈÄöËøáÂ∞ÜÊï∞ÊçÆÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàóÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºàRDDÔºâÊù•ÂÆûÁé∞Êï∞ÊçÆÂÆπÈîô„ÄÇRDDÊòØ‰∏çÂèØÂèòÁöÑ„ÄÅÂèØÂàÜÂå∫ÁöÑÊï∞ÊçÆÈõÜÂêàÔºåÂÆÉÂèØ‰ª•Âú®ÈõÜÁæ§‰∏≠ÁöÑÂ§ö‰∏™ËäÇÁÇπ‰∏äËøõË°åÂπ∂Ë°åËÆ°ÁÆó„ÄÇÂΩìËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåSparkÂèØ‰ª•‰ΩøÁî®RDDÁöÑË°ÄÁªüÔºàlineageÔºâ‰ø°ÊÅØÈáçÊñ∞ËÆ°ÁÆó‰∏¢Â§±ÁöÑÊï∞ÊçÆÂàÜÂå∫Ôºå‰ªéËÄåÂÆûÁé∞Êï∞ÊçÆÁöÑÂÆπÈîô„ÄÇ</li>
<li><strong>‰ªªÂä°ÂÆπÈîô</strong> ÔºöSparkÂ∞ÜËÆ°ÁÆó‰ªªÂä°ÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàóÁöÑÈò∂ÊÆµÔºàstageÔºâÔºåÊØè‰∏™Èò∂ÊÆµÂåÖÂê´‰∏ÄÁªÑÂèØ‰ª•Âπ∂Ë°åÊâßË°åÁöÑ‰ªªÂä°„ÄÇÊØè‰∏™‰ªªÂä°ÈÉΩ‰ºöÂú®ÊâßË°åËøáÁ®ã‰∏≠ÁîüÊàê‰∏ÄÁ≥ªÂàóÁöÑËæìÂá∫Êï∞ÊçÆÔºåËøô‰∫õËæìÂá∫Êï∞ÊçÆ‰ºöË¢´ÊåÅ‰πÖÂåñÂà∞Á®≥ÂÆöÂ≠òÂÇ®‰∏≠„ÄÇÂ¶ÇÊûú‰ªªÂä°Â§±Ë¥•ÔºåSparkÂèØ‰ª•ÈÄöËøáÈáçÊñ∞ÊâßË°åËØ•‰ªªÂä°Êù•ÂÆûÁé∞‰ªªÂä°ÁöÑÂÆπÈîô„ÄÇ</li>
<li><strong>ËäÇÁÇπÂÆπÈîô</strong> ÔºöSparkÈÄöËøá‰ΩøÁî®‰∏ª‰ªéÊû∂ÊûÑÊù•ÂÆûÁé∞ËäÇÁÇπÂÆπÈîô„ÄÇÂú®ÈõÜÁæ§‰∏≠ÔºåÊúâ‰∏Ä‰∏™‰∏ªËäÇÁÇπÔºàDriverÔºâË¥üË¥£ÂçèË∞É‰ªªÂä°ÁöÑÊâßË°åÂíåÁªìÊûúÁöÑÊî∂ÈõÜÔºå‰ª•ÂèäÁõëÊéßÈõÜÁæ§‰∏≠ÁöÑËäÇÁÇπÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûú‰∏ªËäÇÁÇπÂèëÁîüÊïÖÈöúÔºåSparkÂèØ‰ª•ÈÄöËøáÈáçÊñ∞ÂêØÂä®‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ªËäÇÁÇπÊù•ÂÆûÁé∞ËäÇÁÇπÁöÑÂÆπÈîô„ÄÇ</li>
<li><strong>‰ªªÂä°Ë∞ÉÂ∫¶ÂÆπÈîô</strong> ÔºöSpark‰ΩøÁî®‰ªªÂä°Ë∞ÉÂ∫¶Âô®Êù•ÁÆ°ÁêÜ‰ªªÂä°ÁöÑÊâßË°åÈ°∫Â∫èÂíåËµÑÊ∫êÂàÜÈÖç„ÄÇÂ¶ÇÊûúÊüê‰∏™‰ªªÂä°Âú®ÊâßË°åËøáÁ®ã‰∏≠ÂèëÁîüÈîôËØØÔºå‰ªªÂä°Ë∞ÉÂ∫¶Âô®ÂèØ‰ª•ÈáçÊñ∞Ë∞ÉÂ∫¶ËØ•‰ªªÂä°ÔºåÂπ∂Â∞ÜÂÖ∂ÂàÜÈÖçÁªôÂÖ∂‰ªñÂèØÁî®ÁöÑËäÇÁÇπËøõË°åÊâßË°å„ÄÇ</li>
<li><strong>Êï∞ÊçÆ‰∏¢Â§±ÂÆπÈîô</strong> ÔºöSparkÂú®ÊâßË°åËøáÁ®ã‰∏≠‰ºöÂ∞ÜÊï∞ÊçÆÁºìÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰ª•ÊèêÈ´òËÆ°ÁÆóÊÄßËÉΩ„ÄÇ‰∏∫‰∫ÜÈò≤Ê≠¢Êï∞ÊçÆ‰∏¢Â§±ÔºåSparkÊèê‰æõ‰∫ÜÂèØÈÖçÁΩÆÁöÑÊï∞ÊçÆÊåÅ‰πÖÂåñÈÄâÈ°πÔºåÂèØ‰ª•Â∞ÜÊï∞ÊçÆÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÊàñÂÖ∂‰ªñÂ§ñÈÉ®Â≠òÂÇ®Á≥ªÁªü‰∏≠„ÄÇËøôÊ†∑Âç≥‰ΩøÂèëÁîüËäÇÁÇπÊïÖÈöúÔºåÊï∞ÊçÆ‰πüÂèØ‰ª•‰ªéÊåÅ‰πÖÂåñÂ≠òÂÇ®‰∏≠ÊÅ¢Â§ç„ÄÇ</li>
</ol>
<p>ÊÄªÁöÑÊù•ËØ¥ÔºåSparkÁöÑÂÆπÈîôÊú∫Âà∂‰∏ªË¶Å‰æùËµñ‰∫éRDDÁöÑË°ÄÁªü‰ø°ÊÅØ„ÄÅ‰ªªÂä°Ë∞ÉÂ∫¶Âô®„ÄÅ‰∏ª‰ªéÊû∂ÊûÑÂíåÊï∞ÊçÆÊåÅ‰πÖÂåñÁ≠âÊäÄÊúØÊâãÊÆµÔºåÈÄöËøáËøô‰∫õÊâãÊÆµÂèØ‰ª•ÂÆûÁé∞Êï∞ÊçÆ„ÄÅ‰ªªÂä°„ÄÅËäÇÁÇπÂíåÊï∞ÊçÆ‰∏¢Â§±ÁöÑÂÆπÈîôÂ§ÑÁêÜÔºå‰øùËØÅËÆ°ÁÆóÁöÑÊ≠£Á°ÆÊÄßÂíåÂèØÈù†ÊÄß„ÄÇ</p>
<h3 id="ËØ¥ËØ¥sparkÊï∞ÊçÆÂÄæÊñú">ËØ¥ËØ¥SparkÊï∞ÊçÆÂÄæÊñú
</h3><p>SparkÊï∞ÊçÆÂÄæÊñúÊòØÊåáÂú®Êï∞ÊçÆÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÊüê‰∫õÊï∞ÊçÆÂàÜÂå∫ÁöÑË¥üËΩΩËøúËøúË∂ÖËøáÂÖ∂‰ªñÂàÜÂå∫ÔºåÂØºËá¥ËÆ°ÁÆóËµÑÊ∫ê‰∏çÂùáË°°Ôºå‰ªéËÄåÂΩ±ÂìçÊï¥‰ΩìÊÄßËÉΩ„ÄÇÊï∞ÊçÆÂÄæÊñúÂèØËÉΩÂØºËá¥‰ªªÂä°ÊâßË°åÊó∂Èó¥Âª∂ÈïøÔºåËµÑÊ∫êÊµ™Ë¥πÔºåÁîöËá≥ÂØºËá¥‰ªªÂä°Â§±Ë¥•„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÊï∞ÊçÆÂÄæÊñúÊÉÖÂÜµÂíåËß£ÂÜ≥ÊñπÊ≥ïÔºö</p>
<ol>
<li><strong>KeyÊï∞ÊçÆÂÄæÊñú</strong> ÔºöÂΩì‰ΩøÁî®Êüê‰∏™Â≠óÊÆµ‰Ωú‰∏∫Êï∞ÊçÆÈõÜÁöÑKeyÊó∂ÔºåÂ¶ÇÊûúËØ•Â≠óÊÆµÁöÑÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÂ∞±‰ºöÂØºËá¥KeyÊï∞ÊçÆÂÄæÊñú„ÄÇËß£ÂÜ≥ÊñπÊ≥ïÂåÖÊã¨Ôºö</li>
</ol>
<ul>
<li><strong>Â¢ûÂä†ÂàÜÂå∫</strong> ÔºöÈÄöËøáÂ¢ûÂä†Êï∞ÊçÆÈõÜÁöÑÂàÜÂå∫Êï∞ÔºåÂèØ‰ª•Â∞ÜÊï∞ÊçÆÂùáÂåÄÂú∞ÂàÜÂ∏ÉÂà∞Êõ¥Â§öÁöÑÂàÜÂå∫‰∏≠ÔºåÂáèÂ∞ëÊï∞ÊçÆÂÄæÊñúÁöÑÂèØËÉΩÊÄß„ÄÇ</li>
<li><strong>‰ΩøÁî®ÂìàÂ∏åÂàÜÂå∫</strong> Ôºö‰ΩøÁî®ÂìàÂ∏åÂáΩÊï∞Â∞ÜKeyÊò†Â∞ÑÂà∞‰∏çÂêåÁöÑÂàÜÂå∫ÔºåÁ°Æ‰øùÊï∞ÊçÆÂùáÂåÄÂàÜÂ∏É„ÄÇ</li>
<li><strong>ËÅöÂêàÂêàÂπ∂</strong> ÔºöÂ∞ÜÂÖ∑ÊúâÁõ∏ÂêåKeyÁöÑÊï∞ÊçÆËøõË°åËÅöÂêàÊìç‰ΩúÔºåÂáèÂ∞ëÊï∞ÊçÆÈáèÔºåÈôç‰ΩéÂÄæÊñúÁ®ãÂ∫¶„ÄÇ</li>
</ul>
<ol start="2">
<li><strong>Êï∞ÊçÆÂÄæÊñúÁöÑJoinÊìç‰Ωú</strong> ÔºöÂú®ËøõË°åJoinÊìç‰ΩúÊó∂ÔºåÂ¶ÇÊûúËøûÊé•Â≠óÊÆµÁöÑÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÂ∞±‰ºöÂØºËá¥Êï∞ÊçÆÂÄæÊñú„ÄÇËß£ÂÜ≥ÊñπÊ≥ïÂåÖÊã¨Ôºö</li>
</ol>
<ul>
<li><strong>‰ΩøÁî®Broadcast Join</strong> ÔºöÂØπ‰∫éÂ∞èË°®ÂíåÂ§ßË°®ËøõË°åJoinÊìç‰ΩúÊó∂ÔºåÂèØ‰ª•Â∞ÜÂ∞èË°®ÂπøÊí≠Âà∞ÊØè‰∏™ËäÇÁÇπ‰∏äÔºåÈÅøÂÖçÊï∞ÊçÆÂÄæÊñú„ÄÇ</li>
<li><strong>‰ΩøÁî®ÈöèÊú∫ÂâçÁºÄ</strong> ÔºöÂØπ‰∫éËøûÊé•Â≠óÊÆµÂàÜÂ∏É‰∏çÂùáÂåÄÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•Âú®ËøûÊé•Â≠óÊÆµ‰∏äÊ∑ªÂä†ÈöèÊú∫ÂâçÁºÄÔºå‰ΩøËøûÊé•Â≠óÊÆµÁöÑÂÄºÊõ¥ÂùáÂåÄÂàÜÂ∏É„ÄÇ</li>
</ul>
<ol start="3">
<li><strong>Êï∞ÊçÆÂÄæÊñúÁöÑËÅöÂêàÊìç‰Ωú</strong> ÔºöÂú®ËøõË°åËÅöÂêàÊìç‰ΩúÊó∂ÔºåÂ¶ÇÊûúÊüê‰∫õÂàÜÁªÑÁöÑÊï∞ÊçÆÈáèËøúËøúË∂ÖËøáÂÖ∂‰ªñÂàÜÁªÑÔºåÂ∞±‰ºöÂØºËá¥Êï∞ÊçÆÂÄæÊñú„ÄÇËß£ÂÜ≥ÊñπÊ≥ïÂåÖÊã¨Ôºö</li>
</ol>
<ul>
<li><strong>‰ΩøÁî®È¢ÑËÅöÂêà</strong> ÔºöÂØπ‰∫éÂèØËÉΩÂØºËá¥Êï∞ÊçÆÂÄæÊñúÁöÑÂ≠óÊÆµËøõË°åÈ¢ÑËÅöÂêàÊìç‰ΩúÔºåÂ∞ÜÊï∞ÊçÆÈáèËæÉÂ§ßÁöÑÂàÜÁªÑÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÂàÜÁªÑÔºåÂáèÂ∞ëÊï∞ÊçÆÂÄæÊñú„ÄÇ</li>
<li><strong>‰ΩøÁî®Â§öÁ∫ßËÅöÂêà</strong> ÔºöÂ∞ÜËÅöÂêàÊìç‰ΩúÊãÜÂàÜ‰∏∫Â§ö‰∏™Èò∂ÊÆµÔºåÈÄêÊ≠•ËÅöÂêàÔºåÂáèÂ∞ëÂçï‰∏™Èò∂ÊÆµÁöÑÊï∞ÊçÆÈáè„ÄÇ</li>
</ul>
<ol start="4">
<li><strong>Êï∞ÊçÆÂÄæÊñúÁöÑÊéíÂ∫èÊìç‰Ωú</strong> ÔºöÂú®ËøõË°åÊéíÂ∫èÊìç‰ΩúÊó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÂ∞±‰ºöÂØºËá¥Êï∞ÊçÆÂÄæÊñú„ÄÇËß£ÂÜ≥ÊñπÊ≥ïÂåÖÊã¨Ôºö</li>
</ol>
<ul>
<li><strong>‰ΩøÁî®ÈöèÊú∫ÂâçÁºÄ</strong> ÔºöÂØπ‰∫éÊéíÂ∫èÂ≠óÊÆµÂàÜÂ∏É‰∏çÂùáÂåÄÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•Âú®ÊéíÂ∫èÂ≠óÊÆµ‰∏äÊ∑ªÂä†ÈöèÊú∫ÂâçÁºÄÔºå‰ΩøÊéíÂ∫èÂ≠óÊÆµÁöÑÂÄºÊõ¥ÂùáÂåÄÂàÜÂ∏É„ÄÇ</li>
<li><strong>‰ΩøÁî®‰∫åÊ¨°ÊéíÂ∫è</strong> ÔºöÂØπ‰∫éÂ§ö‰∏™Â≠óÊÆµËøõË°åÊéíÂ∫èÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®‰∫åÊ¨°ÊéíÂ∫èÁÆóÊ≥ïÔºåÂÖàÊåâÁÖß‰∏Ä‰∏™Â≠óÊÆµÊéíÂ∫èÔºåÂÜçÊåâÁÖßÂè¶‰∏Ä‰∏™Â≠óÊÆµÊéíÂ∫èÔºåÂáèÂ∞ëÊï∞ÊçÆÂÄæÊñú„ÄÇ</li>
</ul>
<p>Èô§‰∫Ü‰∏äËø∞ÊñπÊ≥ïÔºåËøòÂèØ‰ª•ÈÄöËøáÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖç„ÄÅ‰ªªÂä°ÈáçËØï„ÄÅÊï∞ÊçÆÈáçÂàÜÂå∫Á≠âÊñπÂºèÊù•Â∫îÂØπÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò„ÄÇÊï∞ÊçÆÂÄæÊñúÊòØSpark‰∏≠Â∏∏ËßÅÁöÑÊÄßËÉΩÁì∂È¢à‰πã‰∏ÄÔºåÈúÄË¶ÅÊ†πÊçÆÂÖ∑‰ΩìÊÉÖÂÜµÈÄâÊã©ÂêàÈÄÇÁöÑËß£ÂÜ≥ÊñπÊ≥ï„ÄÇ</p>
<h2 id="Âü∫Êú¨">Âü∫Êú¨
</h2><h3 id="Âú®Ê∫êÁ†Å‰∏≠ÊòØÊÄé‰πàÂà§Êñ≠Â±û‰∫éshufflemap-stageÊàñresult-stageÁöÑ">Âú®Ê∫êÁ†Å‰∏≠ÊòØÊÄé‰πàÂà§Êñ≠Â±û‰∫éShuffleMap StageÊàñResult StageÁöÑ
</h3><p>Âú®Spark ‰∏≠Ôºå‰ªªÂä°ÁöÑÊâßË°åËøáÁ®ãË¢´ÂàíÂàÜ‰∏∫Â§ö‰∏™StageÔºåStageÂàÜ‰∏∫ <strong>ShuffleMapStage</strong> Âíå <strong>ResultStage</strong>„ÄÇËøô‰∏§ÁßçStageÁöÑÂàíÂàÜÊòØÊ†πÊçÆ‰ªªÂä°ÁöÑ‰æùËµñÂÖ≥Á≥ªÂíåÊâßË°åÁõÆÊ†áÊù•Á°ÆÂÆöÁöÑ„ÄÇ</p>
<p>ShuffleMapStageÔºöË¥üË¥£‰∏∫ÂêéÁª≠ÁöÑ Shuffle Êìç‰ΩúÂáÜÂ§áÊï∞ÊçÆÔºåËæìÂá∫ÊòØ Shuffle Êï∞ÊçÆÔºå‰æõ‰∏ãÊ∏∏Èò∂ÊÆµ‰ΩøÁî®ÔºåÈÄöÂ∏∏ÂØπÂ∫îÂÆΩ‰æùËµñ„ÄÇ</p>
<p>ResultStageÔºöË¥üË¥£ÊâßË°åÊúÄÁªàÁöÑËÆ°ÁÆóÂπ∂ËæìÂá∫ÁªìÊûúÔºåËæìÂá∫ÊòØÊúÄÁªàÁöÑËÆ°ÁÆóÁªìÊûúÔºåÈÄöÂ∏∏ÂØπÂ∫îActionÊìç‰Ωú„ÄÇ</p>
<p>Âú® Spark Ê∫êÁ†Å‰∏≠ÔºåÈò∂ÊÆµÂàíÂàÜÁöÑÊ†∏ÂøÉÈÄªËæë‰Ωç‰∫é DAGScheduler Á±ª‰∏≠</p>
<p>StageÂàõÂª∫Èò∂ÊÆµÔºöÂÖ•Âè£ÊñπÊ≥ïÊòØDAGScheduler.handleJobSubmittedÔºåÂú® DAGScheduler.createResultStage Âíå DAGScheduler.getOrCreateShuffleMapStage ÊñπÊ≥ï‰∏≠ÂàõÂª∫Èò∂ÊÆµ„ÄÇ</p>
<p>Âà§Êñ≠Èò∂ÊÆµÔºöÂ¶ÇÊûú‰ªªÂä°ÊòØÊúÄÁªàÁöÑËÆ°ÁÆó‰ªªÂä°ÔºàÂ¶Ç collect„ÄÅcount„ÄÅsaveAsTextFile Á≠âÔºâÔºåÂàôÂàõÂª∫ ResultStageÔºõÂ¶ÇÊûú‰ªªÂä°ÊòØ‰∏∫ Shuffle Êìç‰ΩúÂáÜÂ§áÊï∞ÊçÆÔºàÂ¶Ç groupByKey„ÄÅreduceByKey„ÄÅjoin Á≠âÔºâÔºåÂàôÂàõÂª∫ ShuffleMapStageÔºõ</p>
<h3 id="spark-joinÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂèòÊàêÁ™Ñ‰æùËµñ">Spark joinÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂèòÊàêÁ™Ñ‰æùËµñ
</h3><h3 id="Êï∞ÊçÆÊú¨Âú∞ÊÄßÊòØÂú®Âì™‰∏™ÁéØËäÇÁ°ÆÂÆöÁöÑ">Êï∞ÊçÆÊú¨Âú∞ÊÄßÊòØÂú®Âì™‰∏™ÁéØËäÇÁ°ÆÂÆöÁöÑ
</h3><h3 id="sparkÁöÑÊï∞ÊçÆÊú¨Âú∞ÊÄßÊúâÂì™Âá†Áßç">SparkÁöÑÊï∞ÊçÆÊú¨Âú∞ÊÄßÊúâÂì™Âá†Áßç
</h3><p>Spark‰∏≠ÁöÑÊï∞ÊçÆÊú¨Âú∞ÊÄßÊúâ‰∏âÁßçÔºö
‚ÄÉ 1ÔºâPROCESS_LOCALÊòØÊåáËØªÂèñÁºìÂ≠òÂú®Êú¨Âú∞ËäÇÁÇπÁöÑÊï∞ÊçÆ
‚ÄÉ 2ÔºâNODE_LOCALÊòØÊåáËØªÂèñÊú¨Âú∞ËäÇÁÇπÁ°¨ÁõòÊï∞ÊçÆ
‚ÄÉ 3ÔºâANYÊòØÊåáËØªÂèñÈùûÊú¨Âú∞ËäÇÁÇπÊï∞ÊçÆ
‚ÄÉ ÈÄöÂ∏∏ËØªÂèñÊï∞ÊçÆPROCESS_LOCAL&gt;NODE_LOCAL&gt;ANYÔºåÂ∞ΩÈáè‰ΩøÊï∞ÊçÆ‰ª•PROCESS_LOCALÊàñNODE_LOCALÊñπÂºèËØªÂèñ„ÄÇÂÖ∂‰∏≠PROCESS_LOCALËøòÂíåcacheÊúâÂÖ≥ÔºåÂ¶ÇÊûúRDDÁªèÂ∏∏Áî®ÁöÑËØùÂ∞ÜËØ•RDD cacheÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÊ≥®ÊÑèÔºåÁî±‰∫écacheÊòØlazyÁöÑÔºåÊâÄ‰ª•ÂøÖÈ°ªÈÄöËøá‰∏Ä‰∏™actionÁöÑËß¶ÂèëÔºåÊâçËÉΩÁúüÊ≠£ÁöÑÂ∞ÜËØ•RDD cacheÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇ</p>
<h3 id="ËØ¥ËØ¥sparkÊèê‰∫§‰Ωú‰∏öÂèÇÊï∞">ËØ¥ËØ¥SparkÊèê‰∫§‰Ωú‰∏öÂèÇÊï∞
</h3><p>Êèê‰∫§‰Ωú‰∏öÊó∂ÁöÑÈáçË¶ÅÂèÇÊï∞Ôºö</p>
<ul>
<li>executor_cores
Áº∫ÁúÅÂÄºÔºö1 in YARN mode, all the available cores on the worker in standalone and Mesos coarse-grained modes
Áîü‰∫ßÁéØÂ¢É‰∏≠‰∏çÂÆúËÆæÁΩÆ‰∏∫1ÔºÅÂê¶Âàô work ËøõÁ®ã‰∏≠Á∫øÁ®ãÊï∞ËøáÂ∞ëÔºå‰∏ÄËà¨ 2~5 ‰∏∫ÂÆú</li>
<li>executor_memory
Áº∫ÁúÅÂÄºÔºö1g
ËØ•ÂèÇÊï∞‰∏éexecutorÂàÜÈÖçÁöÑcoreÊúâÂÖ≥ÔºåÂàÜÈÖçÁöÑcoreË∂äÂ§ö executor_memory ÂÄºÂ∞±Â∫îËØ•Ë∂äÂ§ßÔºõ
core‰∏émemoryÁöÑÊØîÂÄº‰∏ÄËà¨Âú® 1:2 Âà∞ 1:4 ‰πãÈó¥ÔºåÂç≥ÊØè‰∏™coreÂèØÂàÜÈÖç2~4GÂÜÖÂ≠ò„ÄÇÂ¶Ç executor_cores ‰∏∫4ÔºåÈÇ£‰πàexecutor_memory ÂèØ‰ª•ÂàÜÈÖç 8G ~ 16GÔºõ
Âçï‰∏™ExecutorÂÜÖÂ≠òÂ§ßÂ∞è‰∏ÄËà¨Âú® 20G Â∑¶Âè≥ÔºàÁªèÈ™åÂÄºÔºâÔºåÂçï‰∏™JVMÂÜÖÂ≠òÂ§™È´òÊòìÂØºËá¥GC‰ª£‰ª∑ËøáÈ´òÔºåÊàñËµÑÊ∫êÊµ™Ë¥π</li>
<li>executor_cores * num_executors
Ë°®Á§∫ÁöÑÊòØËÉΩÂ§üÂπ∂Ë°åÊâßË°åTaskÁöÑÊï∞ÁõÆ„ÄÇ‰∏çÂÆúÂ§™Â∞èÊàñÂ§™Â§ßÔºÅÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÔºå‰∏ÄËà¨ÁªôÊØè‰∏™coreÂàÜÈÖç 2-3 ‰∏™taskÔºåÁî±Ê≠§ÂèØÂèçÊé® num_executors ÁöÑ‰∏™Êï∞</li>
<li>driver-memory
driver ‰∏çÂÅö‰ªª‰ΩïËÆ°ÁÆóÂíåÂ≠òÂÇ®ÔºåÂè™ÊòØ‰∏ãÂèë‰ªªÂä°‰∏éyarnËµÑÊ∫êÁÆ°ÁêÜÂô®Âíåtask‰∫§‰∫íÔºå‰∏ÄËà¨ËÆæ‰∏∫ 1-2G Âç≥ÂèØÔºõ</li>
</ul>
<p>Â¢ûÂä†ÊØè‰∏™executorÁöÑÂÜÖÂ≠òÈáèÔºåÂ¢ûÂä†‰∫ÜÂÜÖÂ≠òÈáè‰ª•ÂêéÔºåÂØπÊÄßËÉΩÁöÑÊèêÂçáÔºåÊúâ‰∏âÁÇπÔºö</p>
<ol>
<li>Â¶ÇÊûúÈúÄË¶ÅÂØπRDDËøõË°åcacheÔºåÈÇ£‰πàÊõ¥Â§öÁöÑÂÜÖÂ≠òÔºåÂ∞±ÂèØ‰ª•ÁºìÂ≠òÊõ¥Â§öÁöÑÊï∞ÊçÆÔºåÂ∞ÜÊõ¥Â∞ëÁöÑÊï∞ÊçÆÂÜôÂÖ•Á£ÅÁõòÔºåÁîöËá≥‰∏çÂÜôÂÖ•Á£ÅÁõò„ÄÇÂáèÂ∞ë‰∫ÜÁ£ÅÁõòIO</li>
<li>ÂØπ‰∫éshuffleÊìç‰ΩúÔºåreduceÁ´ØÔºå‰ºöÈúÄË¶ÅÂÜÖÂ≠òÊù•Â≠òÊîæÊãâÂèñÁöÑÊï∞ÊçÆÂπ∂ËøõË°åËÅöÂêà„ÄÇÂ¶ÇÊûúÂÜÖÂ≠ò‰∏çÂ§üÔºå‰πü‰ºöÂÜôÂÖ•Á£ÅÁõò„ÄÇÂ¶ÇÊûúÁªôexecutorÂàÜÈÖçÊõ¥Â§öÂÜÖÂ≠òÔºå‰ºöÂáèÂ∞ëÁ£ÅÁõòÁöÑÂÜôÂÖ•Êìç‰ΩúÔºåËøõËÄåÊèêÂçáÊÄßËÉΩ</li>
<li>taskÁöÑÊâßË°åÔºåÂèØËÉΩ‰ºöÂàõÂª∫ÂæàÂ§öÂØπË±°„ÄÇÂ¶ÇÊûúÂÜÖÂ≠òÊØîËæÉÂ∞èÔºåÂèØËÉΩ‰ºöÈ¢ëÁπÅÂØºËá¥JVMÂ†ÜÂÜÖÂ≠òÊª°‰∫ÜÔºåÁÑ∂ÂêéÈ¢ëÁπÅGCÔºåÂûÉÂúæÂõûÊî∂Ôºåminor GCÂíåfull GC„ÄÇÂÜÖÂ≠òÂä†Â§ß‰ª•ÂêéÔºåÂ∏¶Êù•Êõ¥Â∞ëÁöÑGCÔºåÂûÉÂúæÂõûÊî∂ÔºåÈÅøÂÖç‰∫ÜÈÄüÂ∫¶ÂèòÊÖ¢ÔºåÊÄßËÉΩÊèêÂçáÔºõ</li>
</ol>
<h3 id="sparkÁöÑÂÆΩÁ™Ñ‰æùËµñ‰ª•ÂèäsparkÂ¶Ç‰ΩïÂàíÂàÜstageÂ¶Ç‰ΩïÁ°ÆÂÆöÊØè‰∏™stage‰∏≠task‰∏™Êï∞">SparkÁöÑÂÆΩÁ™Ñ‰æùËµñÔºå‰ª•ÂèäSparkÂ¶Ç‰ΩïÂàíÂàÜStageÔºåÂ¶Ç‰ΩïÁ°ÆÂÆöÊØè‰∏™Stage‰∏≠Task‰∏™Êï∞
</h3><p>RDD‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂàÜ‰∏∫Á™Ñ‰æùËµñÔºànarrow dependencyÔºâÂíåÂÆΩ‰æùËµñÔºàWide DepencencyÔºå‰πüÁß∞‰∏∫Shuffle DepencencyÔºâ</p>
<ul>
<li><strong>Á™Ñ‰æùËµñ</strong> ÔºöÊåáÁà∂RDDÁöÑÊØè‰∏™ÂàÜÂå∫Âè™Ë¢´Â≠êRDDÁöÑ‰∏Ä‰∏™ÂàÜÂå∫ÊâÄ‰ΩøÁî®ÔºåÂ≠êRDDÂàÜÂå∫ÈÄöÂ∏∏ÂØπÂ∫îÂ∏∏Êï∞‰∏™Áà∂RDDÂàÜÂå∫ÔºàO(1)Ôºå‰∏éÊï∞ÊçÆËßÑÊ®°Êó†ÂÖ≥Ôºâ</li>
<li><strong>ÂÆΩ‰æùËµñ</strong> ÔºöÊòØÊåáÁà∂RDDÁöÑÊØè‰∏™ÂàÜÂå∫ÈÉΩÂèØËÉΩË¢´Â§ö‰∏™Â≠êRDDÂàÜÂå∫ÊâÄ‰ΩøÁî®ÔºåÂ≠êRDDÂàÜÂå∫ÈÄöÂ∏∏ÂØπÂ∫îÊâÄÊúâÁöÑÁà∂RDDÂàÜÂå∫ÔºàO(n),‰∏éÊï∞ÊçÆËßÑÊ®°ÊúâÂÖ≥Ôºâ</li>
</ul>
<p>Áõ∏ÊØî‰∫éÂÆΩ‰æùËµñÔºåÁ™Ñ‰æùËµñÂØπ‰ºòÂåñÂæàÊúâÂà©Ôºå‰∏ªË¶ÅÂü∫‰∫é‰ª•‰∏ãÂá†ÁÇπÔºö</p>
<ul>
<li>ÂÆΩ‰æùËµñÂæÄÂæÄÂØπÂ∫îÁùÄShuffleÊìç‰ΩúÔºåÈúÄË¶ÅÂú®ËøêË°åËøáÁ®ã‰∏≠Â∞ÜÂêå‰∏Ä‰∏™Áà∂RDDÁöÑÂàÜÂå∫‰º†ÂÖ•Âà∞‰∏çÂêåÁöÑÂ≠êRDDÂàÜÂå∫‰∏≠Ôºå‰∏≠Èó¥ÂèØËÉΩÊ∂âÂèäÂ§ö‰∏™ËäÇÁÇπ‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÔºõËÄåÁ™Ñ‰æùËµñÁöÑÊØè‰∏™Áà∂RDDÁöÑÂàÜÂå∫Âè™‰ºö‰º†ÂÖ•Âà∞‰∏Ä‰∏™Â≠êRDDÂàÜÂå∫‰∏≠ÔºåÈÄöÂ∏∏ÂèØ‰ª•Âú®‰∏Ä‰∏™ËäÇÁÇπÂÜÖÂÆåÊàêËΩ¨Êç¢</li>
<li>ÂΩìRDDÂàÜÂå∫‰∏¢Â§±Êó∂ÔºàÊüê‰∏™ËäÇÁÇπÊïÖÈöúÔºâÔºåSpark‰ºöÂØπÊï∞ÊçÆËøõË°åÈáçÁÆó</li>
<li>ÂØπ‰∫éÁ™Ñ‰æùËµñÔºåÁî±‰∫éÁà∂RDDÁöÑ‰∏Ä‰∏™ÂàÜÂå∫Âè™ÂØπÂ∫î‰∏Ä‰∏™Â≠êRDDÂàÜÂå∫ÔºåËøôÊ†∑Âè™ÈúÄË¶ÅÈáçÁÆóÂíåÂ≠êRDDÂàÜÂå∫ÂØπÂ∫îÁöÑÁà∂RDDÂàÜÂå∫Âç≥ÂèØÔºåÊâÄ‰ª•Ëøô‰∏™ÈáçÁÆóÂØπÊï∞ÊçÆÁöÑÂà©Áî®ÁéáÊòØ100%ÁöÑ</li>
<li>ÂØπ‰∫éÂÆΩ‰æùËµñÔºåÈáçÁÆóÁöÑÁà∂RDDÂàÜÂå∫ÂØπÂ∫îÂ§ö‰∏™Â≠êRDDÂàÜÂå∫ÁöÑÔºåËøôÊ†∑ÂÆûÈôÖ‰∏äÁà∂RDD‰∏≠Âè™Êúâ‰∏ÄÈÉ®ÂàÜÁöÑÊï∞ÊçÆÊòØË¢´Áî®‰∫éÊÅ¢Â§çËøô‰∏™‰∏¢Â§±ÁöÑÂ≠êRDDÂàÜÂå∫ÁöÑÔºåÂè¶‰∏ÄÈÉ®ÂàÜÂØπÂ∫îÂ≠êRDDÁöÑÂÖ∂‰ªñÊú™‰∏¢Â§±ÂàÜÂå∫ÔºåËøôÂ∞±ÈÄ†Êàê‰∫ÜÂ§ö‰ΩôÁöÑËÆ°ÁÆóÔºõÊõ¥‰∏ÄËà¨ÁöÑÔºåÂÆΩ‰æùËµñ‰∏≠Â≠êRDDÂàÜÂå∫ÈÄöÂ∏∏Êù•Ëá™Â§ö‰∏™Áà∂RDDÂàÜÂå∫ÔºåÊâÄÊúâÁöÑÁà∂RDDÂàÜÂå∫ÈÉΩË¶ÅËøõË°åÈáçÊñ∞ËÆ°ÁÆó</li>
</ul>
<p>StageÔºöÊ†πÊçÆRDD‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂ∞ÜJobÂàíÂàÜÊàê‰∏çÂêåÁöÑStageÔºåÈÅáÂà∞‰∏Ä‰∏™ÂÆΩ‰æùËµñÂàôÂàíÂàÜ‰∏Ä‰∏™Stage„ÄÇ</p>
<p>TaskÔºöStageÊòØ‰∏Ä‰∏™TaskSetÔºåÂ∞ÜStageÊ†πÊçÆÂàÜÂå∫Êï∞ÂàíÂàÜÊàê‰∏Ä‰∏™‰∏™ÁöÑTask</p>
<h3 id="aqeÊòØ‰ªÄ‰πà">AQEÊòØ‰ªÄ‰πà
</h3><p>Adaptive Query Execution (AQE) Â∞±ÂÉè SparkSQLÁöÑÊô∫ËÉΩÂä©ÊâãÔºåÂÆÉËß£ÂÜ≥‰∫ÜÊü•ËØ¢ËÆ°Âàí‰∏çÈÇ£‰πàÂÆåÁæéÁöÑÈóÆÈ¢òÔºåÂÆÉÈÄöËøáÂú®sparksSQLÊü•ËØ¢ËøêË°åÊó∂‰ªéÂéª‰ªéÊï∞ÊçÆ‰∏≠ÂéªÂ≠¶‰π†Âπ∂ÈÄöËøáÁÆóÊ≥ïÊ®°Âûã‰ºòÂåñÊù•ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇAQE‰∏ç‰æùËµñ‰∫éÊï∞ÊçÆÁöÑÂõ∫ÂÆö‰ø°ÊÅØÔºåËÄåÊòØÂú®Êü•ËØ¢Â±ïÂºÄÊó∂Êî∂ÈõÜÂÆûÊó∂ÁªÜËäÇ„ÄÇÈÄöËøáËøôÊ†∑ÂÅöÔºåAQE ÂèØ‰ª•ÂØπÊü•ËØ¢ËÆ°ÂàíËøõË°åÂç≥Êó∂ÊîπËøõÔºåÁ°Æ‰øùÂÖ∂ËøêË°åÊõ¥È´òÊïàÔºåÁ°Æ‰øùÊúÄÁªàÁöÑÁªìÊûúÂ∞ΩÂèØËÉΩÂø´Êç∑„ÄÇ</p>
<p><strong>Âä®ÊÄÅÂêàÂπ∂ShuffleÂàÜÂå∫</strong>
ÂΩì Spark Â§ÑÁêÜÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂ÔºåÂÆÉÈÄöÂ∏∏ÈúÄË¶ÅÈÄöËøáÁΩëÁªúÈáçÊñ∞ÁªÑÁªáÊàñÊâì‰π±Êï∞ÊçÆ‰ª•ÊâßË°åÊüê‰∫õÊìç‰ΩúÔºå‰æãÂ¶ÇioinËøûÊé•ÊàñËÅöÂêà„ÄÇËøô‰∏™shuffleËøáÁ®ãÊ∂âÂèäÂà∞Â∞ÜÊï∞ÊçÆÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÔºåËÄåËøô‰∏™ÂàÜÂå∫ÁöÑÊïàÁéáÊûÅÂ§ßÂú∞ÂΩ±Âìç‰∫ÜÊü•ËØ¢ÊÄßËÉΩÔºåËÄåAQE Âú®Êü•ËØ¢ËøêË°åÊó∂Âä®ÊÄÅË∞ÉÊï¥ÈöèÊú∫ÂàÜÂå∫ÁöÑÊï∞ÈáèÔºåÂÅáËÆæÊÇ®Êúâ‰∏Ä‰∏™Â§ßÊï∞ÊçÆÈõÜÔºåÊúÄÂàùÔºåSpark ÂÜ≥ÂÆö‰ΩøÁî®‰∏ÄÂÆöÊï∞ÈáèÁöÑÂàÜÂå∫ËøõË°åshuffle„ÄÇËøô‰∏™Êï∞Â≠óÂèØËÉΩÂæàÈöæÂæóÂà∞Ê≠£Á°ÆÁöÑÂÄºÔºåÂõ†‰∏∫Â¶ÇÊûúÂÆÉÂ§™‰ΩéÔºåÊØè‰∏™ÂàÜÂå∫ÂèØËÉΩÂ§™Â§ßÔºåÂØºËá¥Â§ÑÁêÜÈÄüÂ∫¶ÊÖ¢„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂ¶ÇÊûúÂÆÉÂ§™È´òÔºåÊÇ®‰ºöÂæóÂà∞ÂæàÂ§öÂ∞èÂàÜÂå∫ÔºåÂØºËá¥Êï∞ÊçÆËé∑ÂèñÊïàÁéá‰Ωé‰∏ãÂπ∂Â¢ûÂä†ÂºÄÈîÄ„ÄÇ</p>
<p>Â¶ÇÊûúÊ≤°Êúâ AQEÔºåSpark ÂèØËÉΩ‰ºöÂÜ≥ÂÆöÂú®Êú¨Âú∞ÂàÜÁªÑÊìç‰ΩúÂêéÂàõÂª∫‰∫î‰∏™ÂàÜÂå∫„ÄÇÁÑ∂ËÄåÔºåAQE ÂæàËÅ™Êòé„ÄÇÂÆÉÊ≥®ÊÑèÂà∞ÂÖ∂‰∏≠‰∏â‰∏™ÂàÜÂå∫ÈùûÂ∏∏Â∞è„ÄÇAQE ‰∏ç‰ºöÈÄöËøáÂçïÁã¨Â§ÑÁêÜÊØè‰∏™Â∞èÂàÜÂå∫Êù•Êµ™Ë¥πËµÑÊ∫êÔºåËÄåÊòØÂ∞ÜËøô‰∫õÂ∞èÂàÜÂå∫ÂêàÂπ∂ (ÁªÑÂêà) ‰∏∫‰∏Ä‰∏™„ÄÇÁé∞Âú®ÔºåÊúÄÁªàÁöÑËÅöÂêàÂè™ÈúÄË¶ÅÂØπ‰∏â‰∏™‰ªªÂä°ÊâßË°åÔºåËÄå‰∏çÊòØ‰∫î‰∏™Ôºå‰ΩøÂæóÊü•ËØ¢Êõ¥Âä†È´òÊïà„ÄÇÂú®ÂêéÂè∞ÔºåAQE Âä®ÊÄÅË∞ÉÊï¥ÈöèÊú∫ÂàÜÂå∫ÁöÑÊï∞ÈáèÂπ∂Ê†πÊçÆÈúÄË¶ÅÂêàÂπ∂ÂÆÉ‰ª¨Ôºå‰ªéËÄå‰ºòÂåñÊü•ËØ¢ÊâßË°åËÆ°Âàí</p>
<p><strong>Âä®ÊÄÅÂàáÊç¢JoinÁ≠ñÁï•</strong></p>
<p>ÂΩìÊÇ®Âú® Spark ‰∏≠ÊâßË°åjoinËøûÊé•Êó∂ÔºåÂèØ‰ª•ÈááÁî®‰∏çÂêåÁöÑÊñπÊ≥ïÊù•ÁªÑÂêàÊï∞ÊçÆ„ÄÇÊúÄÊúâÊïàÁöÑÊñπÊ≥ï‰πã‰∏ÄÁß∞‰∏∫ÂπøÊí≠ÂìàÂ∏åjoin (broadcast hash join)ÂÖ∂‰∏≠ËøûÊé•ÁöÑ‰∏Ä‰æßË∂≥Â§üÂ∞è‰ª•ÈÄÇÂêàÊîæÂà∞ÂÜÖÂ≠òÈáåÔºå‰ªéËÄå‰ΩøJoinËøáÁ®ãÊõ¥Âø´ÔºåÁ±ª‰ººhive‰∏≠ÁöÑmapjoin„ÄÇÁé∞Âú®ÔºåÂÅáËÆæÊÇ®Ê≠£Âú®ËøêË°åjoinËøûÊé•Êìç‰ΩúÔºåÂπ∂‰∏îÊúÄÂàùÔºåSpark ËÆ°ÂàíÊ†πÊçÆÂÖ∂ÂØπÊï∞ÊçÆÂ§ßÂ∞èÁöÑ‰º∞ËÆ°‰ΩøÁî®ÊüêÁßçËøûÊé•Á≠ñÁï•„ÄÇËøôÂ∞±ÊòØ AQE ÁöÑÁî®Ê≠¶‰πãÂú∞„ÄÇÂÆÉ‰∏ç‰ºöÁõ≤ÁõÆÂú∞ÂùöÊåÅÊúÄÂàùÁöÑËÆ°Âàí„ÄÇÁõ∏ÂèçÔºåÂÆÉ‰ºöÂú®Êü•ËØ¢ËøêË°åÊó∂ÂÖ≥Ê≥®Êï∞ÊçÆÁöÑÂÆûÈôÖÂ§ßÂ∞èÔºåÂä®ÊÄÅË∞ÉÊï¥joinÁ≠ñÁï•„ÄÇ</p>
<p>Â¶ÇÊûúÂú®ÊâßË°åËøáÁ®ã‰∏≠ÔºåAQE Ê≥®ÊÑèÂà∞join‰∏Ä‰æßÁöÑÊï∞ÊçÆÂ§ßÂ∞èÊØîÊúÄÂàù‰º∞ËÆ°ÁöÑË¶ÅÂ∞èÂæóÂ§öÔºåÂÆÉÂèØ‰ª•Âä®ÊÄÅÂú∞Â∞ÜioinËøûÊé•Á≠ñÁï•ÂàáÊç¢‰∏∫Êõ¥È´òÊïàÁöÑbroadcasthash join„ÄÇËøô‰∏ÄÁÇπËá≥ÂÖ≥ÈáçË¶ÅÔºåÂõ†‰∏∫ÊúâÊó∂ÂàùÂßãÂåñÊó∂‰º∞ËÆ°ÂèØËÉΩ‰ºöÁî±‰∫éÂêÑÁßçÂõ†Á¥†ËÄåÂá∫Áé∞ÂÅèÂ∑ÆÔºå‰æãÂ¶ÇÂêÑÁßçfilterÊàñ‰∏ÄÁªÑÂ§çÊùÇÁöÑÊìç‰ΩúÂêéÊï∞ÊçÆÈáèÊòéÊòæÂèòÂ∞è</p>
<p>Spark ËÆ°Âàí‰ΩøÁî®sort merge join ÔºåÂàöÂºÄÂßã‰ª•‰∏∫ÊòØÂ§ßË°®Join„ÄÇÁÑ∂ËÄåÔºåAQE ËßÇÂØüÂà∞ËøêË°åÊó∂ÁöÑÂÆûÈôÖÂ§ßÂ∞èË¶ÅÂ∞èÂæóÂ§öÔºåËøô‰ΩøÂæó‰ΩøÁî®ÂπøÊí≠ÂìàÂ∏åËøûÊé•Êõ¥Âä†È´òÊïà„ÄÇÂõ†Ê≠§ÔºåAQE ÂèØ‰ª•Êô∫ËÉΩÂú∞ÂàáÊç¢ËøûÊé•Á≠ñÁï•Êù•‰ºòÂåñÊÄßËÉΩ„ÄÇÁé∞Âú®Êàë‰ª¨ÂºÄÂêØAQEÂêéÔºåËøêË°åÊ∂âÂèäjoinÁöÑÊü•ËØ¢Êó∂ÔºåAQE Â∞ÜÊ†πÊçÆÂÆûÈôÖÊï∞ÊçÆÂ§ßÂ∞èÂä®ÊÄÅË∞ÉÊï¥ËÅîÊé•Á≠ñÁï•ÔºåÁ°Æ‰øùÊúÄ‰Ω≥ÊÄßËÉΩ„ÄÇ</p>
<p><strong>Âä®ÊÄÅ‰ºòÂåñÂÄæÊñúËøûÊé•</strong></p>
<p>Êàë‰ª¨Áü•ÈÅìÂΩìÂàÜÂå∫‰πãÈó¥ÁöÑÊï∞ÊçÆÂàÜÂ∏É‰∏çÂùáÂåÄÊó∂ÔºåÂ∞±‰ºöÂá∫Áé∞Êï∞ÊçÆÂÄæÊñú„ÄÇÂú® Spark ÈõÜÁæ§‰∏≠ÔºåÊï∞ÊçÆË¢´ÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫‰ª•ËøõË°åÂπ∂Ë°åÂ§ÑÁêÜ„ÄÇÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÊØè‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÈáèÂ§ßËá¥Áõ∏Á≠âÔºåÁ°Æ‰øùÊâÄÊúâÂ§ÑÁêÜ‰ªªÂä°ÁöÑÂ∑•‰ΩúË¥üËΩΩÂùáË°°„ÄÇÁÑ∂ËÄåÔºåÂú®Êï∞ÊçÆÂÄæÊñúÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ÊàñÂá†‰∏™ÂàÜÂå∫ÂèØËÉΩÂåÖÂê´ÊØîÂÖ∂‰ªñÂàÜÂå∫Â§öÂæóÂ§öÁöÑÊï∞ÊçÆ„ÄÇÊï∞ÊçÆÂÄæÊñúÂØπÊü•ËØ¢ÊÄßËÉΩÁöÑÂΩ±Âìç: ‰ªªÂä°Áõ∏ÂΩìÂ≠òÂú®Êï∞ÊçÆÂÄæÊñúÊó∂Ôºå‰∏éÂ§ÑÁêÜËæÉÂ∞ëÊï∞ÊçÆÊØîÔºå‰∏éÂÄæÊñúÂàÜÂå∫Áõ∏ÂÖ≥ÁöÑÂ§ÑÁêÜ‰ªªÂä°ËÄåË¶ÅÊõ¥ÈïøÁöÑÊó∂Èó¥ÊâçËÉΩÂÆåÊàê„ÄÇËøôÁßç‰∏çÂπ≥Ë°°ÂèØËÉΩ‰ºöÂØºËá¥ÊÄßËÉΩÁì∂È¢àÔºåÂõ†‰∏∫Êüê‰∫õ‰ªªÂä°‰ºöÊàê‰∏∫Êï¥‰∏™Êìç‰ΩúÁöÑÁì∂È¢à„ÄÇËøôÂú®joinËøûÊé•ÊúüÈó¥Â∞§ÂÖ∂ÊàêÈóÆÈ¢òÔºåÂÖ∂‰∏≠Ê∂âÂèäÂÄæÊñúÂàÜÂú®joinËøûÊé•ÊúüÈó¥Â∞§ÂÖ∂ÊàêÈóÆÈ¢òÔºåÂÖ∂‰∏≠Ê∂âÂèäÂÄæÊñúÂàÜÂå∫ÁöÑ‰ªªÂä°ÂèØËÉΩ‰ºöÊªûÂêéÔºå‰ªéËÄåÈôç‰ΩéÊï¥‰ΩìÊü•ËØ¢ÊÄßËÉΩ„ÄÇAQEÈÄöËøáÂÖ∂ÂÄæÊñúËøûÊé•‰ºòÂåñÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òAQEÂú®ËøêË°åÊó∂ÈÄöËøáÂàÜÊûêshuffleÊñá‰ª∂ÁªüËÆ°‰ø°ÊÅØËá™Âä®Ê£ÄÊµãÊï∞ÊçÆÂÄæÊñú‰ΩïÊó∂ÂΩ±ÂìçÊü•ËØ¢ÊÄßËÉΩ„ÄÇ‰∏ÄÊó¶ËØÜÂà´Âá∫ÂÄæÊñúÔºåAQEÂ∞±‰ºöÂä®ÊÄÅË∞ÉÊï¥ÊñπÊ≥ï„ÄÇÂàÜÂâ≤ÂÄæÊñúÂàÜÂå∫:AQE ‰∏ç‰ºöËÆ©‰∏Ä‰∫õË¥üËΩΩËæÉÈáçÁöÑÂàÜÂå∫Êàê‰∏∫Â§ÑÁêÜÁì∂È¢àÔºåËÄåÊòØÊô∫ËÉΩÂú∞Â∞ÜËøô‰∫õÂÄæÊñúÁöÑÂàÜÂå∫ÊãÜÂàÜ‰∏∫Êõ¥Â∞èÁöÑÂ≠êÂàÜÂå∫„ÄÇÁé∞Âú®ÔºåÊØè‰∏™Â≠êÂàÜÂå∫ÂåÖÂê´Êõ¥ÂùáË°°ÁöÑÊï∞ÊçÆÈáèÔºåÈò≤Ê≠¢Â∑•‰ΩúË¥üËΩΩÈõÜ‰∏≠Âú®Â∞ëÊï∞‰ªªÂä°‰∏äÂÅáËÆæ‰∏Ä‰∏™jinËøûÊé•Êìç‰ΩúÔºåÂÖ∂‰∏≠joinËøûÊé•ÁöÑ‰∏Ä‰æßÊúâ‰∏Ä‰∏™ÂàÜÂå∫ (Êàë‰ª¨Áß∞‰πã‰∏∫ P1) ÔºåÂÖ∂‰∏≠ÁöÑÊï∞ÊçÆÊòéÊòæÂ§ö‰∫éÂÖ∂‰ªñÂàÜÂå∫:Âú® AQE ÂÄæÊñúËøûÊé•‰ºòÂåñ‰πãÂâç: Â¶ÇÊûúÊ≤°Êúâ AQEjoinËøûÊé•Êìç‰ΩúÂèØËÉΩ‰ºöÂõ†Ë¥üËΩΩËøáÈáçÁöÑ P1ÂàÜÂå∫ËÄåÂèòÊÖ¢Ôºå‰ªéËÄåÂØºËá¥ÊÄßËÉΩÈóÆÈ¢òÂú®AQEÂÄæÊñúËøûÊé•‰ºòÂåñ‰πãÂêé:AQEÊ£ÄÊµãÂà∞ÂÄæÊñúÂπ∂Âä®ÊÄÅÂú∞Â∞ÜP1ÂàÜÂå∫ÂàÜÂâ≤ÊàêÊõ¥Â∞è„ÄÅÊõ¥ÂùáË°°ÁöÑÂ≠êÂàÜÂå∫Áé∞Âú®ÔºåÂ∑•‰ΩúË¥üËΩΩÁöÑÂàÜÂ∏ÉÊõ¥Âä†ÂùáÂåÄÔºå‰ªéËÄåÊèêÈ´ò‰∫ÜÊü•ËØ¢ÊÄßËÉΩ„ÄÇ</p>
<p><strong>ÊÄªÁªì</strong>
Spark 3.0‰∏≠ÁöÑAQEÊ†áÂøóÁùÄÊü•ËØ¢‰ºòÂåñÁöÑÈáçÂ§ßÈ£ûË∑É„ÄÇÈÄöËøáÂáèÂ∞ëÂØπÈùôÊÄÅÁªüËÆ°ÁöÑ‰æùËµñÂíåËß£ÂÜ≥ËøêË°åÊó∂ÁöÑÊåëÊàòÔºåAQEÂ¢ûÂº∫‰∫ÜSparkÂØπ‰∏çÂêåÊï∞ÊçÆÊù°‰ª∂ÁöÑÈÄÇÂ∫îÊÄß„ÄÇ‰∏â‰∏™ÂÖ≥ÈîÆÁâπÊÄß‰∏ÄÂêàÂπ∂shuffleÂàÜÂå∫„ÄÅÂàáÊç¢JOINÁ≠ñÁï•Âíå‰ºòÂåñÂÄæÊñúËøûÊé•„ÄÇÊúâÂä©‰∫éÂ§ßÂπÖÊèêÈ´òÊÄßËÉΩÔºå‰ΩøSpark SQLÂú®ÂêÑÁßçÂ∑•‰ΩúË¥üËΩΩ‰∏ãÊõ¥ÂÖ∑ÂºπÊÄßÂíåÊïàÁéá„ÄÇÈöèÁùÄAQEÊàê‰∏∫Ê†áÂáÜÁâπÊÄßÔºåÁî®Êà∑ÂèØ‰ª•ÂáèÂ∞ëÂæàÂ§öÊâãÂä®Ë∞É‰ºòÊäÄËÉΩÁöÑËæìÂá∫ÔºåÈôç‰Ωé‰ΩøÁî®ÊàêÊú¨„ÄÇ</p>
<h3 id="sparkÁ¥ØÂä†Âô®ÊúâÂì™‰∫õÁâπÁÇπ">SparkÁ¥ØÂä†Âô®ÊúâÂì™‰∫õÁâπÁÇπ
</h3><p>SparkÁ¥ØÂä†Âô®ÊòØ‰∏ÄÁßçÁî®‰∫éÂú®ÂàÜÂ∏ÉÂºèËÆ°ÁÆó‰∏≠ËøõË°åÁ¥ØÂä†Êìç‰ΩúÁöÑÁâπÊÆäÂèòÈáè„ÄÇ‰ª•‰∏ãÊòØSparkÁ¥ØÂä†Âô®ÁöÑÂá†‰∏™ÁâπÁÇπÔºö</p>
<ol>
<li><strong>ÂàÜÂ∏ÉÂºèËÆ°ÁÆó</strong> ÔºöSparkÁ¥ØÂä†Âô®ÂèØ‰ª•Âú®ÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏≠ËøõË°åÂπ∂Ë°åËÆ°ÁÆó„ÄÇÂÆÉÂèØ‰ª•Âú®ÈõÜÁæ§‰∏≠ÁöÑÂ§ö‰∏™ËäÇÁÇπ‰∏äÂπ∂Ë°åÊõ¥Êñ∞ÂíåÁ¥ØÂä†ÂÄº„ÄÇ</li>
<li><strong>Âè™ÂÜô</strong> ÔºöÁ¥ØÂä†Âô®ÁöÑÂÄºÂè™ËÉΩÂ¢ûÂä†Ôºå‰∏çËÉΩÂáèÂ∞ëÊàñ‰øÆÊîπ„ÄÇÂÆÉ‰ª¨Áî®‰∫éÊî∂ÈõÜÂíåËÅöÂêàÂàÜÂ∏ÉÂºèËÆ°ÁÆó‰∏≠ÁöÑÁªüËÆ°‰ø°ÊÅØ„ÄÇ</li>
<li><strong>ÂÆπÈîôÊÄß</strong> ÔºöSparkÁ¥ØÂä†Âô®ÂÖ∑ÊúâÂÆπÈîôÊÄßÔºåÂç≥‰ΩøÂú®ËäÇÁÇπÊïÖÈöúÁöÑÊÉÖÂÜµ‰∏ã‰πüÂèØ‰ª•‰øùÊåÅÊ≠£Á°ÆÁöÑËÆ°ÁÆóÁªìÊûú„ÄÇÂ¶ÇÊûúËäÇÁÇπÂ§±Ë¥•ÔºåSparkÂèØ‰ª•Ëá™Âä®ÈáçÊñ∞ËÆ°ÁÆó‰∏¢Â§±ÁöÑÈÉ®ÂàÜ„ÄÇ</li>
<li><strong>ÂàÜÂ∏ÉÂºèÂÖ±‰∫´ÂèòÈáè</strong> ÔºöÁ¥ØÂä†Âô®ÊòØ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÂÖ±‰∫´ÂèòÈáèÔºåÂèØ‰ª•Âú®ÂàÜÂ∏ÉÂºè‰ªªÂä°‰πãÈó¥ÂÖ±‰∫´Âíå‰º†ÈÄí„ÄÇËøô‰ΩøÂæóÂèØ‰ª•Âú®‰∏çÂêåÁöÑ‰ªªÂä°‰∏≠Êõ¥Êñ∞Âíå‰ΩøÁî®Á¥ØÂä†Âô®ÁöÑÂÄº„ÄÇ</li>
<li><strong>ÊÉ∞ÊÄßËÆ°ÁÆó</strong> ÔºöSparkÁ¥ØÂä†Âô®ÊòØÊÉ∞ÊÄßËÆ°ÁÆóÁöÑÔºåÂè™ÊúâÂú®ÊâßË°åÂä®‰ΩúÊìç‰ΩúÊó∂Êâç‰ºöÁúüÊ≠£ËÆ°ÁÆóÁ¥ØÂä†Âô®ÁöÑÂÄº„ÄÇËøôÊ†∑ÂèØ‰ª•ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑËÆ°ÁÆóÂºÄÈîÄ„ÄÇ</li>
</ol>
<p>ÊÄª‰πãÔºåSparkÁ¥ØÂä†Âô®ÊòØ‰∏ÄÁßçÂú®ÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏≠ËøõË°åÁ¥ØÂä†Êìç‰ΩúÁöÑÁâπÊÆäÂèòÈáèÔºåÂÖ∑ÊúâÂàÜÂ∏ÉÂºèËÆ°ÁÆó„ÄÅÂÆπÈîôÊÄßÂíåÊÉ∞ÊÄßËÆ°ÁÆóÁ≠âÁâπÁÇπ„ÄÇÂÆÉ‰ª¨Âú®ÁªüËÆ°ÂíåËÅöÂêàÂàÜÂ∏ÉÂºèËÆ°ÁÆó‰∏≠ÈùûÂ∏∏ÊúâÁî®„ÄÇ</p>
<h3 id="spark‰ΩøÁî®parquetÊñá‰ª∂Â≠òÂÇ®Ê†ºÂºèËÉΩÂ∏¶Êù•Âì™‰∫õÂ•ΩÂ§Ñ">Spark‰ΩøÁî®parquetÊñá‰ª∂Â≠òÂÇ®Ê†ºÂºèËÉΩÂ∏¶Êù•Âì™‰∫õÂ•ΩÂ§Ñ
</h3><p>Spark‰ΩøÁî®ParquetÊñá‰ª∂Â≠òÂÇ®Ê†ºÂºèÂèØ‰ª•Â∏¶Êù•‰ª•‰∏ãÂá†‰∏™Â•ΩÂ§ÑÔºö</p>
<ol>
<li><strong>È´òÊïàÁöÑÂéãÁº©ÂíåÁºñÁ†Å</strong> ÔºöParquetÊñá‰ª∂ÈááÁî®‰∫ÜÂàóÂºèÂ≠òÂÇ®ÁöÑÊñπÂºèÔºåÂ∞ÜÂêå‰∏ÄÂàóÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âú®‰∏ÄËµ∑ÔºåÂèØ‰ª•Êõ¥Â•ΩÂú∞Âà©Áî®ÂéãÁº©ÁÆóÊ≥ïÂíåÁºñÁ†ÅÊñπÂºè„ÄÇËøôÊ†∑ÂèØ‰ª•Â§ßÂ§ßÂáèÂ∞èÊï∞ÊçÆÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºåÈôç‰ΩéÁ£ÅÁõòIOÂíåÁΩëÁªú‰º†ËæìÁöÑÂºÄÈîÄ„ÄÇ</li>
<li><strong>ÂàóÂºèÂ≠òÂÇ®ÂíåÊäïÂΩ±Êâ´Êèè</strong> ÔºöParquetÊñá‰ª∂ÁöÑÂàóÂºèÂ≠òÂÇ®ÊñπÂºè‰ΩøÂæóSparkÂèØ‰ª•Âè™ËØªÂèñÈúÄË¶ÅÁöÑÂàóÔºåËÄå‰∏çÂøÖËØªÂèñÊï¥‰∏™Êï∞ÊçÆÈõÜ„ÄÇËøôÁßçÊäïÂΩ±Êâ´ÊèèÁöÑÊñπÂºèÂèØ‰ª•Â§ßÂ§ßÂáèÂ∞ëIOÂíåÂÜÖÂ≠òÁöÑÂºÄÈîÄÔºåÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩ„ÄÇ</li>
<li><strong>Ë∞ìËØç‰∏ãÊé®ÂíåÁªüËÆ°‰ø°ÊÅØ</strong> ÔºöParquetÊñá‰ª∂Â≠òÂÇ®‰∫ÜÊØè‰∏™ÂàóÁöÑÁªüËÆ°‰ø°ÊÅØÔºåÂåÖÊã¨ÊúÄÂ∞èÂÄº„ÄÅÊúÄÂ§ßÂÄº„ÄÅÁ©∫ÂÄºÊï∞ÈáèÁ≠â„ÄÇSparkÂèØ‰ª•Âà©Áî®Ëøô‰∫õÁªüËÆ°‰ø°ÊÅØËøõË°åË∞ìËØç‰∏ãÊé®ÔºåÂç≥Âú®ËØªÂèñÊï∞ÊçÆÊó∂Ê†πÊçÆÊü•ËØ¢Êù°‰ª∂ËøáÊª§Êéâ‰∏çÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊï∞ÊçÆÔºåÂáèÂ∞ëÊï∞ÊçÆÁöÑËØªÂèñÈáèÂíåÂ§ÑÁêÜÈáè„ÄÇ</li>
<li><strong>ÂàóÂºèÂéãÁº©ÂíåÁºñÁ†Å</strong> ÔºöParquetÊñá‰ª∂ÊîØÊåÅÂ§öÁßçÂéãÁº©ÁÆóÊ≥ïÂíåÁºñÁ†ÅÊñπÂºèÔºå‰æãÂ¶ÇSnappy„ÄÅGzip„ÄÅLZOÁ≠â„ÄÇSparkÂèØ‰ª•Ê†πÊçÆÈúÄÊ±ÇÈÄâÊã©ÈÄÇÂêàÁöÑÂéãÁº©ÁÆóÊ≥ïÂíåÁºñÁ†ÅÊñπÂºèÔºå‰ª•Âπ≥Ë°°Â≠òÂÇ®Á©∫Èó¥ÂíåÊü•ËØ¢ÊÄßËÉΩ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÊ®°ÂºèÂíåÊû∂ÊûÑÊºîÂåñ</strong> ÔºöParquetÊñá‰ª∂Â≠òÂÇ®‰∫ÜÊï∞ÊçÆÁöÑÊ®°Âºè‰ø°ÊÅØÔºåÂåÖÊã¨ÂàóÂêç„ÄÅÊï∞ÊçÆÁ±ªÂûã„ÄÅÊû∂ÊûÑÁ≠â„ÄÇËøô‰ΩøÂæóSparkÂèØ‰ª•Âú®ËØªÂèñÊï∞ÊçÆÊó∂Ëá™Âä®Êé®Êñ≠Êï∞ÊçÆÁöÑÊ®°ÂºèÔºåËÄå‰∏çÈúÄË¶ÅÊèêÂâçÂÆö‰πâÊ®°Âºè„ÄÇÂêåÊó∂ÔºåParquetÊñá‰ª∂ËøòÊîØÊåÅÊû∂ÊûÑÊºîÂåñÔºåÂç≥Âú®Êï∞ÊçÆÊõ¥Êñ∞Êó∂ÂèØ‰ª•Â¢ûÂä†„ÄÅÂà†Èô§Êàñ‰øÆÊîπÂàóÔºåËÄå‰∏çÈúÄË¶ÅÈáçÊñ∞ÂàõÂª∫Êï¥‰∏™Êï∞ÊçÆÈõÜ„ÄÇ</li>
</ol>
<p>Áªº‰∏äÊâÄËø∞ÔºåSpark‰ΩøÁî®ParquetÊñá‰ª∂Â≠òÂÇ®Ê†ºÂºèÂèØ‰ª•Êèê‰æõÈ´òÊïàÁöÑÂéãÁº©ÂíåÁºñÁ†Å„ÄÅÂàóÂºèÂ≠òÂÇ®ÂíåÊäïÂΩ±Êâ´Êèè„ÄÅË∞ìËØç‰∏ãÊé®ÂíåÁªüËÆ°‰ø°ÊÅØ„ÄÅÂàóÂºèÂéãÁº©ÂíåÁºñÁ†ÅÔºå‰ª•ÂèäÊï∞ÊçÆÊ®°ÂºèÂíåÊû∂ÊûÑÊºîÂåñÁ≠âÂ•ΩÂ§ÑÔºå‰ªéËÄåÊèêÈ´òÊï∞ÊçÆÂ≠òÂÇ®ÂíåÊü•ËØ¢ÁöÑÊÄßËÉΩ„ÄÇ</p>
<h3 id="sparksqlÂ∏∏Áî®Âì™‰∫õÁÆóÂ≠ê">SparkSQLÂ∏∏Áî®Âì™‰∫õÁÆóÂ≠ê
</h3><p>SparkSQLÊòØSparkÁöÑ‰∏Ä‰∏™Ê®°ÂùóÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÂ•óÁî®‰∫éÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆÁöÑÈ´òÁ∫ßAPI„ÄÇ‰ª•‰∏ãÊòØSparkSQL‰∏≠Â∏∏Áî®ÁöÑ‰∏Ä‰∫õÁÆóÂ≠êÔºö</p>
<ol>
<li><strong>select</strong> ÔºöÁî®‰∫éÈÄâÊã©ÊåáÂÆöÁöÑÂàóÊàñË°®ËææÂºè„ÄÇ</li>
<li><strong>filter</strong> ÔºöÁî®‰∫éÊ†πÊçÆÊåáÂÆöÁöÑÊù°‰ª∂ËøáÊª§Êï∞ÊçÆ„ÄÇ</li>
<li><strong>groupBy</strong> ÔºöÁî®‰∫éÊåâÁÖßÊåáÂÆöÁöÑÂàóËøõË°åÂàÜÁªÑ„ÄÇ</li>
<li><strong>orderBy</strong> ÔºöÁî®‰∫éÊåâÁÖßÊåáÂÆöÁöÑÂàóÂØπÊï∞ÊçÆËøõË°åÊéíÂ∫è„ÄÇ</li>
<li><strong>join</strong> ÔºöÁî®‰∫éËøûÊé•‰∏§‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÈõÜ„ÄÇ</li>
<li><strong>union</strong> ÔºöÁî®‰∫éÂêàÂπ∂‰∏§‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÈõÜ„ÄÇ</li>
<li><strong>distinct</strong> ÔºöÁî®‰∫éÂéªÈáçÔºåËøîÂõûÂîØ‰∏ÄÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li><strong>limit</strong> ÔºöÁî®‰∫éÈôêÂà∂ËøîÂõûÁöÑÊï∞ÊçÆÈáè„ÄÇ</li>
<li><strong>agg</strong> ÔºöÁî®‰∫éÂØπÊï∞ÊçÆËøõË°åËÅöÂêàÊìç‰ΩúÔºåÂ¶ÇÊ±ÇÂíå„ÄÅÂπ≥ÂùáÂÄºÁ≠â„ÄÇ</li>
<li><strong>window</strong> ÔºöÁî®‰∫éÊâßË°åÁ™óÂè£ÂáΩÊï∞Êìç‰ΩúÔºåÂ¶ÇÊªëÂä®Á™óÂè£„ÄÅÊªöÂä®Á™óÂè£Á≠â„ÄÇ</li>
<li><strong>withColumn</strong> ÔºöÁî®‰∫éÊ∑ªÂä†Êñ∞ÁöÑÂàóÊàñÊõøÊç¢Áé∞ÊúâÂàó„ÄÇ</li>
<li><strong>show</strong> ÔºöÁî®‰∫éÊòæÁ§∫Êï∞ÊçÆÈõÜÁöÑÂÜÖÂÆπ„ÄÇ</li>
<li><strong>cache/persist</strong> ÔºöÁî®‰∫éÂ∞ÜÊï∞ÊçÆÈõÜÁºìÂ≠òÂà∞ÂÜÖÂ≠òÊàñÁ£ÅÁõòÔºå‰ª•‰æøÂêéÁª≠Âø´ÈÄüËÆøÈóÆ„ÄÇ</li>
<li><strong>explain</strong> ÔºöÁî®‰∫éÊü•ÁúãÊâßË°åËÆ°Âàí„ÄÇ</li>
<li><strong>createTempView</strong> ÔºöÁî®‰∫éÂ∞ÜDataFrameÊ≥®ÂÜå‰∏∫‰∏¥Êó∂Ë°®Ôºå‰ª•‰æøËøõË°åSQLÊü•ËØ¢„ÄÇ</li>
</ol>
<p>Ëøô‰∫õÁÆóÂ≠êÂèØ‰ª•ÈÄöËøáDataFrame APIÊàñSQLËØ≠Âè•Êù•‰ΩøÁî®„ÄÇ‰ΩøÁî®Ëøô‰∫õÁÆóÂ≠êÔºåÂèØ‰ª•Êñπ‰æøÂú∞ËøõË°åÊï∞ÊçÆÁöÑÁ≠õÈÄâ„ÄÅËΩ¨Êç¢„ÄÅËÅöÂêàÁ≠âÊìç‰ΩúÔºå‰ª•Êª°Ë∂≥‰∏çÂêåÁöÑÊï∞ÊçÆÂ§ÑÁêÜÈúÄÊ±Ç„ÄÇ</p>
<h3 id="sparkÊúâÂì™‰∏§ÁßçÁÆóÂ≠ê">SparkÊúâÂì™‰∏§ÁßçÁÆóÂ≠ê
</h3><p>SparkÊúâ‰∏§Áßç‰∏ªË¶ÅÁöÑÁÆóÂ≠êÔºöËΩ¨Êç¢ÁÆóÂ≠êÔºàTransformationÔºâÂíåÂä®‰ΩúÁÆóÂ≠êÔºàActionÔºâ„ÄÇ</p>
<ol>
<li><strong>ËΩ¨Êç¢ÁÆóÂ≠êÔºàTransformationÔºâ</strong> ÔºöËΩ¨Êç¢ÁÆóÂ≠êÊòØÊåáÂØπRDDÔºàÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºâËøõË°åËΩ¨Êç¢Êìç‰ΩúÁöÑÁÆóÂ≠ê„ÄÇËΩ¨Êç¢ÁÆóÂ≠ê‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åÔºåËÄåÊòØÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑRDD„ÄÇÂ∏∏ËßÅÁöÑËΩ¨Êç¢ÁÆóÂ≠êÂåÖÊã¨ <code>map</code>„ÄÅ<code>filter</code>„ÄÅ<code>flatMap</code>„ÄÅ<code>reduceByKey</code>Á≠â„ÄÇËøô‰∫õÁÆóÂ≠êÂèØ‰ª•Áî®‰∫éÂØπRDDËøõË°åÂêÑÁßçÊìç‰ΩúÂíåÂèòÊç¢Ôºå‰æãÂ¶ÇÂØπÊØè‰∏™ÂÖÉÁ¥†ËøõË°åÊò†Â∞Ñ„ÄÅËøáÊª§„ÄÅÊâÅÂπ≥ÂåñÁ≠â„ÄÇ</li>
<li><strong>Âä®‰ΩúÁÆóÂ≠êÔºàActionÔºâ</strong> ÔºöÂä®‰ΩúÁÆóÂ≠êÊòØÊåáÂØπRDDËøõË°åÂÆûÈôÖËÆ°ÁÆóÂπ∂ËøîÂõûÁªìÊûúÁöÑÁÆóÂ≠ê„ÄÇÂä®‰ΩúÁÆóÂ≠ê‰ºöËß¶ÂèëSpark‰Ωú‰∏öÁöÑÊâßË°åÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÁªìÊûúÊàñÂ∞ÜÁªìÊûú‰øùÂ≠òÂà∞Â§ñÈÉ®Â≠òÂÇ®Á≥ªÁªü‰∏≠„ÄÇÂ∏∏ËßÅÁöÑÂä®‰ΩúÁÆóÂ≠êÂåÖÊã¨ <code>count</code>„ÄÅ<code>collect</code>„ÄÅ<code>reduce</code>„ÄÅ<code>saveAsTextFile</code>Á≠â„ÄÇËøô‰∫õÁÆóÂ≠ê‰ºöËß¶ÂèëSparkÁöÑÊâßË°åËøáÁ®ãÔºåÂØπRDDËøõË°åËÆ°ÁÆóÂπ∂ËøîÂõûÁªìÊûú„ÄÇ</li>
</ol>
<p>ÈÄöËøáËΩ¨Êç¢ÁÆóÂ≠êÂíåÂä®‰ΩúÁÆóÂ≠êÁöÑÁªÑÂêàÔºåÂèØ‰ª•ÊûÑÂª∫Â§çÊùÇÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊµÅÁ®ãÔºåÂπ∂Âú®ÈúÄË¶ÅÊó∂Ëß¶ÂèëËÆ°ÁÆóÂπ∂Ëé∑ÂèñÁªìÊûú„ÄÇËøôÁßçÂª∂ËøüËÆ°ÁÆóÁöÑÁâπÊÄß‰ΩøÂæóSparkËÉΩÂ§üËøõË°åÈ´òÊïàÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂíåÂàÜÂ∏ÉÂºèËÆ°ÁÆó„ÄÇ</p>
<h3 id="ÂØπ‰∫éspark‰∏≠ÁöÑÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò‰Ω†Êúâ‰ªÄ‰πàÂ•ΩÁöÑÊñπÊ°à">ÂØπ‰∫éSpark‰∏≠ÁöÑÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò‰Ω†Êúâ‰ªÄ‰πàÂ•ΩÁöÑÊñπÊ°à
</h3><p>Âú®Spark‰∏≠ÔºåÊï∞ÊçÆÂÄæÊñúÊòØÊåáÂú®Êï∞ÊçÆÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÊüê‰∫õÂàÜÂå∫ÁöÑÊï∞ÊçÆÈáèËøúËøúË∂ÖËøáÂÖ∂‰ªñÂàÜÂå∫ÔºåÂØºËá¥‰ªªÂä°ÊâßË°åÊó∂Èó¥Âª∂ÈïøÊàñËÄÖ‰ªªÂä°Â§±Ë¥•„ÄÇËß£ÂÜ≥Êï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÂèØ‰ª•ÈááÂèñ‰ª•‰∏ãÂá†ÁßçÊñπÊ°àÔºö</p>
<ol>
<li><strong>ÈöèÊú∫ÂâçÁºÄ</strong> ÔºöÂØπ‰∫éÂèØËÉΩÂØºËá¥Êï∞ÊçÆÂÄæÊñúÁöÑÈîÆËøõË°åÈöèÊú∫ÂâçÁºÄÂ§ÑÁêÜÔºåÂ∞ÜÂéüÊú¨ÂèØËÉΩÈõÜ‰∏≠Âú®Êüê‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÂùáÂåÄÂàÜÊï£Âà∞Â§ö‰∏™ÂàÜÂå∫‰∏≠„ÄÇËøôÁßçÊñπÊ≥ïÂèØ‰ª•ÈÄöËøáÂú®ÈîÆÂâçÊ∑ªÂä†ÈöèÊú∫Â≠óÁ¨¶‰∏≤ÊàñËÄÖÈöèÊú∫Êï∞Êù•ÂÆûÁé∞„ÄÇ</li>
<li><strong>Êâ©ÂÆπÂàÜÂå∫</strong> ÔºöÂØπ‰∫éÊï∞ÊçÆÂÄæÊñúÁöÑÂàÜÂå∫ÔºåÂèØ‰ª•ËÄÉËôëÂ∞ÜÂÖ∂ÊãÜÂàÜÊàêÂ§ö‰∏™Â∞èÂàÜÂå∫Ôºå‰ª•Â¢ûÂä†Âπ∂Ë°åÂ∫¶„ÄÇÂèØ‰ª•‰ΩøÁî®repartitionÊàñËÄÖcoalesceÊñπÊ≥ïÊù•ÈáçÊñ∞ÂàÜÂå∫„ÄÇ</li>
<li><strong>ËÅöÂêà‰ºòÂåñ</strong> ÔºöÂØπ‰∫éÈúÄË¶ÅËøõË°åËÅöÂêàÊìç‰ΩúÁöÑÂú∫ÊôØÔºåÂèØ‰ª•ÂÖàÂØπÊï∞ÊçÆËøõË°åÈ¢ÑËÅöÂêàÔºåÂ∞ÜÊï∞ÊçÆÈáèÂáèÂ∞ëÂà∞‰∏Ä‰∏™ÂèØÊé•ÂèóÁöÑËåÉÂõ¥ÔºåÁÑ∂ÂêéÂÜçËøõË°åÂÖ®Â±ÄËÅöÂêà„ÄÇ</li>
<li><strong>ÂπøÊí≠ÂèòÈáè</strong> ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂÄæÊñúÊòØÁî±‰∫éÊüê‰∏™ËæÉÂ∞èÁöÑÊï∞ÊçÆÈõÜÂºïËµ∑ÁöÑÔºåÂèØ‰ª•Â∞ÜËØ•Êï∞ÊçÆÈõÜ‰ΩøÁî®ÂπøÊí≠ÂèòÈáèÁöÑÊñπÂºèÂàÜÂèëÂà∞ÊâÄÊúâÁöÑExecutor‰∏äÔºåÈÅøÂÖçÊï∞ÊçÆÈáçÂ§çÂä†ËΩΩ„ÄÇ</li>
<li><strong>ÂàÜÊ°∂ÂíåÊéíÂ∫è</strong> ÔºöÂØπ‰∫éËøûÊé•Êìç‰ΩúÊàñËÄÖËÅöÂêàÊìç‰Ωú‰∏≠ÁöÑÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÔºåÂèØ‰ª•ÈÄöËøáÂØπÊï∞ÊçÆËøõË°åÂàÜÊ°∂ÂíåÊéíÂ∫èÊù•Ëß£ÂÜ≥„ÄÇÂ∞ÜÊï∞ÊçÆÊåâÁÖßÊüê‰∏™ÁâπÂÆöÁöÑÂàóËøõË°åÂàÜÊ°∂ÔºåÁÑ∂ÂêéÂú®ËøûÊé•ÊàñËÄÖËÅöÂêàÊó∂ÔºåÂè™ÂØπÁõ∏ÂêåÊ°∂‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÊìç‰Ωú„ÄÇ</li>
<li><strong>Âä®ÊÄÅË∞ÉÊï¥ËµÑÊ∫ê</strong> ÔºöÂ¶ÇÊûúÂú®‰ªªÂä°ÊâßË°åËøáÁ®ã‰∏≠ÂèëÁé∞Êüê‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÈáèËøáÂ§ßÔºåÂèØ‰ª•Âä®ÊÄÅË∞ÉÊï¥ËµÑÊ∫êÔºåÂ¢ûÂä†ËØ•ÂàÜÂå∫ÁöÑÂ§ÑÁêÜËÉΩÂäõÔºå‰ª•Âä†Âø´‰ªªÂä°ÁöÑÊâßË°åÈÄüÂ∫¶„ÄÇ</li>
</ol>
<p>‰ª•‰∏äÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑËß£ÂÜ≥Êï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÁöÑÊñπÊ≥ïÔºåÂÖ∑‰ΩìÂ∫îËØ•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµÈÄâÊã©ÂêàÈÄÇÁöÑÊñπÊ°à„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂèØËÉΩÈúÄË¶ÅÁªìÂêàÂ§öÁßçÊñπÊ≥ïÊù•Ëß£ÂÜ≥Â§çÊùÇÁöÑÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò„ÄÇ</p>
<h3 id="sparkÊäÄÊúØÊ†àÊúâÂì™‰∫õÁªÑ‰ª∂ÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÊúâ‰ªÄ‰πàÂäüËÉΩÈÄÇÂêà‰ªÄ‰πàÂ∫îÁî®Âú∫ÊôØ">SparkÊäÄÊúØÊ†àÊúâÂì™‰∫õÁªÑ‰ª∂ÔºåÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÊúâ‰ªÄ‰πàÂäüËÉΩÔºåÈÄÇÂêà‰ªÄ‰πàÂ∫îÁî®Âú∫ÊôØ
</h3><p>Spark ÊäÄÊúØÊ†àÂåÖÂê´‰ª•‰∏ãÂá†‰∏™Ê†∏ÂøÉÁªÑ‰ª∂Ôºö</p>
<ol>
<li><strong>Spark Core</strong> ÔºöSpark ÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÔºåÊèê‰æõ‰∫Ü‰ªªÂä°Ë∞ÉÂ∫¶„ÄÅÂÜÖÂ≠òÁÆ°ÁêÜÂíåÈîôËØØÊÅ¢Â§çÁ≠âÂäüËÉΩ„ÄÇÂÆÉËøòÂÆö‰πâ‰∫Ü RDDÔºàResilient Distributed DatasetsÔºâÊï∞ÊçÆÁªìÊûÑÔºåÁî®‰∫éÂú®ÈõÜÁæ§‰∏äËøõË°åÂàÜÂ∏ÉÂºèËÆ°ÁÆó„ÄÇ</li>
<li><strong>Spark SQL</strong> ÔºöÁî®‰∫éÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆÁöÑÁªÑ‰ª∂ÔºåÊîØÊåÅ‰ΩøÁî® SQL Êü•ËØ¢Êï∞ÊçÆ„ÄÇÂÆÉÊèê‰æõ‰∫Ü DataFrame Âíå Dataset ‰∏§‰∏™ APIÔºåÂèØ‰ª•Êñπ‰æøÂú∞ËøõË°åÊï∞ÊçÆÂ§ÑÁêÜÂíåÂàÜÊûê„ÄÇÈÄÇÂêàÂ§ÑÁêÜÂ§ßËßÑÊ®°ÁöÑÁªìÊûÑÂåñÊï∞ÊçÆ„ÄÇ</li>
<li><strong>Spark Streaming</strong> ÔºöÁî®‰∫éÂÆûÊó∂Êï∞ÊçÆÂ§ÑÁêÜÁöÑÁªÑ‰ª∂ÔºåÂèØ‰ª•Â∞ÜÂÆûÊó∂Êï∞ÊçÆÊµÅÂàíÂàÜ‰∏∫Â∞èÊâπÊ¨°ËøõË°åÂ§ÑÁêÜ„ÄÇÂÆÉÊîØÊåÅÂêÑÁßçÊï∞ÊçÆÊ∫êÔºåÂ¶Ç Kafka„ÄÅFlume Âíå HDFSÔºåÂπ∂Êèê‰æõ‰∫ÜÁ™óÂè£Êìç‰ΩúÂíåÁä∂ÊÄÅÁÆ°ÁêÜÁ≠âÂäüËÉΩ„ÄÇÈÄÇÂêàÂÆûÊó∂Êï∞ÊçÆÂàÜÊûêÂíåÊµÅÂºèÂ§ÑÁêÜ„ÄÇ</li>
<li><strong>Spark MLlib</strong> ÔºöÁî®‰∫éÊú∫Âô®Â≠¶‰π†ÁöÑÁªÑ‰ª∂ÔºåÊèê‰æõ‰∫ÜÂ∏∏ËßÅÁöÑÊú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÂíåÂ∑•ÂÖ∑„ÄÇÂÆÉÊîØÊåÅÂàÜÁ±ª„ÄÅÂõûÂΩí„ÄÅËÅöÁ±ªÂíåÊé®ËçêÁ≠â‰ªªÂä°ÔºåÂπ∂Êèê‰æõ‰∫ÜÁâπÂæÅÊèêÂèñ„ÄÅÊ®°ÂûãËØÑ‰º∞ÂíåÊ®°ÂûãË∞É‰ºòÁ≠âÂäüËÉΩ„ÄÇÈÄÇÂêàÂ§ßËßÑÊ®°ÁöÑÊú∫Âô®Â≠¶‰π†‰ªªÂä°„ÄÇ</li>
<li><strong>Spark GraphX</strong> ÔºöÁî®‰∫éÂõæËÆ°ÁÆóÁöÑÁªÑ‰ª∂ÔºåÊèê‰æõ‰∫ÜÂõæÁªìÊûÑÁöÑÊäΩË±°ÂíåÂ∏∏ËßÅÁöÑÂõæÁÆóÊ≥ï„ÄÇÂÆÉÊîØÊåÅÂõæÁöÑÊûÑÂª∫„ÄÅÈÅçÂéÜÂíåËÆ°ÁÆóÔºåÂπ∂Êèê‰æõ‰∫ÜÂõæÂàÜÊûêÂíåÂõæÊåñÊéòÁ≠âÂäüËÉΩ„ÄÇÈÄÇÂêàÁ§æ‰∫§ÁΩëÁªúÂàÜÊûêÂíåÂõæËÆ°ÁÆó‰ªªÂä°„ÄÇ</li>
<li><strong>SparkR</strong> ÔºöÁî®‰∫éÂú® R ËØ≠Ë®Ä‰∏≠‰ΩøÁî® Spark ÁöÑÁªÑ‰ª∂ÔºåÊèê‰æõ‰∫ÜÂú® R ‰∏≠ËøõË°åÂàÜÂ∏ÉÂºèËÆ°ÁÆóÂíåÊï∞ÊçÆÂ§ÑÁêÜÁöÑËÉΩÂäõ„ÄÇÂÆÉÊîØÊåÅ‰ΩøÁî® R ËØ≠Ê≥ïËøõË°åÊï∞ÊçÆÊìç‰ΩúÔºåÂπ∂Êèê‰æõ‰∫Ü‰∏é Spark SQL Âíå MLlib ÁöÑÈõÜÊàê„ÄÇÈÄÇÂêà R ËØ≠Ë®ÄÁî®Êà∑ËøõË°åÂ§ßËßÑÊ®°Êï∞ÊçÆÂ§ÑÁêÜÂíåÂàÜÊûê„ÄÇ</li>
</ol>
<p>Ëøô‰∫õÁªÑ‰ª∂ÂèØ‰ª•Ê†πÊçÆÂÖ∑‰ΩìÁöÑÂ∫îÁî®Âú∫ÊôØËøõË°åÁªÑÂêàÂíå‰ΩøÁî®Ôºå‰æãÂ¶ÇÔºö</p>
<ul>
<li>Â¶ÇÊûúÈúÄË¶ÅÂ§ÑÁêÜÂ§ßËßÑÊ®°ÁöÑÁªìÊûÑÂåñÊï∞ÊçÆÔºåÂπ∂ËøõË°åÂ§çÊùÇÁöÑÊï∞ÊçÆÂàÜÊûêÂíåÊü•ËØ¢Êìç‰ΩúÔºåÂèØ‰ª•‰ΩøÁî® Spark SQL„ÄÇ</li>
<li>Â¶ÇÊûúÈúÄË¶ÅËøõË°åÂÆûÊó∂Êï∞ÊçÆÂ§ÑÁêÜÂíåÊµÅÂºèËÆ°ÁÆóÔºåÂèØ‰ª•‰ΩøÁî® Spark Streaming„ÄÇ</li>
<li>Â¶ÇÊûúÈúÄË¶ÅËøõË°åÂ§ßËßÑÊ®°ÁöÑÊú∫Âô®Â≠¶‰π†‰ªªÂä°ÔºåÂèØ‰ª•‰ΩøÁî® Spark MLlib„ÄÇ</li>
<li>Â¶ÇÊûúÈúÄË¶ÅËøõË°åÂõæËÆ°ÁÆóÂíåÂõæÂàÜÊûêÔºåÂèØ‰ª•‰ΩøÁî® Spark GraphX„ÄÇ</li>
<li>Â¶ÇÊûúÈúÄË¶ÅÂú® R ËØ≠Ë®Ä‰∏≠ËøõË°åÂàÜÂ∏ÉÂºèËÆ°ÁÆóÂíåÊï∞ÊçÆÂ§ÑÁêÜÔºåÂèØ‰ª•‰ΩøÁî® SparkR„ÄÇ</li>
</ul>
<p>ÊÄªÁöÑÊù•ËØ¥ÔºåSpark ÊäÄÊúØÊ†àÊèê‰æõ‰∫Ü‰∏ÄÂ•óÂº∫Â§ßÁöÑÂ∑•ÂÖ∑ÂíåÁªÑ‰ª∂ÔºåÂèØ‰ª•Êª°Ë∂≥‰∏çÂêåÂú∫ÊôØ‰∏ãÁöÑÂ§ßËßÑÊ®°Êï∞ÊçÆÂ§ÑÁêÜÂíåÂàÜÊûêÈúÄÊ±Ç„ÄÇ</p>
<p>SparkÊòØ‰∏Ä‰∏™Âø´ÈÄü„ÄÅÈÄöÁî®ÁöÑÂ§ßÊï∞ÊçÆÂ§ÑÁêÜÊ°ÜÊû∂ÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂíåÂäüËÉΩÔºåÁî®‰∫éÂ§ÑÁêÜÂíåÂàÜÊûêÂ§ßËßÑÊ®°Êï∞ÊçÆÈõÜ„ÄÇ‰∏ãÈù¢ÊòØSparkÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂèäÂÖ∂ÂäüËÉΩÁöÑËØ¶ÁªÜ‰ªãÁªçÔºö</p>
<ol>
<li><strong>Spark Core</strong> ÔºöSparkÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÔºåÊèê‰æõ‰∫ÜÂàÜÂ∏ÉÂºè‰ªªÂä°Ë∞ÉÂ∫¶„ÄÅÂÜÖÂ≠òÁÆ°ÁêÜÂíåÈîôËØØÊÅ¢Â§çÁ≠âÂü∫Êú¨ÂäüËÉΩ„ÄÇÂÆÉËøòÂÆö‰πâ‰∫ÜRDDÔºàÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºâÁöÑÊ¶ÇÂøµÔºåRDDÊòØSpark‰∏≠ÁöÑÂü∫Êú¨Êï∞ÊçÆÁªìÊûÑÔºåÁî®‰∫éË°®Á§∫ÂèØÂπ∂Ë°åÂ§ÑÁêÜÁöÑÊï∞ÊçÆÈõÜ„ÄÇ</li>
<li><strong>Spark SQL</strong> ÔºöÁî®‰∫éÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆÁöÑÊ®°ÂùóÔºåÊîØÊåÅSQLÊü•ËØ¢ÂíåDataFrame API„ÄÇÂÆÉÂèØ‰ª•Â∞ÜÊï∞ÊçÆ‰ªéÂ§öÁßçÊï∞ÊçÆÊ∫êÔºàÂ¶ÇHive„ÄÅAvro„ÄÅParquetÁ≠âÔºâÂä†ËΩΩÂà∞Spark‰∏≠ÔºåÂπ∂Êèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÊü•ËØ¢‰ºòÂåñÂíåÊâßË°åÂäüËÉΩ„ÄÇ</li>
<li><strong>Spark Streaming</strong> ÔºöÁî®‰∫éÂÆûÊó∂Êï∞ÊçÆÊµÅÂ§ÑÁêÜÁöÑÊ®°ÂùóÔºåÊîØÊåÅÈ´òÂêûÂêêÈáèÁöÑÊï∞ÊçÆÊµÅÂ§ÑÁêÜÂíåÂ§çÊùÇ‰∫ã‰ª∂Â§ÑÁêÜ„ÄÇÂÆÉÂèØ‰ª•Â∞ÜÂÆûÊó∂Êï∞ÊçÆÊµÅÂàÜÊàêÂ∞èÊâπÊ¨°ÔºåÂπ∂Âú®ÊØè‰∏™ÊâπÊ¨°‰∏äÂ∫îÁî®ÊâπÂ§ÑÁêÜÊìç‰Ωú„ÄÇ</li>
<li><strong>MLlib</strong> ÔºöSparkÁöÑÊú∫Âô®Â≠¶‰π†Â∫ìÔºåÊèê‰æõ‰∫ÜÂ∏∏ËßÅÁöÑÊú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÂíåÂ∑•ÂÖ∑ÔºåÂ¶ÇÂàÜÁ±ª„ÄÅÂõûÂΩí„ÄÅËÅöÁ±ª„ÄÅÊé®ËçêÁ≠â„ÄÇÂÆÉÊîØÊåÅÂàÜÂ∏ÉÂºèËÆ≠ÁªÉÂíåÊé®ÁêÜÔºåÂπ∂Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÁâπÂæÅÊèêÂèñ„ÄÅËΩ¨Êç¢ÂíåÈÄâÊã©ÂäüËÉΩ„ÄÇ</li>
<li><strong>GraphX</strong> ÔºöÁî®‰∫éÂõæËÆ°ÁÆóÁöÑÊ®°ÂùóÔºåÊîØÊåÅÂõæÁöÑÂàõÂª∫„ÄÅÊìç‰ΩúÂíåÂàÜÊûê„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁªÑÈ´òÁ∫ßÂõæÁÆóÊ≥ïÂíåÊìç‰ΩúÁ¨¶ÔºåÂèØ‰ª•Áî®‰∫éÁ§æ‰∫§ÁΩëÁªúÂàÜÊûê„ÄÅÊé®ËçêÁ≥ªÁªüÁ≠âÈ¢ÜÂüü„ÄÇ</li>
<li><strong>SparkR</strong> ÔºöÁî®‰∫éÂú®RËØ≠Ë®Ä‰∏≠‰ΩøÁî®SparkÁöÑÊé•Âè£„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏éSpark CoreÂíåSpark SQLÁöÑÈõÜÊàêÔºåÂèØ‰ª•Âú®R‰∏≠‰ΩøÁî®SparkÁöÑÂàÜÂ∏ÉÂºèËÆ°ÁÆóÂíåÊï∞ÊçÆÂ§ÑÁêÜÂäüËÉΩ„ÄÇ</li>
</ol>
<p>Èô§‰∫Ü‰ª•‰∏äÊ†∏ÂøÉÁªÑ‰ª∂ÔºåSparkËøòÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂÖ∂‰ªñÂäüËÉΩÂíåÂ∑•ÂÖ∑ÔºåÂ¶ÇÔºö</p>
<ul>
<li>Spark StreamingÂèØ‰ª•‰∏éKafka„ÄÅFlumeÁ≠âÊï∞ÊçÆÊ∫êÈõÜÊàêÔºåÂÆûÁé∞ÂÆûÊó∂Êï∞ÊçÆÊµÅÂ§ÑÁêÜ„ÄÇ</li>
<li>SparkÂèØ‰ª•‰∏éHadoop„ÄÅHive„ÄÅHBaseÁ≠âÂ§ßÊï∞ÊçÆÁîüÊÄÅÁ≥ªÁªü‰∏≠ÁöÑÂÖ∂‰ªñÂ∑•ÂÖ∑ÂíåÊ°ÜÊû∂Êó†ÁºùÈõÜÊàê„ÄÇ</li>
<li>SparkÊèê‰æõ‰∫Ü‰∫§‰∫íÂºèShellÔºàspark-shellÔºâÂíåWebÁïåÈù¢ÔºàSpark UIÔºâÁ≠âÂºÄÂèëÂíåÁõëÊéßÂ∑•ÂÖ∑„ÄÇ</li>
<li>SparkÊîØÊåÅÂú®Êú¨Âú∞Ê®°Âºè„ÄÅÁã¨Á´ãÊ®°ÂºèÂíåÈõÜÁæ§Ê®°Âºè‰∏ãËøêË°åÔºåÂèØ‰ª•Ê†πÊçÆÈúÄÊ±ÇËøõË°åÁÅµÊ¥ªÈÉ®ÁΩ≤ÂíåÊâ©Â±ï„ÄÇ</li>
</ul>
<h3 id="ÊèèËø∞‰ª•‰∏ãÁÆóÂ≠êÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª">ÊèèËø∞‰ª•‰∏ãÁÆóÂ≠êÁöÑÂå∫Âà´‰∏éËÅîÁ≥ª
</h3><p><strong>‰∏Ä„ÄÅgroupByKey„ÄÅreduceByKey„ÄÅaggreageByKey</strong></p>
<p><strong>reduceByKey</strong> ÔºöÂèØ‰ª•Âú®ÊØè‰∏™ÂàÜÂå∫ÁßªÂä®Êï∞ÊçÆ‰πãÂâçÂ∞ÜËæìÂá∫Êï∞ÊçÆ‰∏é‰∏Ä‰∏™ÂÖ±Áî®ÁöÑ <code>key</code>ÁªìÂêàÔºåÈÄÇÁî®‰∫éÂ§ßÊï∞ÊçÆÈõÜËÆ°ÁÆó</p>
<p><strong>groupByKey</strong> ÔºöÊâÄÊúâÁöÑÈîÆÂÄºÂØπ(key-value pair) ÈÉΩ‰ºöË¢´ÁßªÂä®,Âú®ÁΩëÁªú‰∏ä‰º†ËæìËøô‰∫õÊï∞ÊçÆÈùûÂ∏∏Ê≤°ÂøÖË¶ÅÔºåÂõ†Ê≠§ÈÅøÂÖç‰ΩøÁî® groupByKey</p>
<p><strong>aggreageByKey</strong> Ôºö</p>
<p><strong>‰∫å„ÄÅcache„ÄÅpresist</strong></p>
<p>ÈÉΩÁî®‰∫éÂ∞ÜRDDËøõË°åÁºìÂ≠ò</p>
<p><strong>cache</strong> ÔºöÂè™Êúâ‰∏Ä‰∏™ÈªòËÆ§ÁöÑÁºìÂ≠òÁ∫ßÂà´MEMORY_ONLY</p>
<p><strong>presist</strong> ÔºöpersistÊúâ‰∏Ä‰∏™ StorageLevel Á±ªÂûãÁöÑÂèÇÊï∞ÔºåÊÄªÂÖ±Êúâ12ÁßçÁºìÂ≠òÁ∫ßÂà´</p>
<p><strong>‰∏â„ÄÅrepartition„ÄÅcoalesce</strong></p>
<p>ÈÉΩÊòØRDDÁöÑÂàÜÂå∫ËøõË°åÈáçÊñ∞ÂàíÂàÜ</p>
<p><strong>repartition</strong> ÔºörepartitionÂè™ÊòØcoalesceÊé•Âè£‰∏≠shuffle‰∏∫trueÁöÑÂÆûÁé∞</p>
<p><strong>coalesce</strong> ÔºöÂ¶ÇÊûúshuff‰∏∫falseÊó∂ÔºåÂ¶ÇÊûú‰º†ÂÖ•ÁöÑÂèÇÊï∞Â§ß‰∫éÁé∞ÊúâÁöÑÂàÜÂå∫Êï∞ÁõÆÔºåRDDÁöÑÂàÜÂå∫Êï∞‰∏çÂèòÔºå‰πüÂ∞±ÊòØËØ¥‰∏çÁªèËøáshuffleÔºåÊòØÊó†Ê≥ïÂ∞ÜRDDÁöÑÂàÜÂå∫Êï∞ÂèòÂ§öÁöÑ</p>
<p><strong>Âõõ„ÄÅmap„ÄÅflatMap</strong></p>
<p><strong>map</strong> ÔºöÂ∞ÜÂáΩÊï∞Áî®‰∫éRDD‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂ∞ÜËøîÂõûÂÄºÊûÑÊàêÊñ∞ÁöÑRDD</p>
<p><strong>flatMap</strong> ÔºöÂ∞ÜÂáΩÊï∞Â∫îÁî®‰∫éRDD‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂ∞ÜËøîÂõûÁöÑËø≠‰ª£Âô®ÁöÑÊâÄÊúâÂÜÖÂÆπÊûÑÊàêÊñ∞ÁöÑRDD</p>
<h3 id="sparkÁÆóÂ≠êÂèØÂàÜ‰∏∫‰∏§Á±ªÁÆóÂ≠êÂå∫Âà´ÊòØ‰ªÄ‰πàÂàÜÂà´‰∏æ‰æã">SparkÁÆóÂ≠êÂèØÂàÜ‰∏∫‰∏§Á±ªÁÆóÂ≠êÔºåÂå∫Âà´ÊòØ‰ªÄ‰πàÔºåÂàÜÂà´‰∏æ‰æã
</h3><p>SparkÁöÑÁÆóÂ≠êÂèØ‰ª•ÂàÜ‰∏∫‰∏§Á±ªÔºöTransformation„ÄÅAction</p>
<ul>
<li><strong>Transformation</strong> Ôºö‰ªéÁé∞ÊúâÁöÑÊï∞ÊçÆÈõÜÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÊçÆÈõÜÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ RDD Êìç‰Ωú„ÄÇTransformationÈÉΩÊòØÊÉ∞ÊÄßÁöÑÔºåÂÆÉ‰ª¨Âπ∂‰∏ç‰ºöÁ´ãÂàªÊâßË°åÔºåÂè™ÊòØËÆ∞‰Ωè‰∫ÜËøô‰∫õÂ∫îÁî®Âà∞ RDD ‰∏äÁöÑËΩ¨Êç¢Âä®‰Ωú</li>
<li><strong>Action</strong> ÔºöËß¶ÂèëÂú® RDD ‰∏äÁöÑËÆ°ÁÆóÔºåËøô‰∫õËÆ°ÁÆóÂèØ‰ª•ÊòØÂêëÂ∫îÁî®Á®ãÂ∫èËøîÂõûÁªìÊûúÔºå‰πüÂèØ‰ª•ÊòØÂêëÂ≠òÂÇ®Á≥ªÁªü‰øùÂ≠òÊï∞ÊçÆ</li>
</ul>
<p>Transformation ÊúÄÈáçË¶ÅÁöÑÁâπÁÇπÔºö<strong>Âª∂ËøüÊâßË°å„ÄÅËøîÂõû RDD</strong></p>
<p>ActionÊúÄÈáçË¶ÅÁöÑÁâπÁÇπÔºö<strong>Ëß¶Âèë Job ÔºåËøîÂõûÁöÑÁªìÊûú‰∏ÄÂÆö‰∏çÊòØ RDD</strong></p>
<ul>
<li>Â∏∏ËßÅÁöÑ Transformation ÂåÖÊã¨Ôºö<strong>map„ÄÅmapVaules„ÄÅfilter„ÄÅflatMap„ÄÅmapPartitions„ÄÅuoin„ÄÅjoin„ÄÅdistinct„ÄÅxxxByKey</strong></li>
<li>Â∏∏ËßÅÁöÑ Action ÂåÖÊã¨Ôºö<strong>count„ÄÅcollect„ÄÅcollectAsMap„ÄÅfirst„ÄÅreduce„ÄÅfold„ÄÅaggregate„ÄÅsaveAsTextFile</strong></li>
</ul>
<p>ÊúâShuffleÁöÑ Transformation ÂåÖÊã¨Ôºö</p>
<ul>
<li>‰∏ÄÂ†ÜÁöÑ xxxByKeyÔºàsortBykey„ÄÅgroupByKey„ÄÅreduceByKey„ÄÅfoldByKey„ÄÅaggreageByKey„ÄÅcombineByKeyÔºâ„ÄÇÂ§áÊ≥®Ôºö‰∏çÂåÖÊã¨countByKey</li>
<li>joinÁõ∏ÂÖ≥Ôºàjoin„ÄÅleftOuterJoin„ÄÅrightOuterJoin„ÄÅfullOuterJoin„ÄÅcogroupÔºâ</li>
<li>distinct„ÄÅintersection„ÄÅsubtract„ÄÅpartionBy„ÄÅrepartition</li>
</ul>
<h3 id="ËØ¥ËØ¥‰Ω†ÂØπsparkÂàÜÂå∫Âô®ÁöÑÁêÜËß£">ËØ¥ËØ¥‰Ω†ÂØπSparkÂàÜÂå∫Âô®ÁöÑÁêÜËß£
</h3><p>SparkÂàÜÂå∫Âô®ÊòØÁî®‰∫éÂ∞ÜÊï∞ÊçÆÈõÜÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÁöÑÁªÑ‰ª∂„ÄÇÂàÜÂå∫Âô®ÂÜ≥ÂÆö‰∫ÜÊï∞ÊçÆÂú®ÈõÜÁæ§‰∏≠ÁöÑÂàÜÂ∏ÉÊñπÂºèÔºåÂØπ‰∫éÊï∞ÊçÆÂ§ÑÁêÜÂíåËÆ°ÁÆóÁöÑÊïàÁéáÂÖ∑ÊúâÈáçË¶ÅÂΩ±Âìç„ÄÇ</p>
<p>SparkÊèê‰æõ‰∫ÜÂ§öÁßçÂàÜÂå∫Âô®ÔºåÂÖ∂‰∏≠Â∏∏ËßÅÁöÑÊúâÂìàÂ∏åÂàÜÂå∫Âô®ÔºàHashPartitionerÔºâÂíåËåÉÂõ¥ÂàÜÂå∫Âô®ÔºàRangePartitionerÔºâ„ÄÇ</p>
<p>ÂìàÂ∏åÂàÜÂå∫Âô®Ê†πÊçÆÈîÆÁöÑÂìàÂ∏åÂÄºÂ∞ÜÊï∞ÊçÆÂùáÂåÄÂú∞ÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠„ÄÇÂÆÉÈÄÇÁî®‰∫éÈîÆÁöÑÂàÜÂ∏ÉÁõ∏ÂØπÂùáÂåÄÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•‰øùËØÅÁõ∏ÂêåÈîÆÁöÑÊï∞ÊçÆË¢´ÂàÜÈÖçÂà∞Âêå‰∏Ä‰∏™ÂàÜÂå∫Ôºå‰ªéËÄåÊñπ‰æøÂêéÁª≠ÁöÑËÅöÂêàÊìç‰Ωú„ÄÇ</p>
<p>ËåÉÂõ¥ÂàÜÂå∫Âô®Ê†πÊçÆÈîÆÁöÑÂ§ßÂ∞èËåÉÂõ¥Â∞ÜÊï∞ÊçÆÂàíÂàÜÂà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠„ÄÇÂÆÉÈÄÇÁî®‰∫éÈîÆÁöÑÂàÜÂ∏ÉÊúâÂ∫èÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•‰øùËØÅÁõ∏ÈÇªÈîÆÁöÑÊï∞ÊçÆË¢´ÂàíÂàÜÂà∞Áõ∏ÈÇªÁöÑÂàÜÂå∫Ôºå‰ªéËÄåÊèêÈ´ò‰∫ÜÊï∞ÊçÆÁöÑÂ±ÄÈÉ®ÊÄßÔºåÊúâÂà©‰∫éÂêéÁª≠ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊìç‰Ωú„ÄÇ</p>
<p>Èô§‰∫ÜËøô‰∏§ÁßçÂ∏∏ËßÅÁöÑÂàÜÂå∫Âô®ÔºåSparkËøòÊèê‰æõ‰∫ÜËá™ÂÆö‰πâÂàÜÂå∫Âô®ÁöÑÊé•Âè£ÔºåÁî®Êà∑ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±ÇÂÆûÁé∞Ëá™Â∑±ÁöÑÂàÜÂå∫Á≠ñÁï•„ÄÇ</p>
<p>ÂàÜÂå∫Âô®ÁöÑÈÄâÊã©ÂØπ‰∫éSpark‰Ωú‰∏öÁöÑÊÄßËÉΩËá≥ÂÖ≥ÈáçË¶Å„ÄÇ‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂàÜÂå∫Á≠ñÁï•ÂèØ‰ª•‰ΩøÂæóÊï∞ÊçÆÂú®ÈõÜÁæ§‰∏≠ÁöÑË¥üËΩΩÂùáË°°ÔºåÂáèÂ∞ëÊï∞ÊçÆÁöÑ‰º†ËæìÂíåÈáçÁªÑÂºÄÈîÄÔºåÊèêÈ´ò‰Ωú‰∏öÁöÑÂπ∂Ë°åÂ∫¶ÂíåÊâßË°åÊïàÁéá„ÄÇÂõ†Ê≠§ÔºåÂú®‰ΩøÁî®SparkÊó∂ÔºåÈúÄË¶ÅÊ†πÊçÆÊï∞ÊçÆÁöÑÁâπÁÇπÂíå‰Ωú‰∏öÁöÑÈúÄÊ±ÇÈÄâÊã©ÂêàÈÄÇÁöÑÂàÜÂå∫Âô®Êù•‰ºòÂåñ‰Ωú‰∏öÁöÑÊÄßËÉΩ„ÄÇ</p>
<h3 id="spark-streaming-‰∏≠ÊúâÂì™‰∫õÊ∂àË¥πkafkaÊï∞ÊçÆÁöÑÊñπÂºèÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà">Spark Streaming ‰∏≠ÊúâÂì™‰∫õÊ∂àË¥πKafkaÊï∞ÊçÆÁöÑÊñπÂºèÔºåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà
</h3><p>Âú®Spark Streaming‰∏≠ÔºåÊúâ‰∏§Áßç‰∏ªË¶ÅÁöÑÊñπÂºèÂèØ‰ª•Ê∂àË¥πKafkaÊï∞ÊçÆÔºöÁõ¥Êé•ÊñπÂºèÔºàDirect ApproachÔºâÂíåÊé•Êî∂Âô®ÊñπÂºèÔºàReceiver ApproachÔºâ„ÄÇ</p>
<ol>
<li>Áõ¥Êé•ÊñπÂºèÔºàDirect ApproachÔºâÔºö
<ul>
<li>‰ΩøÁî® <code>createDirectStream</code>ÊñπÊ≥ï‰ªéKafkaÁõ¥Êé•ËØªÂèñÊï∞ÊçÆ„ÄÇ</li>
<li>Spark Streaming‰ºöÁõ¥Êé•ËøûÊé•Âà∞KafkaÁöÑÂàÜÂå∫ÔºåÊØè‰∏™SparkÂàÜÂå∫ÈÉΩ‰ºöÂØπÂ∫î‰∏Ä‰∏™KafkaÂàÜÂå∫„ÄÇ</li>
<li>Ê∂àË¥πËÄÖÁöÑÂÅèÁßªÈáèÁî±Â∫îÁî®Á®ãÂ∫èËá™Â∑±ÁÆ°ÁêÜÔºåÈÄöÂ∏∏‰∏éÂ§ñÈÉ®Â≠òÂÇ®ÔºàÂ¶ÇZooKeeperÔºâÁªìÂêà‰ΩøÁî®„ÄÇ</li>
<li>ÂèØ‰ª•ÂÆûÁé∞Á´ØÂà∞Á´ØÁöÑ‰∏ÄÊ¨°ÊÄßËØ≠‰πâÔºàExactly-once semanticsÔºâ„ÄÇ</li>
</ul>
</li>
<li>Êé•Êî∂Âô®ÊñπÂºèÔºàReceiver ApproachÔºâÔºö
<ul>
<li>‰ΩøÁî® <code>createStream</code>ÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™Êé•Êî∂Âô®ÔºàReceiverÔºâÊù•Êé•Êî∂KafkaÊï∞ÊçÆ„ÄÇ</li>
<li>Êé•Êî∂Âô®ÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÁ∫øÁ®ãÔºåË¥üË¥£‰ªéKafka‰∏ªÈ¢ò‰∏≠Êé•Êî∂Êï∞ÊçÆ„ÄÇ</li>
<li>Êé•Êî∂Âà∞ÁöÑÊï∞ÊçÆ‰ºöÂ≠òÂÇ®Âú®SparkÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂Áî±Spark StreamingËøõË°åÂ§ÑÁêÜ„ÄÇ</li>
<li>Ê∂àË¥πËÄÖÁöÑÂÅèÁßªÈáèÁî±Êé•Êî∂Âô®Ëá™Âä®ÁÆ°ÁêÜÔºåÂπ∂ÂÆöÊúü‰øùÂ≠òÂà∞Ê£ÄÊü•ÁÇπÔºàcheckpointÔºâ‰∏≠„ÄÇ</li>
<li>Êó†Ê≥ïÂÆûÁé∞Á´ØÂà∞Á´ØÁöÑ‰∏ÄÊ¨°ÊÄßËØ≠‰πâÔºåÂèØËÉΩ‰ºöÊúâÊï∞ÊçÆ‰∏¢Â§±ÊàñÈáçÂ§ç„ÄÇ</li>
</ul>
</li>
</ol>
<p>‰∏§ÁßçÊñπÂºè‰πãÈó¥ÁöÑÂå∫Âà´‰∏ªË¶ÅÂú®‰∫éÊï∞ÊçÆÁöÑÊé•Êî∂ÂíåÂ§ÑÁêÜÊñπÂºèÔºå‰ª•ÂèäËØ≠‰πâ‰øùËØÅÁöÑËÉΩÂäõ„ÄÇ</p>
<p>Áõ¥Êé•ÊñπÂºèÂÖ∑ÊúâÊõ¥‰ΩéÁöÑÂª∂ËøüÂíåÊõ¥È´òÁöÑÂêûÂêêÈáèÔºåÂõ†‰∏∫ÂÆÉÁõ¥Êé•ËøûÊé•Âà∞KafkaÂàÜÂå∫ÔºåÈÅøÂÖç‰∫ÜÊé•Êî∂Âô®Á∫øÁ®ãÁöÑÂºÄÈîÄ„ÄÇÂêåÊó∂ÔºåÁõ¥Êé•ÊñπÂºèÂèØ‰ª•ÂÆûÁé∞Á´ØÂà∞Á´ØÁöÑ‰∏ÄÊ¨°ÊÄßËØ≠‰πâÔºåÁ°Æ‰øùÊï∞ÊçÆÁöÑÁ≤æÁ°ÆÂ§ÑÁêÜ„ÄÇ</p>
<p>Êé•Êî∂Âô®ÊñπÂºèÁõ∏ÂØπÁÆÄÂçïÔºåÈÄÇÁî®‰∫éËæÉ‰ΩéÁöÑÊï∞ÊçÆÂêûÂêêÈáèÂíåËæÉÈ´òÁöÑÂª∂ËøüÂÆπÂøçÂ∫¶„ÄÇÂÆÉ‰ΩøÁî®Êé•Êî∂Âô®Á∫øÁ®ãÂ∞ÜÊï∞ÊçÆÂ≠òÂÇ®Âú®SparkÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂Áî±Spark StreamingËøõË°åÂ§ÑÁêÜ„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫éÊé•Êî∂Âô®ÁöÑÂ≠òÂú®ÔºåÂèØËÉΩ‰ºöÂºïÂÖ•‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂª∂ËøüÔºåÂπ∂‰∏îÊó†Ê≥ïÊèê‰æõÁ´ØÂà∞Á´ØÁöÑ‰∏ÄÊ¨°ÊÄßËØ≠‰πâ„ÄÇ</p>
<p>Ê†πÊçÆÂÖ∑‰ΩìÁöÑÈúÄÊ±ÇÂíåÂ∫îÁî®Âú∫ÊôØÔºåÂèØ‰ª•ÈÄâÊã©ÈÄÇÂêàÁöÑÊñπÂºèÊù•Ê∂àË¥πKafkaÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÂØπÂª∂ËøüÂíå‰∏ÄÊ¨°ÊÄßËØ≠‰πâÊúâËæÉÈ´òÁöÑË¶ÅÊ±ÇÔºåÁõ¥Êé•ÊñπÂºèÊòØÊõ¥Â•ΩÁöÑÈÄâÊã©ÔºõÂ¶ÇÊûúÂØπÂª∂ËøüÂíå‰∏ÄÊ¨°ÊÄßËØ≠‰πâË¶ÅÊ±ÇËæÉ‰ΩéÔºåÊé•Êî∂Âô®ÊñπÂºèÂèØËÉΩÊõ¥ÁÆÄÂçïÊñπ‰æø„ÄÇ</p>
<h3 id="ËØ¥ËØ¥ÂØπspark-shuffleÁöÑÁêÜËß£">ËØ¥ËØ¥ÂØπSpark ShuffleÁöÑÁêÜËß£
</h3><p>Spark‰∏≠ÁöÑShuffleÊòØÊåáÂú®Êï∞ÊçÆÈáçÂàÜÂå∫ÔºàData RedistributionÔºâÁöÑËøáÁ®ã‰∏≠ÔºåÂ∞ÜÊï∞ÊçÆ‰ªé‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËæìÂÖ•ÂàÜÂå∫ÈáçÊñ∞ÂàÜÂ∏ÉÂà∞Êñ∞ÁöÑËæìÂá∫ÂàÜÂå∫ÁöÑÊìç‰Ωú„ÄÇShuffleÊòØSpark‰∏≠‰∏ÄÁßçÈùûÂ∏∏ÈáçË¶ÅÁöÑÊìç‰ΩúÔºåÂÆÉÂú®ËÆ∏Â§öËΩ¨Êç¢Êìç‰ΩúÔºàÂ¶ÇgroupByKey„ÄÅreduceByKeyÂíåjoinÁ≠âÔºâ‰∏≠ÈÉΩ‰ºöË¢´‰ΩøÁî®Âà∞„ÄÇ</p>
<p>ShuffleÁöÑÂéüÁêÜÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™‰∏ªË¶ÅÊ≠•È™§ÔºöMapÈò∂ÊÆµ„ÄÅShuffleÈò∂ÊÆµÂíåReduceÈò∂ÊÆµ„ÄÇ</p>
<p><strong>1. MapÈò∂ÊÆµ</strong> Ôºö</p>
<ul>
<li>Âú®MapÈò∂ÊÆµÔºåSparkÂ∞ÜËæìÂÖ•Êï∞ÊçÆÊåâÁÖßÊåáÂÆöÁöÑÈîÆÔºàkeyÔºâËøõË°åÂàÜÁªÑÔºåÂΩ¢ÊàêÂ§ö‰∏™Ôºàkey, valueÔºâÂØπ„ÄÇÊØè‰∏™Ôºàkey, valueÔºâÂØπË¢´Áß∞‰∏∫‰∏Ä‰∏™ËÆ∞ÂΩïÔºàrecordÔºâ„ÄÇ</li>
<li>ÊØè‰∏™ËÆ∞ÂΩïË¢´ÂàÜÈÖçÂà∞ÂØπÂ∫îÁöÑÂàÜÂå∫ÔºàPartitionÔºâÔºåÂàÜÂå∫ÁöÑÊï∞ÈáèÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÂèÇÊï∞ <code>spark.sql.shuffle.partitions</code>ËøõË°åËÆæÁΩÆÔºåÈªòËÆ§‰∏∫200‰∏™ÂàÜÂå∫„ÄÇÂàÜÂå∫ÁöÑÊï∞ÈáèÂÜ≥ÂÆö‰∫ÜÂπ∂Ë°åÂ∫¶Âíå‰ªªÂä°ÁöÑË¥üËΩΩÂùáË°°„ÄÇ</li>
</ul>
<p><strong>2. ShuffleÈò∂ÊÆµ</strong> Ôºö</p>
<ul>
<li>Âú®ShuffleÈò∂ÊÆµÔºåSpark‰ºöÂ∞ÜÊØè‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÊåâÁÖßÈîÆÔºàkeyÔºâËøõË°åÊéíÂ∫èÔºåÂπ∂Â∞ÜÁõ∏ÂêåÈîÆÁöÑËÆ∞ÂΩïËÅöÂêàÂú®‰∏ÄËµ∑ÔºåÂΩ¢ÊàêÂ§ö‰∏™Ôºàkey, list of valuesÔºâÂØπ„ÄÇËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ÊéíÂ∫èÂíåËÅöÂêàÔºàSort and AggregationÔºâ„ÄÇ</li>
<li>ÊéíÂ∫èÂíåËÅöÂêàÁöÑÁõÆÁöÑÊòØÂ∞ÜÁõ∏ÂêåÈîÆÁöÑËÆ∞ÂΩïÊîæÂú®Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠Ôºå‰ª•‰æøÂêéÁª≠ÁöÑReduceÈò∂ÊÆµÂèØ‰ª•Êõ¥È´òÊïàÂú∞ËøõË°åËÆ°ÁÆó„ÄÇ</li>
</ul>
<p><strong>3. ReduceÈò∂ÊÆµ</strong> Ôºö</p>
<ul>
<li>Âú®ReduceÈò∂ÊÆµÔºåSparkÂ∞ÜÊØè‰∏™Ôºàkey, list of valuesÔºâÂØπÂàÜÂèëÁªô‰∏çÂêåÁöÑExecutorËäÇÁÇπ‰∏äÁöÑReduce‰ªªÂä°ËøõË°åÂ§ÑÁêÜ„ÄÇ</li>
<li>Reduce‰ªªÂä°‰ºöÂØπÊØè‰∏™ÈîÆÔºàkeyÔºâÂØπÂ∫îÁöÑÂÄºÂàóË°®ËøõË°åËø≠‰ª£ÔºåÂπ∂ÂØπÂÄºËøõË°åÂêàÂπ∂„ÄÅËÆ°ÁÆóÊàñËÅöÂêàÁ≠âÊìç‰ΩúÔºåÁîüÊàêÊúÄÁªàÁöÑÁªìÊûú„ÄÇ</li>
</ul>
<p>ShuffleËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆ‰º†ËæìÊòØÈÄöËøáÁΩëÁªúËøõË°åÁöÑÔºåÂõ†Ê≠§ShuffleÁöÑÊÄßËÉΩÂØπSparkÁöÑÊÄßËÉΩÂΩ±ÂìçÂæàÂ§ß„ÄÇ‰∏∫‰∫ÜÊèêÈ´òShuffleÁöÑÊÄßËÉΩÔºåSparkÂºïÂÖ•‰∫ÜÂ§öÁßç‰ºòÂåñÊäÄÊúØÔºåÂåÖÊã¨Ôºö</p>
<ul>
<li>ÂéãÁº©ÔºöÂèØ‰ª•‰ΩøÁî®ÂéãÁº©ÁÆóÊ≥ïÂØπShuffleÊï∞ÊçÆËøõË°åÂéãÁº©ÔºåÂáèÂ∞ëÁΩëÁªú‰º†ËæìÁöÑÊï∞ÊçÆÈáè„ÄÇ</li>
<li>ËÅöÂêàÁºìÂÜ≤Âå∫ÔºàAggregation BufferÔºâÔºöÂú®ShuffleÈò∂ÊÆµÔºåÂèØ‰ª•‰ΩøÁî®ËÅöÂêàÁºìÂÜ≤Âå∫ÂØπÁõ∏ÂêåÈîÆÁöÑËÆ∞ÂΩïËøõË°åÁºìÂ≠òÔºåÂáèÂ∞ëÁΩëÁªú‰º†ËæìÂíåÁ£ÅÁõòËØªÂÜôÁöÑÊ¨°Êï∞„ÄÇ</li>
<li>Âü∫‰∫éSortÁöÑMergeÔºöÂú®ReduceÈò∂ÊÆµÔºåÂèØ‰ª•‰ΩøÁî®Âü∫‰∫éSortÁöÑMergeÁÆóÊ≥ïÂØπÂÖ∑ÊúâÁõ∏ÂêåÈîÆÁöÑËÆ∞ÂΩïËøõË°åÂêàÂπ∂ÔºåÂáèÂ∞ëËÆ°ÁÆóÁöÑÊ¨°Êï∞„ÄÇ</li>
</ul>
<p>ÈÄöËøáÂêàÁêÜÈÖçÁΩÆShuffleÁõ∏ÂÖ≥ÁöÑÂèÇÊï∞Ôºå‰ΩøÁî®ÈÄÇÂΩìÁöÑ‰ºòÂåñÊäÄÊúØÔºåÂèØ‰ª•ÊèêÈ´òShuffleÁöÑÊÄßËÉΩÔºå‰ªéËÄåÊèêÂçáSparkÂ∫îÁî®Á®ãÂ∫èÁöÑÊï¥‰ΩìÊÄßËÉΩÂíåÂèØÊâ©Â±ïÊÄß„ÄÇ</p>
<h3 id="ËØ¥ËØ¥sparkÁöÑ‰ºòÂåñ">ËØ¥ËØ¥SparkÁöÑ‰ºòÂåñ
</h3><p>SparkÊòØ‰∏Ä‰∏™Âü∫‰∫éÂÜÖÂ≠òÁöÑÂàÜÂ∏ÉÂºèËÆ°ÁÆóÊ°ÜÊû∂Ôºå‰∏∫‰∫ÜÊèêÈ´òËÆ°ÁÆóÊÄßËÉΩÂíåËµÑÊ∫êÂà©Áî®ÁéáÔºåÂÆÉÈááÁî®‰∫ÜÂ§öÁßç‰ºòÂåñÊäÄÊúØ„ÄÇ‰∏ãÈù¢ÊòØSparkÁöÑ‰∏Ä‰∫õ‰ºòÂåñÁ≠ñÁï•Ôºö</p>
<ol>
<li><strong>Âª∂ËøüÊâßË°åÔºàLazy EvaluationÔºâ</strong> ÔºöSparkÈááÁî®‰∫ÜÂª∂ËøüÊâßË°åÁöÑÁ≠ñÁï•Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÂÆÉÂú®ÈÅáÂà∞ËΩ¨Êç¢Êìç‰ΩúÊó∂‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åÔºåËÄåÊòØÂ∞ÜËøô‰∫õÊìç‰ΩúËÆ∞ÂΩï‰∏ãÊù•ÔºåÁõ¥Âà∞ÈÅáÂà∞Ë°åÂä®Êìç‰ΩúÊó∂ÊâçÊâßË°å„ÄÇËøôÊ†∑ÂèØ‰ª•Â∞ÜÂ§ö‰∏™ËΩ¨Êç¢Êìç‰ΩúÂêàÂπ∂‰∏∫‰∏Ä‰∏™‰ªªÂä°ÔºåÂáèÂ∞ëÊï∞ÊçÆÁöÑËØªÂÜôÂíå‰∏≠Èó¥ÁªìÊûúÁöÑÂ≠òÂÇ®„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂàÜÂå∫ÔºàData PartitioningÔºâ</strong> ÔºöSparkÂ∞ÜÊï∞ÊçÆÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÔºåÊØè‰∏™ÂàÜÂå∫ÂèØ‰ª•Âú®ÈõÜÁæ§‰∏≠ÁöÑ‰∏çÂêåËäÇÁÇπ‰∏äÂπ∂Ë°åÂ§ÑÁêÜ„ÄÇÈÄöËøáÂêàÁêÜÁöÑÊï∞ÊçÆÂàÜÂå∫Á≠ñÁï•ÔºåÂèØ‰ª•ÂáèÂ∞ëÊï∞ÊçÆÁöÑ‰º†ËæìÂíåÁΩëÁªúÂºÄÈîÄÔºåÊèêÈ´òËÆ°ÁÆóÊïàÁéá„ÄÇ</li>
<li><strong>ÂÜÖÂ≠òÁÆ°ÁêÜÔºàMemory ManagementÔºâ</strong> ÔºöSpark‰ΩøÁî®‰∫ÜÂÜÖÂ≠òÁÆ°ÁêÜÊäÄÊúØÊù•Âä†ÈÄüÊï∞ÊçÆÁöÑÂ§ÑÁêÜ„ÄÇÂÆÉÂ∞ÜÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂáèÂ∞ë‰∫ÜÁ£ÅÁõòIOÁöÑÂºÄÈîÄ„ÄÇÂêåÊó∂ÔºåSparkËøò‰ΩøÁî®‰∫ÜÂÜÖÂ≠òÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫èÂàóÂåñÁ≠âÊäÄÊúØÊù•ÊèêÈ´òÂÜÖÂ≠òÂà©Áî®ÁéáÂíåÊï∞ÊçÆ‰º†ËæìÊïàÁéá„ÄÇ</li>
<li><strong>‰ªªÂä°Ë∞ÉÂ∫¶ÔºàTask SchedulingÔºâ</strong> ÔºöSpark‰ΩøÁî®‰∫Ü‰ªªÂä°Ë∞ÉÂ∫¶Âô®Êù•Â∞Ü‰ªªÂä°ÂàÜÈÖçÁªôÈõÜÁæ§‰∏≠ÁöÑ‰∏çÂêåËäÇÁÇπËøõË°åÊâßË°å„ÄÇÂÆÉÂèØ‰ª•Ê†πÊçÆËäÇÁÇπÁöÑË¥üËΩΩÊÉÖÂÜµÂíåÊï∞ÊçÆ‰ΩçÁΩÆÁ≠âÂõ†Á¥†Êù•ÂÜ≥ÂÆö‰ªªÂä°ÁöÑË∞ÉÂ∫¶È°∫Â∫èÔºå‰ª•ÊèêÈ´òËµÑÊ∫êÂà©Áî®ÁéáÂíåÊï∞ÊçÆÊú¨Âú∞ÊÄß„ÄÇ</li>
<li><strong>Êï∞ÊçÆÊú¨Âú∞ÊÄß‰ºòÂåñÔºàData Locality OptimizationÔºâ</strong> ÔºöSpark‰ºöÂ∞ΩÈáèÂ∞Ü‰ªªÂä°Ë∞ÉÂ∫¶Âà∞‰∏éÊï∞ÊçÆÊâÄÂú®‰ΩçÁΩÆÁõ∏ËøëÁöÑËäÇÁÇπ‰∏äÊâßË°åÔºå‰ª•ÂáèÂ∞ëÊï∞ÊçÆÁöÑÁΩëÁªú‰º†Ëæì„ÄÇÂÆÉÂèØ‰ª•ÈÄöËøáÊï∞ÊçÆÂàíÂàÜÂíå‰ªªÂä°Ë∞ÉÂ∫¶Á≠ñÁï•Êù•ÂÆûÁé∞Êï∞ÊçÆÊú¨Âú∞ÊÄßÁöÑ‰ºòÂåñ„ÄÇ</li>
<li><strong>ÂπøÊí≠ÂèòÈáèÔºàBroadcast VariableÔºâ</strong> ÔºöÂΩìÈúÄË¶ÅÂú®ÈõÜÁæ§‰∏≠ÁöÑÊâÄÊúâËäÇÁÇπ‰∏äÂÖ±‰∫´‰∏Ä‰∏™ËæÉÂ∞èÁöÑÂè™ËØªÂèòÈáèÊó∂ÔºåSparkÂèØ‰ª•‰ΩøÁî®ÂπøÊí≠ÂèòÈáèÊù•ÂáèÂ∞ëÊï∞ÊçÆÁöÑ‰º†ËæìÂíåÂ§çÂà∂ÂºÄÈîÄ„ÄÇÂπøÊí≠ÂèòÈáè‰ºöÂ∞ÜÂèòÈáèÁöÑÂâØÊú¨ÁºìÂ≠òÂú®ÊØè‰∏™ËäÇÁÇπ‰∏äÔºå‰ª•‰æø‰ªªÂä°ÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÔºåËÄå‰∏çÈúÄË¶Å‰ªéÈ©±Âä®Á®ãÂ∫è‰º†Ëæì„ÄÇ</li>
<li><strong>ÈÉ®ÂàÜËÅöÂêàÔºàPartial AggregationÔºâ</strong> ÔºöÂú®ËøõË°åËÅöÂêàÊìç‰ΩúÊó∂ÔºåSparkÂèØ‰ª•Âú®ÊØè‰∏™ÂàÜÂå∫‰∏äËøõË°åÈÉ®ÂàÜËÅöÂêàÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÁªìÊûúÂêàÂπ∂Ëµ∑Êù•„ÄÇËøôÊ†∑ÂèØ‰ª•ÂáèÂ∞ëÊï∞ÊçÆÁöÑ‰º†ËæìÂíåËÅöÂêàÁöÑËÆ°ÁÆóÈáèÔºåÊèêÈ´òËÅöÂêàÊìç‰ΩúÁöÑÊÄßËÉΩ„ÄÇ</li>
<li><strong>Âä®ÊÄÅËµÑÊ∫êÂàÜÈÖçÔºàDynamic Resource AllocationÔºâ</strong> ÔºöSparkÂèØ‰ª•Ê†πÊçÆ‰ªªÂä°ÁöÑÈúÄÊ±ÇÂä®ÊÄÅÂàÜÈÖçÈõÜÁæ§ËµÑÊ∫ê„ÄÇÂÆÉÂèØ‰ª•Ê†πÊçÆ‰ªªÂä°ÁöÑÊâßË°åÊÉÖÂÜµÊù•Ë∞ÉÊï¥ËµÑÊ∫êÁöÑÂàÜÈÖçÔºå‰ª•ÊèêÈ´òËµÑÊ∫êÁöÑÂà©Áî®ÁéáÂíåÊï¥‰ΩìÊÄßËÉΩ„ÄÇ</li>
</ol>
<p>Ëøô‰∫õ‰ºòÂåñÁ≠ñÁï•‰ΩøÂæóSparkËÉΩÂ§üÈ´òÊïàÂú∞Â§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆÔºåÂπ∂Êèê‰æõÂø´ÈÄüÁöÑËÆ°ÁÆóÂíåÊü•ËØ¢ËÉΩÂäõ„ÄÇÂêåÊó∂ÔºåSparkËøòÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÈÖçÁΩÆÈÄâÈ°πÂíåË∞É‰ºòÂèÇÊï∞ÔºåÂèØ‰ª•Ê†πÊçÆÂ∫îÁî®ÁöÑÈúÄÊ±ÇËøõË°åÂÆöÂà∂ÂåñÁöÑ‰ºòÂåñ„ÄÇ</p>
<h3 id="ËØ¥ËØ¥sparkÂ∑•‰ΩúÊú∫Âà∂">ËØ¥ËØ¥SparkÂ∑•‰ΩúÊú∫Âà∂
</h3><p>SparkÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂàÜÂ∏ÉÂºèËÆ°ÁÆóÊ°ÜÊû∂ÔºåÂÆÉÊèê‰æõ‰∫ÜÈ´òÊïàÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂíåÂàÜÊûêËÉΩÂäõ„ÄÇSparkÁöÑÂ∑•‰ΩúÊú∫Âà∂ÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™ÂÖ≥ÈîÆÊ≠•È™§Ôºö</p>
<ol>
<li><strong>Â∫îÁî®Á®ãÂ∫èÂêØÂä®</strong> ÔºöÁî®Êà∑ÁºñÂÜôSparkÂ∫îÁî®Á®ãÂ∫èÔºåÂπ∂ÈÄöËøáSparkContextÂØπË±°‰∏éSparkÈõÜÁæ§ËøõË°åÈÄö‰ø°„ÄÇSparkContextË¥üË¥£‰∏éÈõÜÁæ§ÁÆ°ÁêÜÂô®ÈÄö‰ø°ÔºåËé∑ÂèñËµÑÊ∫êÂπ∂ÂàÜÈÖç‰ªªÂä°„ÄÇ</li>
<li><strong>‰ªªÂä°ÂàíÂàÜ</strong> ÔºöSparkÂ∞ÜÂ∫îÁî®Á®ãÂ∫èÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàó‰ªªÂä°ÔºåÊØè‰∏™‰ªªÂä°Â§ÑÁêÜÊï∞ÊçÆÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ‰ªªÂä°ÁöÑÂàíÂàÜÊòØÊ†πÊçÆÊï∞ÊçÆÂàÜÂå∫ÂíåÁî®Êà∑ÂÆö‰πâÁöÑËΩ¨Êç¢Êìç‰ΩúÊù•ÂÆåÊàêÁöÑ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂàÜÂå∫</strong> ÔºöSparkÂ∞ÜËæìÂÖ•Êï∞ÊçÆÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÔºåÊØè‰∏™ÂàÜÂå∫ÂåÖÂê´Êï∞ÊçÆÁöÑ‰∏Ä‰∏™Â≠êÈõÜ„ÄÇÂàÜÂå∫ÂèØ‰ª•ÊòØÊñá‰ª∂„ÄÅHDFSÂùóÊàñÂÖ∂‰ªñÊï∞ÊçÆÊ∫ê„ÄÇ</li>
<li><strong>‰ªªÂä°Ë∞ÉÂ∫¶</strong> ÔºöSparkÂ∞Ü‰ªªÂä°ÂàÜÂèëÂà∞ÈõÜÁæ§‰∏≠ÁöÑÊâßË°åÂô®ËäÇÁÇπ‰∏äÊâßË°å„ÄÇ‰ªªÂä°Ë∞ÉÂ∫¶Âô®Ë¥üË¥£Â∞Ü‰ªªÂä°ÂàÜÈÖçÁªôÂèØÁî®ÁöÑÊâßË°åÂô®ËäÇÁÇπÔºåÂπ∂ËÄÉËôëÊï∞ÊçÆÊú¨Âú∞ÊÄß‰ª•ÊèêÈ´òÊÄßËÉΩ„ÄÇ</li>
<li><strong>‰ªªÂä°ÊâßË°å</strong> ÔºöÊØè‰∏™ÊâßË°åÂô®ËäÇÁÇπÊé•Êî∂Âà∞‰ªªÂä°ÂêéÔºå‰ºöÂú®Êú¨Âú∞ÊâßË°åÁõ∏Â∫îÁöÑ‰ªªÂä°Êìç‰Ωú„ÄÇÊâßË°åÂô®‰ºöÂ∞ÜÊï∞ÊçÆÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂ÊâßË°åÁî®Êà∑ÂÆö‰πâÁöÑËΩ¨Êç¢ÂíåÊìç‰Ωú„ÄÇ</li>
<li><strong>Êï∞ÊçÆÊµÅÂä®</strong> ÔºöSparkÁöÑÊ†∏ÂøÉÊ¶ÇÂøµÊòØÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºàResilient Distributed DatasetÔºåÁÆÄÁß∞RDDÔºâ„ÄÇRDDÊòØ‰∏Ä‰∏™ÂèØÂπ∂Ë°åÊìç‰ΩúÁöÑÂØπË±°ÈõÜÂêàÔºåÂèØ‰ª•Âú®ÈõÜÁæ§‰∏≠ÁöÑÂ§ö‰∏™ËäÇÁÇπ‰∏äËøõË°åËΩ¨Êç¢ÂíåÊìç‰Ωú„ÄÇÊï∞ÊçÆÂú®RDD‰πãÈó¥ÊµÅÂä®ÔºåÂÖÅËÆ∏Âú®‰∏çÂêåÁöÑËΩ¨Êç¢Êìç‰Ωú‰πãÈó¥ËøõË°åÁºìÂ≠òÂíåÈáçÁî®„ÄÇ</li>
<li><strong>‰ªªÂä°ÂÆåÊàê‰∏éÁªìÊûúËøîÂõû</strong> Ôºö‰∏ÄÊó¶‰ªªÂä°ÊâßË°åÂÆåÊàêÔºåÊâßË°åÂô®Â∞ÜÁªìÊûúËøîÂõûÁªôÈ©±Âä®Á®ãÂ∫è„ÄÇÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•Â∞ÜÁªìÊûú‰øùÂ≠òÂà∞ÂÜÖÂ≠ò„ÄÅÁ£ÅÁõòÊàñÂÖ∂‰ªñÂ§ñÈÉ®Â≠òÂÇ®‰∏≠Ôºå‰πüÂèØ‰ª•Â∞ÜÁªìÊûúËøîÂõûÁªôÂ∫îÁî®Á®ãÂ∫è„ÄÇ</li>
<li><strong>ÂÆπÈîôÂíåÊÅ¢Â§ç</strong> ÔºöSparkÂÖ∑ÊúâÂÆπÈîôÊú∫Âà∂ÔºåÂèØ‰ª•Âú®ËäÇÁÇπÊïÖÈöúÊó∂Ëá™Âä®ÊÅ¢Â§ç„ÄÇÂ¶ÇÊûúÊüê‰∏™ËäÇÁÇπÂ§±Ë¥•ÔºåSparkÂèØ‰ª•ÈáçÊñ∞Ë∞ÉÂ∫¶‰ªªÂä°Âπ∂Âú®ÂÖ∂‰ªñËäÇÁÇπ‰∏äÊâßË°å„ÄÇ</li>
</ol>
<p>ÊÄªÁöÑÊù•ËØ¥ÔºåSparkÁöÑÂ∑•‰ΩúÊú∫Âà∂ÂåÖÊã¨‰ªªÂä°ÂàíÂàÜ„ÄÅ‰ªªÂä°Ë∞ÉÂ∫¶„ÄÅ‰ªªÂä°ÊâßË°åÂíåÊï∞ÊçÆÊµÅÂä®Á≠âËøáÁ®ã„ÄÇÈÄöËøáËøô‰∫õÊ≠•È™§ÔºåSparkËÉΩÂ§üÈ´òÊïàÂú∞Â§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆÔºåÂπ∂Êèê‰æõÂø´ÈÄüÁöÑÂàÜÂ∏ÉÂºèËÆ°ÁÆóËÉΩÂäõ„ÄÇ</p>
<h3 id="ËØ¥ËØ¥spark-jobÊâßË°åÊµÅÁ®ãsparkÁöÑÊâßË°åÊµÅÁ®ãÁÆÄË¶ÅÊèèËø∞sparkÂÜôÊï∞ÊçÆÁöÑÊµÅÁ®ã">ËØ¥ËØ¥Spark JobÊâßË°åÊµÅÁ®ãÔºüsparkÁöÑÊâßË°åÊµÅÁ®ãÔºüÁÆÄË¶ÅÊèèËø∞SparkÂÜôÊï∞ÊçÆÁöÑÊµÅÁ®ãÔºü
</h3><p>Spark JobÁöÑÊâßË°åÊµÅÁ®ãÂèØ‰ª•ÁÆÄË¶ÅÊèèËø∞‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>
<ol>
<li><strong>ÂàõÂª∫SparkContext</strong> ÔºöÂú®ÊâßË°åSparkÂ∫îÁî®Á®ãÂ∫è‰πãÂâçÔºåÈ¶ñÂÖàÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™SparkContextÂØπË±°„ÄÇSparkContextÊòØ‰∏éÈõÜÁæ§ÈÄö‰ø°ÁöÑÂÖ•Âè£ÁÇπÔºåÂÆÉË¥üË¥£‰∏éÈõÜÁæ§ÁÆ°ÁêÜÂô®ËøõË°åÈÄö‰ø°ÔºåÂàÜÈÖçËµÑÊ∫êÔºåÂπ∂Â∞Ü‰ªªÂä°ÂàÜÂèëÁªôÈõÜÁæ§‰∏≠ÁöÑÊâßË°åÂô®„ÄÇ</li>
<li><strong>ÂàõÂª∫RDD</strong> ÔºöÂú®Spark‰∏≠ÔºåÊï∞ÊçÆË¢´ÁªÑÁªáÊàêÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºàRDDÔºâ„ÄÇRDDÂèØ‰ª•‰ªéÂ§ñÈÉ®Â≠òÂÇ®Á≥ªÁªüÔºàÂ¶ÇHDFSÔºâ‰∏≠ËØªÂèñÊï∞ÊçÆÔºå‰πüÂèØ‰ª•ÈÄöËøáÂØπÂ∑≤ÊúâRDDËøõË°åËΩ¨Êç¢Êìç‰ΩúÊù•ÂàõÂª∫„ÄÇ</li>
<li><strong>ËΩ¨Êç¢Êìç‰Ωú</strong> ÔºöSparkÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑËΩ¨Êç¢Êìç‰ΩúÔºåÂ¶Çmap„ÄÅfilter„ÄÅreduceÁ≠â„ÄÇËøô‰∫õÊìç‰ΩúÂèØ‰ª•ÂØπRDDËøõË°åËΩ¨Êç¢ÔºåÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑRDD„ÄÇËΩ¨Êç¢Êìç‰ΩúÊòØÊÉ∞ÊÄßÊ±ÇÂÄºÁöÑÔºåÂç≥‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åÔºåËÄåÊòØÂú®ÈÅáÂà∞‰∏Ä‰∏™Ë°åÂä®Êìç‰ΩúÊó∂Êâç‰ºöËß¶ÂèëÊâßË°å„ÄÇ</li>
<li><strong>Ë°åÂä®Êìç‰Ωú</strong> ÔºöË°åÂä®Êìç‰ΩúÊòØÂØπRDDËøõË°åÂÆûÈôÖËÆ°ÁÆóÂπ∂ËøîÂõûÁªìÊûúÁöÑÊìç‰ΩúÔºå‰æãÂ¶Çcollect„ÄÅcount„ÄÅreduceÁ≠â„ÄÇÂΩìÊâßË°åË°åÂä®Êìç‰ΩúÊó∂ÔºåSparkÂ∞ÜÊ†πÊçÆ‰æùËµñÂÖ≥Á≥ªÂõæÔºàDAGÔºâÂ∞ÜËΩ¨Êç¢Êìç‰ΩúÂíåË°åÂä®Êìç‰ΩúÁªÑÁªáÊàê‰∏Ä‰∏™ÊúâÂêëÊó†ÁéØÂõæÔºàDAGÔºâÔºåÂπ∂Â∞ÜÂÖ∂ÂàíÂàÜ‰∏∫‰∏ÄÁ≥ªÂàóÁöÑÈò∂ÊÆµ„ÄÇ</li>
<li><strong>‰ªªÂä°Ë∞ÉÂ∫¶</strong> ÔºöSparkÂ∞ÜÊØè‰∏™Èò∂ÊÆµÂàíÂàÜ‰∏∫‰∏ÄÁªÑ‰ªªÂä°ÔºåÂπ∂Â∞ÜËøô‰∫õ‰ªªÂä°ÂàÜÂèëÁªôÈõÜÁæ§‰∏≠ÁöÑÊâßË°åÂô®ËøõË°åÊâßË°å„ÄÇ‰ªªÂä°Ë∞ÉÂ∫¶ÊòØÊ†πÊçÆÊï∞ÊçÆÁöÑÂàÜÂå∫ËøõË°åÁöÑÔºåÊØè‰∏™‰ªªÂä°Â§ÑÁêÜ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li><strong>‰ªªÂä°ÊâßË°å</strong> ÔºöÊØè‰∏™ÊâßË°åÂô®Êé•Êî∂Âà∞‰ªªÂä°ÂêéÔºå‰ºöÂú®ÂÖ∂ÂàÜÈÖçÁöÑËµÑÊ∫ê‰∏äÊâßË°å‰ªªÂä°„ÄÇÊâßË°åÂô®Â∞ÜÊï∞ÊçÆ‰ªéÂÜÖÂ≠òÊàñÁ£ÅÁõò‰∏≠ËØªÂèñÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂ÊâßË°åÁõ∏Â∫îÁöÑËΩ¨Êç¢ÂíåË°åÂä®Êìç‰Ωú„ÄÇÊâßË°åÁªìÊûúÂèØ‰ª•‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÊàñÂÜôÂÖ•Â§ñÈÉ®Â≠òÂÇ®Á≥ªÁªü„ÄÇ</li>
</ol>
<p>SparkÂÜôÊï∞ÊçÆÁöÑÊµÅÁ®ãÂèØ‰ª•ÁÆÄË¶ÅÊèèËø∞‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>
<ol>
<li><strong>ÂàõÂª∫DataFrameÊàñRDD</strong> ÔºöÈ¶ñÂÖàÔºåÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´Ë¶ÅÂÜôÂÖ•ÁöÑÊï∞ÊçÆÁöÑDataFrameÊàñRDDÂØπË±°„ÄÇDataFrameÊòØ‰∏ÄÁßçÁªìÊûÑÂåñÁöÑÊï∞ÊçÆÈõÜÔºåRDDÊòØÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜ„ÄÇ</li>
<li><strong>ÊåáÂÆöÂÜôÂÖ•ÈÄâÈ°π</strong> ÔºöÊ†πÊçÆË¶ÅÂÜôÂÖ•ÁöÑÊï∞ÊçÆÁöÑÊ†ºÂºèÂíåÁõÆÊ†áÂ≠òÂÇ®Á≥ªÁªüÔºåÂèØ‰ª•ÊåáÂÆöÁõ∏Â∫îÁöÑÂÜôÂÖ•ÈÄâÈ°πÔºåÂ¶ÇÊñá‰ª∂Ê†ºÂºè„ÄÅÊñá‰ª∂Ë∑ØÂæÑ„ÄÅÂàÜÂå∫ÊñπÂºèÁ≠â„ÄÇ</li>
<li><strong>ÊâßË°åÂÜôÂÖ•Êìç‰Ωú</strong> ÔºöË∞ÉÁî®DataFrameÊàñRDDÁöÑÂÜôÂÖ•ÊñπÊ≥ïÔºåÂ¶Ç <code>write</code>Êàñ <code>save</code>ÔºåÂπ∂‰º†ÂÖ•ÂÜôÂÖ•ÈÄâÈ°π„ÄÇSpark‰ºöÂ∞ÜÊï∞ÊçÆÊåâÁÖßÊåáÂÆöÁöÑÊ†ºÂºèÂíåÊñπÂºèÂÜôÂÖ•Âà∞ÁõÆÊ†áÂ≠òÂÇ®Á≥ªÁªü‰∏≠„ÄÇ</li>
<li><strong>Á≠âÂæÖÂÜôÂÖ•ÂÆåÊàê</strong> ÔºöÂÜôÂÖ•Êìç‰ΩúÊòØÂºÇÊ≠•ÁöÑÔºåSpark‰ºöÂú®ÂêéÂè∞ÊâßË°åÂÜôÂÖ•‰ªªÂä°„ÄÇÂèØ‰ª•‰ΩøÁî® <code>awaitTermination</code>Á≠âÊñπÊ≥ïÁ≠âÂæÖÂÜôÂÖ•‰ªªÂä°ÂÆåÊàê„ÄÇ</li>
</ol>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSparkÁöÑÂÜôÂÖ•Êìç‰ΩúÊòØÂπÇÁ≠âÁöÑÔºåÂç≥ÂèØ‰ª•Â§öÊ¨°ÊâßË°åÁõ∏ÂêåÁöÑÂÜôÂÖ•Êìç‰ΩúËÄå‰∏ç‰ºöÂØºËá¥Êï∞ÊçÆÈáçÂ§çÂÜôÂÖ•„ÄÇ</p>
<h3 id="ËØ¥ËØ¥sparkÁöÑËøêË°åÊ®°ÂºèÁÆÄÂçïÊèèËø∞wc">ËØ¥ËØ¥SparkÁöÑËøêË°åÊ®°ÂºèÔºåÁÆÄÂçïÊèèËø∞WC
</h3><p>SparkÊúâ‰∏§ÁßçËøêË°åÊ®°ÂºèÔºöÊú¨Âú∞Ê®°ÂºèÂíåÈõÜÁæ§Ê®°Âºè„ÄÇ</p>
<ol>
<li><strong>Êú¨Âú∞Ê®°ÂºèÔºàLocal ModeÔºâ</strong> ÔºöÂú®Êú¨Âú∞Ê®°Âºè‰∏ãÔºåSparkËøêË°åÂú®Âçï‰∏™ËÆ°ÁÆóÊú∫‰∏äÔºå‰ΩøÁî®Âçï‰∏™ËøõÁ®ãËøõË°å‰ªªÂä°ÁöÑÊâßË°å„ÄÇËøôÁßçÊ®°ÂºèÈÄÇÁî®‰∫éÂºÄÂèëÂíåÊµãËØïÈò∂ÊÆµÔºåÂèØ‰ª•Âø´ÈÄüÈ™åËØÅ‰ª£Á†ÅÁöÑÊ≠£Á°ÆÊÄß„ÄÇ</li>
<li><strong>ÈõÜÁæ§Ê®°ÂºèÔºàCluster ModeÔºâ</strong> ÔºöÂú®ÈõÜÁæ§Ê®°Âºè‰∏ãÔºåSparkÂ∞Ü‰ªªÂä°ÂàÜÂèëÁªôÂ§ö‰∏™ËÆ°ÁÆóËäÇÁÇπËøõË°åÂπ∂Ë°åÂ§ÑÁêÜ„ÄÇÈõÜÁæ§Ê®°ÂºèÈÄÇÁî®‰∫éÂ§ßËßÑÊ®°Êï∞ÊçÆÂ§ÑÁêÜÂíåÁîü‰∫ßÁéØÂ¢É„ÄÇÈõÜÁæ§Ê®°ÂºèÊúâ‰∏§ÁßçÈÉ®ÁΩ≤ÊñπÂºèÔºö</li>
</ol>
<ul>
<li>StandaloneÊ®°ÂºèÔºöÂú®StandaloneÊ®°Âºè‰∏ãÔºåSparkËá™Â∏¶‰∫Ü‰∏Ä‰∏™ÈõÜÁæ§ÁÆ°ÁêÜÂô®ÔºåÂèØ‰ª•ÈÄöËøáÂêØÂä®ÂíåÈÖçÁΩÆMasterÂíåWorkerËäÇÁÇπÊù•ÁÆ°ÁêÜÈõÜÁæ§ËµÑÊ∫êÂíå‰ªªÂä°Ë∞ÉÂ∫¶„ÄÇ</li>
<li>YARNÊ®°ÂºèÔºöYARNÊòØHadoopÁöÑËµÑÊ∫êÁÆ°ÁêÜÁ≥ªÁªüÔºåSparkÂèØ‰ª•ÈÄöËøáYARNÊù•ÁÆ°ÁêÜÈõÜÁæ§ËµÑÊ∫ê„ÄÇSpark‰Ωú‰∏∫YARNÁöÑ‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÊèê‰∫§Âà∞ÈõÜÁæ§‰∏≠ÔºåYARNË¥üË¥£ËµÑÊ∫êÁöÑÂàÜÈÖçÂíå‰ªªÂä°ÁöÑË∞ÉÂ∫¶„ÄÇ</li>
</ul>
<p>WCÔºàWordCountÔºâÊòØ‰∏Ä‰∏™ÁªèÂÖ∏ÁöÑÁ§∫‰æãÁ®ãÂ∫èÔºåÁî®‰∫éÁªüËÆ°ÊñáÊú¨‰∏≠ÊØè‰∏™ÂçïËØçÁöÑÂá∫Áé∞Ê¨°Êï∞„ÄÇÂú®Spark‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊ≠•È™§ÂÆûÁé∞WordCountÔºö</p>
<ol>
<li><strong>ÂàõÂª∫SparkContext</strong> ÔºöÈ¶ñÂÖàÔºåÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™SparkContextÂØπË±°Ôºå‰Ωú‰∏∫‰∏éSparkÈõÜÁæ§ÈÄö‰ø°ÁöÑÂÖ•Âè£ÁÇπ„ÄÇ</li>
<li><strong>Âä†ËΩΩÊñáÊú¨Êï∞ÊçÆ</strong> Ôºö‰ΩøÁî®SparkContextÁöÑ <code>textFile</code>ÊñπÊ≥ïÂä†ËΩΩÊñáÊú¨Êñá‰ª∂ÔºåÂπ∂Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫RDDÔºàÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºâ„ÄÇ</li>
<li><strong>Êï∞ÊçÆËΩ¨Êç¢</strong> ÔºöÂØπRDDËøõË°å‰∏ÄÁ≥ªÂàóËΩ¨Êç¢Êìç‰ΩúÔºå‰æãÂ¶Ç‰ΩøÁî® <code>flatMap</code>ÊñπÊ≥ïÂ∞ÜÊØèË°åÊñáÊú¨ÊãÜÂàÜ‰∏∫ÂçïËØçÔºå‰ΩøÁî® <code>map</code>ÊñπÊ≥ïÂ∞ÜÊØè‰∏™ÂçïËØçÊò†Â∞Ñ‰∏∫(key, value)ÂØπÔºåÂÖ∂‰∏≠keyÊòØÂçïËØçÔºåvalueÊòØ1„ÄÇ</li>
<li><strong>Êï∞ÊçÆËÅöÂêà</strong> Ôºö‰ΩøÁî® <code>reduceByKey</code>ÊñπÊ≥ïÂØπ(key, value)ÂØπËøõË°åËÅöÂêàÊìç‰ΩúÔºåÂ∞ÜÁõ∏ÂêåkeyÁöÑvalueÁõ∏Âä†„ÄÇ</li>
<li><strong>ÁªìÊûúËæìÂá∫</strong> Ôºö‰ΩøÁî® <code>collect</code>ÊñπÊ≥ïÂ∞ÜËÅöÂêàÁªìÊûúÊî∂ÈõÜÂà∞DriverÁ®ãÂ∫èÔºåÂπ∂ËæìÂá∫ÁªìÊûú„ÄÇ</li>
</ol>
<p>ËøôÂ∞±ÊòØSpark‰∏≠ÁÆÄÂçïÁöÑWordCountÁ§∫‰æãÁ®ãÂ∫è„ÄÇÈÄöËøáÂπ∂Ë°åÂ§ÑÁêÜÂíåÂàÜÂ∏ÉÂºèËÆ°ÁÆóÔºåSparkËÉΩÂ§üÈ´òÊïàÂú∞Â§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆÈõÜ„ÄÇ</p>
<h3 id="Â¶Ç‰ΩïÁêÜËß£standaloneÊ®°Âºè‰∏ãsparkËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑ">Â¶Ç‰ΩïÁêÜËß£StandaloneÊ®°Âºè‰∏ãÔºåSparkËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑÔºü
</h3><p>Âú®StandaloneÊ®°Âºè‰∏ãÔºåSparkÁöÑËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑÔºåËøôÊÑèÂë≥ÁùÄËµÑÊ∫êÁöÑÂàÜÈÖçÂçï‰ΩçÊòØÊï¥‰∏™Â∫îÁî®Á®ãÂ∫èÔºåËÄå‰∏çÊòØÊØè‰∏™‰ªªÂä°ÊàñÊØè‰∏™Êìç‰Ωú„ÄÇÂú®StandaloneÊ®°Âºè‰∏ãÔºåSparkÂ∫îÁî®Á®ãÂ∫èË¢´ÂàíÂàÜ‰∏∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™Áã¨Á´ãÁöÑÊâßË°åÂô®ÔºàExecutorsÔºâÔºåÊØè‰∏™ÊâßË°åÂô®ËøêË°åÂú®Áã¨Á´ãÁöÑJVMËøõÁ®ã‰∏≠ÔºåÂπ∂‰∏îÂèØ‰ª•ÂàÜÈÖç‰∏ÄÂÆöÊï∞ÈáèÁöÑCPUÊ†∏ÂøÉÂíåÂÜÖÂ≠òËµÑÊ∫ê„ÄÇ</p>
<p>ÂΩì‰∏Ä‰∏™SparkÂ∫îÁî®Á®ãÂ∫èÊèê‰∫§Âà∞StandaloneÈõÜÁæ§Êó∂ÔºåÁî®Êà∑ÈúÄË¶ÅÊåáÂÆöÂ∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÁöÑÊÄª‰ΩìËµÑÊ∫êÈúÄÊ±ÇÔºå‰æãÂ¶ÇCPUÊ†∏ÂøÉÊï∞ÂíåÂÜÖÂ≠òÂ§ßÂ∞è„ÄÇÁÑ∂ÂêéÔºåSparkÁöÑËµÑÊ∫êÁÆ°ÁêÜÂô®Â∞ÜÊ†πÊçÆËøô‰∫õÈúÄÊ±ÇÊù•ÂàÜÈÖçÊâßË°åÂô®ÔºåÂπ∂Â∞ÜÂ∫îÁî®Á®ãÂ∫èÁöÑ‰ªªÂä°ÂàÜÈÖçÁªôËøô‰∫õÊâßË°åÂô®„ÄÇÊØè‰∏™ÊâßË°åÂô®Ë¢´ÂàÜÈÖçÁöÑËµÑÊ∫êÊòØÂõ∫ÂÆöÁöÑÔºåÁõ¥Âà∞Â∫îÁî®Á®ãÂ∫èÂÆåÊàêÊàñÈáäÊîæËµÑÊ∫ê„ÄÇ</p>
<p>Áî±‰∫éËµÑÊ∫êÂàÜÈÖçÊòØ‰ª•Êï¥‰∏™Â∫îÁî®Á®ãÂ∫è‰∏∫Âçï‰ΩçËøõË°åÁöÑÔºåÂõ†Ê≠§Âú®StandaloneÊ®°Âºè‰∏ãÔºåÊó†Ê≥ïÊ†πÊçÆ‰ªªÂä°ÁöÑÂÆûÈôÖÈúÄÊ±ÇËøõË°åÁªÜÁ≤íÂ∫¶ÁöÑËµÑÊ∫êÂàÜÈÖç„ÄÇËøôÂèØËÉΩÂØºËá¥ËµÑÊ∫êÁöÑÊµ™Ë¥πÊàñ‰∏çË∂≥ÔºåÂΩ±ÂìçÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩ„ÄÇ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞Âà©Áî®ËµÑÊ∫êÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ÂÖ∂‰ªñËµÑÊ∫êÁÆ°ÁêÜÂô®ÔºåÂ¶ÇYARNÊàñMesosÔºåÂÆÉ‰ª¨ÊîØÊåÅÊõ¥ÁªÜÁ≤íÂ∫¶ÁöÑËµÑÊ∫êÂàÜÈÖçÂíåÂÖ±‰∫´ÔºåÂèØ‰ª•Ê†πÊçÆ‰ªªÂä°ÁöÑÈúÄÊ±ÇËøõË°åÂä®ÊÄÅÁöÑËµÑÊ∫êÂàÜÈÖç„ÄÇ</p>
<h3 id="spark‰∏≠standaloneÊ®°ÂºèÁâπÁÇπÊúâÂì™‰∫õ‰ºòÁÇπÂíåÁº∫ÁÇπ">Spark‰∏≠standaloneÊ®°ÂºèÁâπÁÇπÔºåÊúâÂì™‰∫õ‰ºòÁÇπÂíåÁº∫ÁÇπÔºü
</h3><p>Âú®SparkÁöÑstandaloneÊ®°Âºè‰∏≠Ôºå‰ª•‰∏ãÊòØÂÖ∂‰∏ªË¶ÅÁâπÁÇπ„ÄÅ‰ºòÁÇπÂíåÁº∫ÁÇπÔºö</p>
<p><strong>ÁâπÁÇπÔºö</strong></p>
<ol>
<li><strong>Áã¨Á´ãÊÄß</strong> ÔºöSpark standaloneÊ®°ÂºèÊòØSparkËá™Â∏¶ÁöÑËµÑÊ∫êÁÆ°ÁêÜÂô®ÔºåÂèØ‰ª•Áã¨Á´ã‰∫éÂÖ∂‰ªñËµÑÊ∫êÁÆ°ÁêÜÁ≥ªÁªüËøêË°åÔºåÂ¶ÇHadoop YARNÊàñMesos„ÄÇ</li>
<li><strong>ÁÆÄÂçïÊòìÁî®</strong> ÔºöÁõ∏ÂØπ‰∫éÂÖ∂‰ªñËµÑÊ∫êÁÆ°ÁêÜÁ≥ªÁªüÔºåSpark standaloneÊ®°ÂºèÈÖçÁΩÆÂíå‰ΩøÁî®Áõ∏ÂØπÁÆÄÂçïÔºåÈÄÇÂêàÂàùÂ≠¶ËÄÖÊàñÂ∞èËßÑÊ®°ÈõÜÁæ§„ÄÇ</li>
<li><strong>È´òÂèØÁî®ÊÄß</strong> ÔºöSpark standaloneÊ®°ÂºèÊîØÊåÅ‰∏ªÂ§áÊ®°ÂºèÔºåÂç≥ÂèØ‰ª•ÈÖçÁΩÆ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â§áÁî®ÁöÑ‰∏ªËäÇÁÇπÔºå‰ª•ÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÁî®ÊÄß„ÄÇ</li>
</ol>
<p><strong>‰ºòÁÇπÔºö</strong></p>
<ol>
<li><strong>ÊïàÁéáÈ´ò</strong> ÔºöSpark standaloneÊ®°ÂºèÁöÑËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑÔºå‰ª•Êï¥‰∏™Â∫îÁî®Á®ãÂ∫è‰∏∫Âçï‰ΩçËøõË°åÂàÜÈÖçÔºåÂáèÂ∞ë‰∫ÜËµÑÊ∫êÁÆ°ÁêÜÁöÑÂºÄÈîÄÔºåÊèêÈ´ò‰∫Ü‰ªªÂä°ÁöÑÊâßË°åÊïàÁéá„ÄÇ</li>
<li><strong>ÁÆÄÂåñÈÉ®ÁΩ≤</strong> Ôºö‰ΩøÁî®Spark standaloneÊ®°ÂºèÔºåÊó†ÈúÄ‰æùËµñÂÖ∂‰ªñËµÑÊ∫êÁÆ°ÁêÜÁ≥ªÁªüÔºåÂèØ‰ª•Âø´ÈÄüÈÉ®ÁΩ≤ÂíåËøêË°åSparkÂ∫îÁî®Á®ãÂ∫è„ÄÇ</li>
<li><strong>ÁÅµÊ¥ªÊÄß</strong> ÔºöSpark standaloneÊ®°ÂºèÊîØÊåÅÂä®ÊÄÅËµÑÊ∫êÂàÜÈÖçÔºåÂèØ‰ª•Ê†πÊçÆÂ∫îÁî®Á®ãÂ∫èÁöÑÈúÄÊ±ÇÂú®ËøêË°åÊó∂Ë∞ÉÊï¥ËµÑÊ∫êÁöÑÂàÜÈÖçÊÉÖÂÜµ„ÄÇ</li>
</ol>
<p><strong>Áº∫ÁÇπÔºö</strong></p>
<ol>
<li><strong>ËµÑÊ∫êÊµ™Ë¥π</strong> ÔºöÁî±‰∫éËµÑÊ∫êÂàÜÈÖçÊòØ‰ª•Êï¥‰∏™Â∫îÁî®Á®ãÂ∫è‰∏∫Âçï‰ΩçËøõË°åÁöÑÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÁöÑÊµ™Ë¥π„ÄÇÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫è‰∏≠Êüê‰∫õ‰ªªÂä°ÁöÑËµÑÊ∫êÈúÄÊ±ÇËæÉÂ∞èÔºå‰ΩÜË¢´ÂàÜÈÖç‰∫ÜËæÉÂ§öÁöÑËµÑÊ∫êÔºå‰ºöÂØºËá¥ËµÑÊ∫êÁöÑÊµ™Ë¥π„ÄÇ</li>
<li><strong>ËµÑÊ∫ê‰∏çË∂≥</strong> ÔºöÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÁöÑËµÑÊ∫êÈúÄÊ±ÇË∂ÖËøá‰∫ÜÈõÜÁæ§ÁöÑÂèØÁî®ËµÑÊ∫êÔºåÂèØËÉΩ‰ºöÂØºËá¥ËµÑÊ∫ê‰∏çË∂≥ÔºåÂΩ±Âìç‰ªªÂä°ÁöÑÊâßË°å„ÄÇ</li>
<li><strong>Áº∫‰πèÁªÜÁ≤íÂ∫¶Ë∞ÉÊï¥</strong> ÔºöÁî±‰∫éËµÑÊ∫êÂàÜÈÖçÊòØÁ≤óÁ≤íÂ∫¶ÁöÑÔºåÊó†Ê≥ïÂØπÊØè‰∏™‰ªªÂä°ËøõË°åÁªÜÁ≤íÂ∫¶ÁöÑËµÑÊ∫êË∞ÉÊï¥ÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÁöÑÂà©Áî®Áéá‰∏çÈ´ò„ÄÇ</li>
</ol>
<p>Áªº‰∏äÊâÄËø∞ÔºåSpark standaloneÊ®°ÂºèÂú®ÁÆÄÂçïÊòìÁî®ÂíåÈ´òÊïàÊÄßÊñπÈù¢ÂÖ∑Êúâ‰ºòÂäøÔºå‰ΩÜÂú®ËµÑÊ∫êÂà©Áî®ÂíåÁÅµÊ¥ªÊÄßÊñπÈù¢Â≠òÂú®‰∏Ä‰∫õÈôêÂà∂„ÄÇÈÄâÊã©‰ΩøÁî®ËØ•Ê®°ÂºèËøòÈúÄÊ†πÊçÆÂÖ∑‰ΩìÂ∫îÁî®Á®ãÂ∫èÁöÑÁâπÁÇπÂíåÈúÄÊ±ÇËøõË°åËÄÉËôë„ÄÇ</p>
<h3 id="ÁÆÄË¶ÅÊèèËø∞sparkÂàÜÂ∏ÉÂºèÈõÜÁæ§Êê≠Âª∫ÁöÑÊ≠•È™§">ÁÆÄË¶ÅÊèèËø∞SparkÂàÜÂ∏ÉÂºèÈõÜÁæ§Êê≠Âª∫ÁöÑÊ≠•È™§
</h3><p>Êê≠Âª∫SparkÂàÜÂ∏ÉÂºèÈõÜÁæ§ÁöÑÊ≠•È™§Â¶Ç‰∏ãÔºö</p>
<ol>
<li><strong>ÂáÜÂ§áÁéØÂ¢É</strong> ÔºöÁ°Æ‰øùÊØèÂè∞Êú∫Âô®‰∏äÈÉΩÂÆâË£Ö‰∫ÜJavaÂíåSparkÁöÑ‰æùËµñÂ∫ìÔºåÂπ∂‰∏îÁΩëÁªúËøûÊé•Ê≠£Â∏∏„ÄÇ</li>
<li><strong>ÈÖçÁΩÆ‰∏ªËäÇÁÇπ</strong> ÔºöÈÄâÊã©‰∏ÄÂè∞Êú∫Âô®‰Ωú‰∏∫‰∏ªËäÇÁÇπÔºåÁºñËæëSparkÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºàspark-defaults.confÂíåspark-env.shÔºâÔºåËÆæÁΩÆ‰∏ªËäÇÁÇπÁöÑIPÂú∞ÂùÄ„ÄÅÁ´ØÂè£Âè∑„ÄÅÂÜÖÂ≠òÂàÜÈÖçÁ≠âÂèÇÊï∞„ÄÇ</li>
<li><strong>ÈÖçÁΩÆÂ∑•‰ΩúËäÇÁÇπ</strong> ÔºöÁºñËæëSparkÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåËÆæÁΩÆÂ∑•‰ΩúËäÇÁÇπÁöÑIPÂú∞ÂùÄ„ÄÅÁ´ØÂè£Âè∑„ÄÅÂÜÖÂ≠òÂàÜÈÖçÁ≠âÂèÇÊï∞„ÄÇ</li>
<li><strong>ÈÖçÁΩÆÈõÜÁæ§ÁÆ°ÁêÜÂô®</strong> ÔºöÂ¶ÇÊûú‰ΩøÁî®ÈõÜÁæ§ÁÆ°ÁêÜÂô®ÔºàÂ¶ÇStandalone„ÄÅYARNÊàñMesosÔºâÔºåÈúÄË¶ÅÈÖçÁΩÆÁõ∏ÂÖ≥ÁöÑÂèÇÊï∞ÔºåÂ¶ÇÈõÜÁæ§ÁÆ°ÁêÜÂô®ÁöÑÂú∞ÂùÄ„ÄÅÁ´ØÂè£Âè∑Á≠â„ÄÇ</li>
<li><strong>ÂàÜÂèëSparkÂÆâË£ÖÂåÖ</strong> ÔºöÂ∞ÜSparkÂÆâË£ÖÂåÖÂàÜÂèëÂà∞ÊâÄÊúâÁöÑÊú∫Âô®‰∏äÔºåÁ°Æ‰øùÊØèÂè∞Êú∫Âô®‰∏äÈÉΩÂèØ‰ª•ËÆøÈóÆÂà∞SparkÁöÑÂÆâË£ÖÁõÆÂΩï„ÄÇ</li>
<li><strong>ÂêØÂä®ÈõÜÁæ§</strong> ÔºöÂú®‰∏ªËäÇÁÇπ‰∏äÊâßË°åÂêØÂä®ÂëΩ‰ª§ÔºåÂêØÂä®ÈõÜÁæ§ÁÆ°ÁêÜÂô®ÂíåÂ∑•‰ΩúËäÇÁÇπ„ÄÇÂÖ∑‰ΩìÂëΩ‰ª§ÂèØ‰ª•ÊòØ <code>./sbin/start-master.sh</code>ÂêØÂä®ÈõÜÁæ§ÁÆ°ÁêÜÂô®Ôºå<code>./sbin/start-worker.sh &lt;master-url&gt;</code>ÂêØÂä®Â∑•‰ΩúËäÇÁÇπ„ÄÇ</li>
<li><strong>È™åËØÅÈõÜÁæ§</strong> ÔºöÈÄöËøáËÆøÈóÆSparkÁöÑWebÁïåÈù¢ÔºàÈÄöÂ∏∏ÊòØ <code>http://&lt;master-ip&gt;:8080</code>ÔºâÊù•È™åËØÅÈõÜÁæ§ÊòØÂê¶Ê≠£Â∏∏ËøêË°å„ÄÇÂú®WebÁïåÈù¢‰∏äÂèØ‰ª•Êü•ÁúãÈõÜÁæ§ÁöÑÁä∂ÊÄÅ„ÄÅ‰ªªÂä°ÁöÑÊâßË°åÊÉÖÂÜµÁ≠â‰ø°ÊÅØ„ÄÇ</li>
<li><strong>Êèê‰∫§‰ªªÂä°</strong> Ôºö‰ΩøÁî®SparkÊèê‰æõÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÊàñÁºñÂÜôSparkÂ∫îÁî®Á®ãÂ∫èÔºåÂ∞Ü‰ªªÂä°Êèê‰∫§Âà∞ÈõÜÁæ§‰∏≠ÊâßË°å„ÄÇÂÖ∑‰ΩìÂëΩ‰ª§ÂèØ‰ª•ÊòØ <code>./bin/spark-submit --class &lt;main-class&gt; --master &lt;master-url&gt; &lt;application-jar&gt;</code>„ÄÇ</li>
</ol>
<p>‰ª•‰∏äÊòØSparkÂàÜÂ∏ÉÂºèÈõÜÁæ§Êê≠Âª∫ÁöÑ‰∏ÄËà¨Ê≠•È™§ÔºåÂÖ∑‰ΩìÁöÑÊ≠•È™§ÂíåÂëΩ‰ª§ÂèØËÉΩ‰ºöÂõ†‰∏∫‰ΩøÁî®ÁöÑÈõÜÁæ§ÁÆ°ÁêÜÂô®ÂíåÁéØÂ¢ÉÁöÑ‰∏çÂêåËÄåÊúâÊâÄÂ∑ÆÂºÇ„ÄÇÂú®ÂÆûÈôÖÊê≠Âª∫ËøáÁ®ã‰∏≠ÔºåËøòÈúÄË¶ÅÊ†πÊçÆÂÖ∑‰ΩìÁöÑÈúÄÊ±ÇÂíåÁéØÂ¢ÉËøõË°åÁõ∏Â∫îÁöÑÈÖçÁΩÆÂíåË∞ÉÊï¥„ÄÇ</p>
<h3 id="spark-streaming‰∏≠Â¶Ç‰ΩïÂÆûÁé∞Á≤æÂáÜ‰∏ÄÊ¨°Ê∂àË¥π">Spark Streaming‰∏≠Â¶Ç‰ΩïÂÆûÁé∞Á≤æÂáÜ‰∏ÄÊ¨°Ê∂àË¥π
</h3><p>Âú®Spark Streaming‰∏≠ÔºåÂÆûÁé∞Á≤æÁ°Æ‰∏ÄÊ¨°Ê∂àË¥πÔºàexactly-once semanticsÔºâÊòØÈÄöËøá‰ª•‰∏ãÊ≠•È™§Êù•ÂÆûÁé∞ÁöÑÔºö</p>
<ol>
<li><strong>‰ΩøÁî®Kafka‰Ωú‰∏∫Êï∞ÊçÆÊ∫ê</strong> ÔºöÈ¶ñÂÖàÔºåÂ∞ÜKafka‰Ωú‰∏∫Spark StreamingÁöÑÊï∞ÊçÆÊ∫ê„ÄÇKafkaÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÊµÅÂ§ÑÁêÜÂπ≥Âè∞ÔºåÂÖ∑ÊúâÈ´òÂêûÂêêÈáèÂíåÂÆπÈîôÊÄß„ÄÇ</li>
<li><strong>‰ΩøÁî®KafkaÁöÑDirectÊñπÂºèÊ∂àË¥πÊï∞ÊçÆ</strong> ÔºöSpark StreamingÊèê‰æõ‰∫Ü‰∏§ÁßçÊñπÂºèÊù•Ê∂àË¥πKafkaÊï∞ÊçÆÔºåÂç≥DirectÊñπÂºèÂíåReceiverÊñπÂºè„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞Á≤æÁ°Æ‰∏ÄÊ¨°Ê∂àË¥πÔºåÊàë‰ª¨‰ΩøÁî®DirectÊñπÂºè„ÄÇDirectÊñπÂºèÈÄöËøáÁõ¥Êé•‰ªéKafkaÂàÜÂå∫‰∏≠ËØªÂèñÊï∞ÊçÆÊù•Ê∂àË¥πÔºåËÄå‰∏çÊòØÈÄöËøáKafka Receiver„ÄÇ</li>
<li><strong>Â∞ÜÂÅèÁßªÈáè‰øùÂ≠òÂà∞ZooKeeperÊàñKafka</strong> ÔºöÂú®DirectÊñπÂºè‰∏≠ÔºåSpark Streaming‰ºöÂë®ÊúüÊÄßÂú∞Â∞ÜÊ∂àË¥πÁöÑÂÅèÁßªÈáèÔºàoffsetÔºâ‰øùÂ≠òÂà∞Â§ñÈÉ®Â≠òÂÇ®Á≥ªÁªüÔºåÊØîÂ¶ÇZooKeeperÊàñKafkaÁöÑÁâπÊÆä‰∏ªÈ¢ò„ÄÇËøôÊ†∑ÔºåÂú®ÂèëÁîüÊïÖÈöúÊàñÈáçÂêØÊó∂ÔºåSpark StreamingÂèØ‰ª•‰ªé‰∏ä‰∏ÄÊ¨°‰øùÂ≠òÁöÑÂÅèÁßªÈáèÁªßÁª≠Ê∂àË¥πÊï∞ÊçÆÔºå‰ªéËÄåÂÆûÁé∞Á≤æÁ°Æ‰∏ÄÊ¨°Ê∂àË¥π„ÄÇ</li>
<li><strong>ÂÆöÊúüÊèê‰∫§ÂÅèÁßªÈáè</strong> ÔºöSpark Streaming‰ºöÂÆöÊúüÊèê‰∫§Â∑≤ÁªèÂ§ÑÁêÜÁöÑÂÅèÁßªÈáèÔºå‰ª•Á°Æ‰øùÂç≥‰ΩøÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠ÂèëÁîüÊïÖÈöúÔºå‰πü‰∏ç‰ºöÈáçÂ§çÂ§ÑÁêÜÂ∑≤ÁªèÂ§ÑÁêÜËøáÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li><strong>ÂÆπÈîôÊú∫Âà∂</strong> ÔºöSpark StreamingÂÖ∑ÊúâÂÆπÈîôÊú∫Âà∂ÔºåÂç≥‰ΩøÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠ÂèëÁîüÊïÖÈöúÔºå‰πüÂèØ‰ª•ÊÅ¢Â§çÂπ∂ÁªßÁª≠Â§ÑÁêÜÊï∞ÊçÆ„ÄÇÂΩìÂèëÁîüÊïÖÈöúÊó∂ÔºåSpark Streaming‰ºö‰ΩøÁî®‰øùÂ≠òÁöÑÂÅèÁßªÈáèÊù•ÈáçÊñ∞ÂêØÂä®ÔºåÂπ∂‰ªé‰∏ä‰∏ÄÊ¨°‰øùÂ≠òÁöÑÂÅèÁßªÈáèÂ§ÑÁªßÁª≠Ê∂àË¥πÊï∞ÊçÆÔºåÁ°Æ‰øùÊï∞ÊçÆ‰∏ç‰ºö‰∏¢Â§±ÊàñÈáçÂ§çÂ§ÑÁêÜ„ÄÇ</li>
</ol>
<p>ÈÄöËøá‰ª•‰∏äÊ≠•È™§ÔºåSpark StreamingËÉΩÂ§üÂÆûÁé∞Á≤æÁ°Æ‰∏ÄÊ¨°Ê∂àË¥πÔºåÁ°Æ‰øùÊØèÊù°Êï∞ÊçÆÂè™Ë¢´Â§ÑÁêÜ‰∏ÄÊ¨°Ôºå‰ªéËÄå‰øùËØÅÊï∞ÊçÆÂ§ÑÁêÜÁöÑÂáÜÁ°ÆÊÄßÂíå‰∏ÄËá¥ÊÄß„ÄÇ</p>
<h3 id="spark‰∏≠master-ÂÆûÁé∞haÊúâÂì™‰∫õÊñπÂºè">Spark‰∏≠Master ÂÆûÁé∞HAÊúâÂì™‰∫õÊñπÂºè
</h3><p>Âú®Spark‰∏≠ÔºåÂÆûÁé∞MasterÁöÑÈ´òÂèØÁî®ÊÄßÔºàHAÔºâÂèØ‰ª•ÈááÁî®‰ª•‰∏ãÂá†ÁßçÊñπÂºèÔºö</p>
<ol>
<li><strong>StandaloneÊ®°Âºè‰∏ãÁöÑHA</strong> ÔºöÂú®SparkÁöÑStandaloneÊ®°Âºè‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÂêØÂä®Â§ö‰∏™MasterËäÇÁÇπÊù•ÂÆûÁé∞HA„ÄÇËøô‰∫õMasterËäÇÁÇπÂ∞ÜÁªÑÊàê‰∏Ä‰∏™È´òÂèØÁî®ÊÄßÁöÑÈõÜÁæ§ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ËäÇÁÇπÂ∞ÜË¢´ÈÄâ‰∏æ‰∏∫Ê¥ªÂä®MasterÔºåËÄåÂÖ∂‰ªñËäÇÁÇπÂàôÂ§Ñ‰∫éÂ§áÁî®Áä∂ÊÄÅ„ÄÇÂΩìÊ¥ªÂä®MasterËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåÂ§áÁî®ËäÇÁÇπÂ∞ÜËá™Âä®Êé•ÁÆ°Âπ∂Êàê‰∏∫Êñ∞ÁöÑÊ¥ªÂä®MasterËäÇÁÇπ„ÄÇ</li>
<li><strong>YARNÊ®°Âºè‰∏ãÁöÑHA</strong> ÔºöÂú®SparkÁöÑYARNÊ®°Âºè‰∏≠ÔºåÂèØ‰ª•Âà©Áî®YARNÁöÑHAÊú∫Âà∂Êù•ÂÆûÁé∞MasterÁöÑÈ´òÂèØÁî®ÊÄß„ÄÇYARNÊèê‰æõ‰∫ÜResourceManagerÁöÑHAÈÖçÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®ZooKeeperÊù•ËøõË°åÊïÖÈöúÊ£ÄÊµãÂíåËá™Âä®ÊïÖÈöúËΩ¨Áßª„ÄÇÂΩìÊ¥ªÂä®ÁöÑResourceManagerËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåZooKeeperÂ∞ÜËá™Âä®ÈÄâ‰∏æ‰∏Ä‰∏™Â§áÁî®ËäÇÁÇπ‰Ωú‰∏∫Êñ∞ÁöÑÊ¥ªÂä®ËäÇÁÇπ„ÄÇ</li>
<li><strong>MesosÊ®°Âºè‰∏ãÁöÑHA</strong> ÔºöÂú®SparkÁöÑMesosÊ®°Âºè‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÂêØÂä®Â§ö‰∏™Mesos MasterËäÇÁÇπÊù•ÂÆûÁé∞HA„ÄÇËøô‰∫õMasterËäÇÁÇπÂ∞ÜÁªÑÊàê‰∏Ä‰∏™È´òÂèØÁî®ÊÄßÁöÑÈõÜÁæ§ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ËäÇÁÇπÂ∞ÜË¢´ÈÄâ‰∏æ‰∏∫Ê¥ªÂä®MasterÔºåËÄåÂÖ∂‰ªñËäÇÁÇπÂàôÂ§Ñ‰∫éÂ§áÁî®Áä∂ÊÄÅ„ÄÇÂΩìÊ¥ªÂä®MasterËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåÂ§áÁî®ËäÇÁÇπÂ∞ÜËá™Âä®Êé•ÁÆ°Âπ∂Êàê‰∏∫Êñ∞ÁöÑÊ¥ªÂä®MasterËäÇÁÇπ„ÄÇ</li>
</ol>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊó†ËÆ∫ÊòØÂì™ÁßçÊ®°Âºè‰∏ãÁöÑHAÔºåÈÉΩÈúÄË¶Å‰ΩøÁî®Â§ñÈÉ®ÁªÑ‰ª∂ÔºàÂ¶ÇZooKeeperÔºâÊù•ËøõË°åÊïÖÈöúÊ£ÄÊµãÂíåËá™Âä®ÊïÖÈöúËΩ¨Áßª„ÄÇËøô‰∫õÁªÑ‰ª∂Ë¥üË¥£ÁõëÊéßMasterËäÇÁÇπÁöÑÁä∂ÊÄÅÔºåÂπ∂Âú®ÈúÄË¶ÅÊó∂ËøõË°åÊïÖÈöúËΩ¨Áßª„ÄÇÂêåÊó∂ÔºåËøòÈúÄË¶ÅÈÖçÁΩÆSparkÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞Ôºå‰ª•‰æøSparkËÉΩÂ§ü‰∏éËøô‰∫õÂ§ñÈÉ®ÁªÑ‰ª∂ËøõË°åÈÄö‰ø°ÂíåÂçèË∞É„ÄÇ</p>
<p>ÊÄªÁªìËµ∑Êù•ÔºåSpark‰∏≠ÂÆûÁé∞MasterÁöÑHAÂèØ‰ª•ÈÄöËøáÂú®Standalone„ÄÅYARNÊàñMesosÊ®°Âºè‰∏ãÈÖçÁΩÆÂ§ö‰∏™MasterËäÇÁÇπÔºåÂπ∂ÁªìÂêàÂ§ñÈÉ®ÁªÑ‰ª∂ÔºàÂ¶ÇZooKeeperÔºâËøõË°åÊïÖÈöúÊ£ÄÊµãÂíåËá™Âä®ÊïÖÈöúËΩ¨ÁßªÊù•ÂÆûÁé∞„ÄÇ</p>
<h3 id="spark-master‰ΩøÁî®zookeeperËøõË°åhaÊúâÂì™‰∫õÂÖÉÊï∞ÊçÆ‰øùÂ≠òÂú®zookeeper">Spark master‰ΩøÁî®zookeeperËøõË°åHAÔºåÊúâÂì™‰∫õÂÖÉÊï∞ÊçÆ‰øùÂ≠òÂú®Zookeeper?
</h3><p>Âú®Spark‰∏≠Ôºå‰ΩøÁî®ZooKeeperËøõË°åMasterÁöÑÈ´òÂèØÁî®ÊÄßÔºàHAÔºâÊó∂Ôºå‰ª•‰∏ãÂÖÉÊï∞ÊçÆÂ∞Ü‰øùÂ≠òÂú®ZooKeeper‰∏≠Ôºö</p>
<ol>
<li><strong>MasterÁöÑ‰∏ªËäÇÁÇπÈÄâ‰∏æ‰ø°ÊÅØ</strong> ÔºöZooKeeperÁî®‰∫éÂçèË∞ÉÂ§ö‰∏™MasterËäÇÁÇπ‰πãÈó¥ÁöÑ‰∏ªËäÇÁÇπÈÄâ‰∏æËøáÁ®ã„ÄÇÊØè‰∏™MasterËäÇÁÇπÈÉΩ‰ºöÂú®ZooKeeper‰∏äÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºåÁß∞‰∏∫&quot;master_election&quot;„ÄÇÂΩì‰∏Ä‰∏™MasterËäÇÁÇπÂêØÂä®Êó∂ÔºåÂÆÉ‰ºöÂ∞ùËØïÂàõÂª∫Ëøô‰∏™ËäÇÁÇπ„ÄÇÂ¶ÇÊûúÂàõÂª∫ÊàêÂäüÔºåÂÆÉÂ∞ÜÊàê‰∏∫‰∏ªËäÇÁÇπÔºåÂπ∂‰∏îÂÖ∂‰ªñMasterËäÇÁÇπÂ∞ÜÊàê‰∏∫Â§áÁî®ËäÇÁÇπ„ÄÇÂ¶ÇÊûúÂàõÂª∫Â§±Ë¥•ÔºåÂÆÉÂ∞ÜÁõëÂê¨Ââç‰∏Ä‰∏™ËäÇÁÇπÁöÑÂà†Èô§‰∫ã‰ª∂Ôºå‰∏ÄÊó¶Ââç‰∏Ä‰∏™ËäÇÁÇπË¢´Âà†Èô§ÔºåÂÆÉÂ∞ÜÂ∞ùËØïÂÜçÊ¨°ÂàõÂª∫ËäÇÁÇπÂπ∂Êàê‰∏∫‰∏ªËäÇÁÇπ„ÄÇ</li>
<li><strong>MasterÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ</strong> ÔºöÊØè‰∏™MasterËäÇÁÇπÈÉΩ‰ºöÂú®ZooKeeper‰∏äÂàõÂª∫‰∏Ä‰∏™ÊåÅ‰πÖËäÇÁÇπÔºåÁß∞‰∏∫&quot;master&quot;„ÄÇËøô‰∏™ËäÇÁÇπ‰∏≠‰øùÂ≠ò‰∫ÜMasterËäÇÁÇπÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåÂåÖÊã¨MasterËäÇÁÇπÁöÑ‰∏ªÊú∫Âêç„ÄÅÁ´ØÂè£Âè∑„ÄÅWeb UIÂú∞ÂùÄÁ≠â„ÄÇÂÖ∂‰ªñSparkÁªÑ‰ª∂ÔºàÂ¶ÇWorkerËäÇÁÇπÂíåDriverÁ®ãÂ∫èÔºâÂèØ‰ª•ÈÄöËøáÊü•ËØ¢Ëøô‰∏™ËäÇÁÇπËé∑ÂèñMasterËäÇÁÇπÁöÑ‰ø°ÊÅØÔºå‰ª•‰æø‰∏éMasterËäÇÁÇπËøõË°åÈÄö‰ø°„ÄÇ</li>
<li><strong>WorkerËäÇÁÇπÁöÑÊ≥®ÂÜå‰ø°ÊÅØ</strong> ÔºöÊØè‰∏™WorkerËäÇÁÇπÈÉΩ‰ºöÂú®ZooKeeper‰∏äÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºåÁß∞‰∏∫&quot;workers&quot;„ÄÇËøô‰∏™ËäÇÁÇπ‰∏≠‰øùÂ≠ò‰∫ÜWorkerËäÇÁÇπÁöÑÊ≥®ÂÜå‰ø°ÊÅØÔºåÂåÖÊã¨WorkerËäÇÁÇπÁöÑ‰∏ªÊú∫Âêç„ÄÅÁ´ØÂè£Âè∑„ÄÅÁä∂ÊÄÅÁ≠â„ÄÇMasterËäÇÁÇπÂèØ‰ª•ÈÄöËøáÁõëÂê¨Ëøô‰∏™ËäÇÁÇπÁöÑÂèòÂåñÊù•ÂÆûÊó∂Ëé∑ÂèñWorkerËäÇÁÇπÁöÑÊ≥®ÂÜåÂíåÊ≥®ÈîÄ‰ø°ÊÅØÔºåÂπ∂ËøõË°åËµÑÊ∫êË∞ÉÂ∫¶Âíå‰ªªÂä°ÂàÜÈÖç„ÄÇ</li>
<li><strong>ApplicationÁöÑÊ≥®ÂÜå‰ø°ÊÅØ</strong> ÔºöÊØè‰∏™ËøêË°åÁöÑSparkÂ∫îÁî®Á®ãÂ∫èÈÉΩ‰ºöÂú®ZooKeeper‰∏äÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºåÁß∞‰∏∫&quot;applications&quot;„ÄÇËøô‰∏™ËäÇÁÇπ‰∏≠‰øùÂ≠ò‰∫ÜÂ∫îÁî®Á®ãÂ∫èÁöÑÊ≥®ÂÜå‰ø°ÊÅØÔºåÂåÖÊã¨Â∫îÁî®Á®ãÂ∫èÁöÑID„ÄÅÈ©±Âä®Á®ãÂ∫èÁöÑ‰∏ªÊú∫Âêç„ÄÅÁ´ØÂè£Âè∑Á≠â„ÄÇMasterËäÇÁÇπÂèØ‰ª•ÈÄöËøáÁõëÂê¨Ëøô‰∏™ËäÇÁÇπÁöÑÂèòÂåñÊù•ÂÆûÊó∂Ëé∑ÂèñÂ∫îÁî®Á®ãÂ∫èÁöÑÊ≥®ÂÜåÂíåÊ≥®ÈîÄ‰ø°ÊÅØÔºåÂπ∂ËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶ÂíåËµÑÊ∫êÁÆ°ÁêÜ„ÄÇ</li>
</ol>
<p>ÈÄöËøáÂ∞ÜËøô‰∫õÂÖÉÊï∞ÊçÆ‰øùÂ≠òÂú®ZooKeeper‰∏≠ÔºåSparkÁöÑMasterËäÇÁÇπÂèØ‰ª•ÂÆûÁé∞È´òÂèØÁî®ÊÄßÂíåÊïÖÈöúËΩ¨Áßª„ÄÇÂΩì‰∏Ä‰∏™MasterËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåÂÖ∂‰ªñÂ§áÁî®ËäÇÁÇπÂèØ‰ª•ÈÄöËøáÁõëÂê¨ZooKeeper‰∏äÁöÑËäÇÁÇπÂèòÂåñÊù•ÊÑüÁü•Âà∞ÊïÖÈöúÔºåÂπ∂Ëá™Âä®ÈÄâ‰∏æÊñ∞ÁöÑ‰∏ªËäÇÁÇπ„ÄÇÂêåÊó∂ÔºåÂÖ∂‰ªñSparkÁªÑ‰ª∂‰πüÂèØ‰ª•ÈÄöËøáÊü•ËØ¢ZooKeeper‰∏äÁöÑËäÇÁÇπÊù•Ëé∑ÂèñMasterËäÇÁÇπÂíåWorkerËäÇÁÇπÁöÑ‰ø°ÊÅØÔºå‰ªéËÄåÂÆûÁé∞‰∏éÂÆÉ‰ª¨ÁöÑÈÄö‰ø°ÂíåÂçèË∞É„ÄÇ</p>
<h3 id="spark-master-ha-‰∏ª‰ªéÂàáÊç¢ËøáÁ®ã‰∏ç‰ºöÂΩ±ÂìçÈõÜÁæ§Â∑≤ÊúâÁöÑ‰Ωú‰∏öËøêË°å‰∏∫‰ªÄ‰πà">Spark master HA ‰∏ª‰ªéÂàáÊç¢ËøáÁ®ã‰∏ç‰ºöÂΩ±ÂìçÈõÜÁæ§Â∑≤ÊúâÁöÑ‰Ωú‰∏öËøêË°åÔºå‰∏∫‰ªÄ‰πàÔºü
</h3><p>SparkÁöÑMasterËäÇÁÇπÈ´òÂèØÁî®ÊÄßÔºàHAÔºâÂàáÊç¢ËøáÁ®ã‰∏ç‰ºöÂΩ±ÂìçÈõÜÁæ§‰∏≠Â∑≤ÊúâÁöÑ‰Ωú‰∏öËøêË°åÔºåËøôÊòØÂõ†‰∏∫SparkÁöÑMasterËäÇÁÇπÂè™Ë¥üË¥£‰Ωú‰∏öÁöÑË∞ÉÂ∫¶ÂíåËµÑÊ∫êÁÆ°ÁêÜÔºåÂπ∂‰∏çÁõ¥Êé•ÂèÇ‰∏é‰Ωú‰∏öÁöÑÊâßË°åËøáÁ®ã„ÄÇ‰∏ãÈù¢ÊòØËØ¶ÁªÜÁöÑËØ¥ÊòéÔºö</p>
<ol>
<li><strong>MasterËäÇÁÇπÁöÑÊïÖÈöúËΩ¨Áßª</strong> ÔºöÂΩìÂΩìÂâçÁöÑMasterËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåÈÄöËøá‰ΩøÁî®ZooKeeperÁ≠âÂ§ñÈÉ®ÁöÑÂçèË∞ÉÊúçÂä°Êù•ÂÆûÁé∞MasterËäÇÁÇπÁöÑÊïÖÈöúËΩ¨Áßª„ÄÇZooKeeper‰ºöÁõëËßÜMasterËäÇÁÇπÁöÑÁä∂ÊÄÅÔºåÂπ∂Âú®MasterËäÇÁÇπÊïÖÈöúÊó∂Ëá™Âä®ÈÄâ‰∏æÂá∫Êñ∞ÁöÑMasterËäÇÁÇπ„ÄÇÂú®ÈÄâ‰∏æËøáÁ®ã‰∏≠ÔºåÂ∑≤ÊúâÁöÑ‰Ωú‰∏ö‰∏ç‰ºöÂèóÂà∞ÂΩ±ÂìçÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Â∑≤ÁªèÂú®WorkerËäÇÁÇπ‰∏äËøêË°åÔºåÂπ∂Áî±WorkerËäÇÁÇπËá™‰∏ªÂú∞ÁÆ°ÁêÜ„ÄÇ</li>
<li><strong>WorkerËäÇÁÇπÁöÑËá™Ê≤ªÊÄß</strong> ÔºöSparkÁöÑWorkerËäÇÁÇπÊòØÁã¨Á´ãÁöÑÊâßË°åÂºïÊìéÔºåÂÆÉ‰ª¨Ë¥üË¥£ËøêË°å‰Ωú‰∏öÁöÑ‰ªªÂä°„ÄÇ‰∏ÄÊó¶‰Ωú‰∏öË¢´ÂàÜÈÖçÂà∞WorkerËäÇÁÇπ‰∏äÔºåÂÆÉ‰ª¨Â∞±‰ºöÁã¨Á´ãÂú∞ËøêË°åÔºå‰∏ç‰æùËµñ‰∫éMasterËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇÂç≥‰ΩøMasterËäÇÁÇπÂèëÁîüÊïÖÈöúÔºåWorkerËäÇÁÇπ‰ªçÁÑ∂ÂèØ‰ª•ÁªßÁª≠ÊâßË°åÂ∑≤ÁªèÊé•Êî∂Âà∞ÁöÑ‰ªªÂä°ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Â∑≤ÁªèËé∑Âèñ‰∫ÜÊâßË°å‰ªªÂä°ÊâÄÈúÄÁöÑËµÑÊ∫êÂíåÊï∞ÊçÆ„ÄÇ</li>
<li><strong>‰Ωú‰∏öÁöÑÂÖÉÊï∞ÊçÆÂíåÁä∂ÊÄÅ‰ø°ÊÅØ</strong> ÔºöSparkÁöÑ‰Ωú‰∏öÂÖÉÊï∞ÊçÆÂíåÁä∂ÊÄÅ‰ø°ÊÅØÈÄöÂ∏∏Â≠òÂÇ®Âú®Â§ñÈÉ®ÁöÑÊåÅ‰πÖÂåñÂ≠òÂÇ®‰∏≠ÔºåÂ¶ÇHDFSÊàñÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇËøô‰∫õ‰ø°ÊÅØÂåÖÊã¨‰Ωú‰∏öÁöÑÊâßË°åËÆ°Âàí„ÄÅ‰ªªÂä°ÁöÑÁä∂ÊÄÅ„ÄÅ‰Ωú‰∏öÁöÑËøõÂ∫¶Á≠â„ÄÇÂç≥‰ΩøMasterËäÇÁÇπÂèëÁîüÊïÖÈöúÔºåËøô‰∫õ‰ø°ÊÅØ‰ªçÁÑ∂ÂèØ‰ª•Ë¢´‰øùÁïôÔºåÂπ∂‰∏îÂèØ‰ª•Âú®Êñ∞ÁöÑMasterËäÇÁÇπ‰∏äËøõË°åÊÅ¢Â§çÂíåÁÆ°ÁêÜ„ÄÇ</li>
</ol>
<p>Áªº‰∏äÊâÄËø∞ÔºåSparkÁöÑMasterËäÇÁÇπÁöÑÊïÖÈöúËΩ¨ÁßªËøáÁ®ã‰∏ç‰ºöÂΩ±ÂìçÂ∑≤ÊúâÁöÑ‰Ωú‰∏öËøêË°åÔºåÂõ†‰∏∫‰Ωú‰∏öÁöÑÊâßË°åÊòØÁî±WorkerËäÇÁÇπÁã¨Á´ãÂÆåÊàêÁöÑÔºåÂπ∂‰∏î‰Ωú‰∏öÁöÑÂÖÉÊï∞ÊçÆÂíåÁä∂ÊÄÅ‰ø°ÊÅØÂèØ‰ª•Âú®ÊïÖÈöúËΩ¨ÁßªÂêéËøõË°åÊÅ¢Â§çÂíåÁÆ°ÁêÜ„ÄÇËøôÁßçËÆæËÆ°‰ΩøÂæóSparkÈõÜÁæ§ÂÖ∑ÊúâÈ´òÂèØÁî®ÊÄßÂíåÂÆπÈîôÊÄßÔºåËÉΩÂ§ü‰øùËØÅ‰Ωú‰∏öÁöÑÁ®≥ÂÆöËøêË°å„ÄÇ</p>
<h3 id="spark-masterÂ¶Ç‰ΩïÈÄöËøázookeeperÂÅöha">Spark masterÂ¶Ç‰ΩïÈÄöËøáZookeeperÂÅöHAÔºü
</h3><p>SparkÁöÑMasterËäÇÁÇπÂèØ‰ª•ÈÄöËøáZooKeeperÊù•ÂÆûÁé∞È´òÂèØÁî®ÊÄßÔºàHAÔºâ„ÄÇ‰∏ãÈù¢ÊòØSpark MasterËäÇÁÇπÈÄöËøáZooKeeperÂÆûÁé∞HAÁöÑËØ¶ÁªÜËøáÁ®ãÔºö</p>
<ol>
<li><strong>ZooKeeperÁöÑÂÆâË£ÖÂíåÈÖçÁΩÆ</strong> ÔºöÈ¶ñÂÖàÔºåÈúÄË¶ÅÂú®SparkÈõÜÁæ§‰∏≠ÂÆâË£ÖÂíåÈÖçÁΩÆZooKeeper„ÄÇZooKeeperÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂçèË∞ÉÊúçÂä°ÔºåÁî®‰∫éÁÆ°ÁêÜÈõÜÁæ§‰∏≠ÁöÑÂêÑ‰∏™ËäÇÁÇπÂíåÊï∞ÊçÆ„ÄÇ</li>
<li><strong>MasterËäÇÁÇπÁöÑÊ≥®ÂÜå</strong> ÔºöÂΩìSparkÁöÑMasterËäÇÁÇπÂêØÂä®Êó∂ÔºåÂÆÉ‰ºöÂêëZooKeeperÊ≥®ÂÜåËá™Â∑±ÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨‰∏ªÊú∫Âêç„ÄÅÁ´ØÂè£Âè∑ÂíåÂÖ∂‰ªñÂøÖË¶ÅÁöÑÂÖÉÊï∞ÊçÆ„ÄÇËøôÊ†∑ÔºåZooKeeperÂ∞±Áü•ÈÅì‰∫ÜMasterËäÇÁÇπÁöÑÂ≠òÂú®„ÄÇ</li>
<li><strong>‰∏ªËäÇÁÇπÈÄâ‰∏æ</strong> ÔºöÂú®ZooKeeper‰∏≠ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™‰∏¥Êó∂ÁöÑÊúâÂ∫èËäÇÁÇπÔºàEPHEMERAL_SEQUENTIALÔºâÔºåÁî®‰∫éË°®Á§∫MasterËäÇÁÇπÁöÑÂÄôÈÄâ‰∫∫„ÄÇÊâÄÊúâÁöÑMasterËäÇÁÇπÈÉΩ‰ºöÂ∞ùËØïÂàõÂª∫Ëøô‰∏™‰∏¥Êó∂ËäÇÁÇπÔºåÂπ∂Âú®ËäÇÁÇπ‰∏äËÆ∞ÂΩïËá™Â∑±ÁöÑID„ÄÇZooKeeper‰ºöÊ†πÊçÆËäÇÁÇπÁöÑÂàõÂª∫È°∫Â∫èÂíåIDÊù•ÈÄâ‰∏æÂá∫‰∏Ä‰∏™‰∏ªËäÇÁÇπ„ÄÇ</li>
<li><strong>‰∏ªËäÇÁÇπÁöÑÈÄâ‰∏æËøáÁ®ã</strong> ÔºöÂΩìMasterËäÇÁÇπÂêØÂä®Âπ∂Ê≥®ÂÜåÂà∞ZooKeeperÂêéÔºåÂÆÉ‰ºöÊ£ÄÊü•ÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®‰∏Ä‰∏™‰∏ªËäÇÁÇπ„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàôÂÆÉ‰ºöÂ∞ùËØïÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÔºåÂπ∂Êàê‰∏∫‰∏ªËäÇÁÇπ„ÄÇÂ¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®‰∏ªËäÇÁÇπÔºåÂàôÂΩìÂâçÁöÑMasterËäÇÁÇπ‰ºöÊàê‰∏∫Â§áÁî®ËäÇÁÇπÔºåÂπ∂ÁõëÂê¨‰∏ªËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇ</li>
<li><strong>Â§áÁî®ËäÇÁÇπÁöÑÁõëÂê¨ÂíåÊïÖÈöúËΩ¨Áßª</strong> ÔºöÂ§áÁî®ËäÇÁÇπ‰ºöÁõëÂê¨‰∏ªËäÇÁÇπÁöÑÁä∂ÊÄÅÂèòÂåñ„ÄÇÂ¶ÇÊûú‰∏ªËäÇÁÇπÂèëÁîüÊïÖÈöúÔºåZooKeeper‰ºöËá™Âä®Â∞ÜÂ§áÁî®ËäÇÁÇπÊèêÂçá‰∏∫Êñ∞ÁöÑ‰∏ªËäÇÁÇπ„ÄÇÊ≠§Êó∂ÔºåÂ§áÁî®ËäÇÁÇπÂ∞ÜÊé•ÁÆ°MasterËäÇÁÇπÁöÑËßíËâ≤ÔºåÂπ∂ÁªßÁª≠ÁÆ°ÁêÜ‰Ωú‰∏öÁöÑË∞ÉÂ∫¶ÂíåËµÑÊ∫êÂàÜÈÖç„ÄÇ</li>
<li><strong>ÂÖÉÊï∞ÊçÆÁöÑ‰øùÂ≠òÂíåÁõëÂê¨</strong> ÔºöÈô§‰∫Ü‰∏ªËäÇÁÇπÁöÑÈÄâ‰∏æÂ§ñÔºåSparkËøò‰ºöÂ∞ÜÂÖ∂‰ªñÈáçË¶ÅÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ‰øùÂ≠òÂú®ZooKeeper‰∏≠ÔºåÂ¶ÇWorkerËäÇÁÇπÁöÑÊ≥®ÂÜå‰ø°ÊÅØ„ÄÅApplicationÁöÑÊ≥®ÂÜå‰ø°ÊÅØÁ≠â„ÄÇËøô‰∫õ‰ø°ÊÅØÁöÑ‰øùÂ≠òÂíåÁõëÂê¨ÂèØ‰ª•ÂÆûÁé∞MasterËäÇÁÇπÁöÑÊïÖÈöúËΩ¨ÁßªÂíåÂÖ∂‰ªñÁªÑ‰ª∂‰∏éMasterËäÇÁÇπÁöÑÈÄö‰ø°ÂíåÂçèË∞É„ÄÇ</li>
</ol>
<p>ÈÄöËøá‰ª•‰∏äÊ≠•È™§ÔºåSparkÁöÑMasterËäÇÁÇπÂèØ‰ª•Âà©Áî®ZooKeeperÊù•ÂÆûÁé∞È´òÂèØÁî®ÊÄß„ÄÇÂΩìÂΩìÂâçÁöÑMasterËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåZooKeeper‰ºöËá™Âä®ÈÄâ‰∏æÂá∫Êñ∞ÁöÑMasterËäÇÁÇπÔºåÂπ∂‰∏îÂ∑≤ÊúâÁöÑ‰Ωú‰∏ö‰∏ç‰ºöÂèóÂà∞ÂΩ±Âìç„ÄÇËøôÁßçÊñπÂºèÂèØ‰ª•Á°Æ‰øùSparkÈõÜÁæ§ÁöÑÁ®≥ÂÆöËøêË°åÂíåÂÆπÈîôÊÄß„ÄÇ</p>
<h3 id="ËØ¥ËØ¥spark-hashparitionerÁöÑÂºäÁ´ØÊòØ‰ªÄ‰πà">ËØ¥ËØ¥spark hashParitionerÁöÑÂºäÁ´ØÊòØ‰ªÄ‰πà
</h3><p>SparkÁöÑ <code>HashPartitioner</code>ÊòØ‰∏ÄÁßçÂ∏∏Áî®ÁöÑÂàÜÂå∫Âô®ÔºåÂÆÉÊ†πÊçÆÈîÆÁöÑÂìàÂ∏åÂÄºÂ∞ÜÊï∞ÊçÆÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠„ÄÇËôΩÁÑ∂ <code>HashPartitioner</code>Âú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ãÈÉΩËÉΩÊèê‰æõËâØÂ•ΩÁöÑÊÄßËÉΩÔºå‰ΩÜÂÆÉ‰πüÂ≠òÂú®‰∏Ä‰∫õÂºäÁ´ØÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö</p>
<ol>
<li><strong>Êï∞ÊçÆÂÄæÊñú</strong> Ôºö<code>HashPartitioner</code>‰ΩøÁî®ÈîÆÁöÑÂìàÂ∏åÂÄºÊù•Á°ÆÂÆöÂàÜÂå∫Á¥¢ÂºïÔºåÂ¶ÇÊûúÊï∞ÊçÆ‰∏≠ÁöÑÊüê‰∫õÈîÆÁöÑÂìàÂ∏åÂÄºÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÂ∞±‰ºöÂØºËá¥Êï∞ÊçÆÂÄæÊñúÈóÆÈ¢ò„ÄÇËøôÊÑèÂë≥ÁùÄ‰∏Ä‰∫õÂàÜÂå∫ÂèØËÉΩ‰ºöÊØîÂÖ∂‰ªñÂàÜÂå∫Êõ¥Â§ßÔºå‰ªéËÄåÂØºËá¥Ë¥üËΩΩ‰∏çÂπ≥Ë°°ÂíåËÆ°ÁÆóÊÄßËÉΩ‰∏ãÈôç„ÄÇ</li>
<li><strong>Êó†Ê≥ï‰øùËØÅÊúâÂ∫èÊÄß</strong> Ôºö<code>HashPartitioner</code>Â∞ÜÊï∞ÊçÆÊ†πÊçÆÂìàÂ∏åÂÄºÂàÜÊï£Âà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÁõ∏ÂêåÈîÆÁöÑÊï∞ÊçÆÂèØËÉΩ‰ºöÂàÜÊï£Âà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠ÔºåÊó†Ê≥ï‰øùËØÅÊï∞ÊçÆÁöÑÊúâÂ∫èÊÄß„ÄÇÂú®Êüê‰∫õÂú∫ÊôØ‰∏ãÔºåÈúÄË¶Å‰øùÊåÅÊï∞ÊçÆÁöÑÊúâÂ∫èÊÄßÔºåËøôÂ∞±ÈúÄË¶Å‰ΩøÁî®ÂÖ∂‰ªñÁ±ªÂûãÁöÑÂàÜÂå∫Âô®„ÄÇ</li>
<li><strong>ÂàÜÂå∫Êï∞ÈáèÂõ∫ÂÆö</strong> Ôºö<code>HashPartitioner</code>Âú®ÂàõÂª∫Êó∂ÈúÄË¶ÅÊåáÂÆöÂàÜÂå∫ÁöÑÊï∞ÈáèÔºåËøôÊÑèÂë≥ÁùÄÂàÜÂå∫Êï∞ÈáèÊòØÂõ∫ÂÆöÁöÑ„ÄÇÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊï∞ÊçÆËßÑÊ®°ÂèØËÉΩ‰ºöÂèëÁîüÂèòÂåñÔºåÈúÄË¶ÅÂä®ÊÄÅË∞ÉÊï¥ÂàÜÂå∫Êï∞ÈáèÊù•Êõ¥Â•ΩÂú∞Âà©Áî®ÈõÜÁæ§ËµÑÊ∫êÔºå‰ΩÜ <code>HashPartitioner</code>Êó†Ê≥ïÊª°Ë∂≥ËøôÁßçÈúÄÊ±Ç„ÄÇ</li>
</ol>
<p>ÊÄªÁöÑÊù•ËØ¥Ôºå<code>HashPartitioner</code>Âú®‰∏Ä‰∫õÂ∏∏ËßÅÂú∫ÊôØ‰∏ãË°®Áé∞ËâØÂ•ΩÔºå‰ΩÜÂú®Êï∞ÊçÆÂÄæÊñú„ÄÅÊúâÂ∫èÊÄßÂíåÂä®ÊÄÅË∞ÉÊï¥ÂàÜÂå∫Êï∞ÈáèÁ≠âÊñπÈù¢Â≠òÂú®‰∏Ä‰∫õÈôêÂà∂„ÄÇÂú®Ëøô‰∫õÊÉÖÂÜµ‰∏ãÔºåÂèØËÉΩÈúÄË¶ÅËÄÉËôë‰ΩøÁî®ÂÖ∂‰ªñÁ±ªÂûãÁöÑËá™ÂÆö‰πâÂàÜÂå∫Âô®Êù•Ëß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢ò„ÄÇ</p>
<h3 id="sparkËØªÂèñÊï∞ÊçÆÊòØÂá†‰∏™partitionÂë¢">SparkËØªÂèñÊï∞ÊçÆÔºåÊòØÂá†‰∏™PartitionÂë¢
</h3><p>Âú®Spark‰∏≠ÔºåÊï∞ÊçÆÁöÑÂàÜÂå∫Êï∞ÈáèÂèñÂÜ≥‰∫éÊï∞ÊçÆÊ∫êÂíåÈõÜÁæ§ÁöÑÈÖçÁΩÆ„ÄÇÂΩì‰ΩøÁî®SparkËØªÂèñÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂá†‰∏™Âõ†Á¥†Êù•Á°ÆÂÆöÊï∞ÊçÆÁöÑÂàÜÂå∫Êï∞ÈáèÔºö</p>
<ol>
<li><strong>Êï∞ÊçÆÊ∫êÁöÑÂàÜÂå∫ÊÉÖÂÜµ</strong> Ôºö‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫êÂú®ËØªÂèñÊï∞ÊçÆÊó∂‰ºöÊúâ‰∏çÂêåÁöÑÂàÜÂå∫Á≠ñÁï•„ÄÇ‰æãÂ¶ÇÔºåÂΩì‰ªéHadoopÂàÜÂ∏ÉÂºèÊñá‰ª∂Á≥ªÁªüÔºàHDFSÔºâËØªÂèñÊï∞ÊçÆÊó∂ÔºåSpark‰ºöÊ†πÊçÆHDFSÂùóÁöÑÂ§ßÂ∞èÊù•Á°ÆÂÆöÂàÜÂå∫Êï∞Èáè„ÄÇÊØè‰∏™HDFSÂùóÈÄöÂ∏∏ÂØπÂ∫î‰∏Ä‰∏™ÂàÜÂå∫„ÄÇËÄåÂΩì‰ªéÊï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÊï∞ÊçÆÊ∫êËØªÂèñÊï∞ÊçÆÊó∂ÔºåÂàÜÂå∫Á≠ñÁï•ÂèØËÉΩ‰ºöÊúâÊâÄ‰∏çÂêå„ÄÇ</li>
<li><strong>Êï∞ÊçÆÊ∫êÁöÑÂàáÁâáÊï∞</strong> ÔºöSparkÂ∞ÜÊï∞ÊçÆÊ∫êÂàáÂàÜ‰∏∫Â§ö‰∏™ÂàáÁâáÔºåÊØè‰∏™ÂàáÁâáÂØπÂ∫î‰∏Ä‰∏™ÂàÜÂå∫„ÄÇÂàáÁâáÁöÑÊï∞ÈáèÁî±SparkÁöÑ <code>spark.sql.files.maxPartitionBytes</code>Âíå <code>spark.sql.files.openCostInBytes</code>Á≠âÈÖçÁΩÆÂèÇÊï∞ÊéßÂà∂„ÄÇËøô‰∫õÂèÇÊï∞ÂèØ‰ª•Ë∞ÉÊï¥‰ª•ÊéßÂà∂ÂàÜÂå∫Êï∞Èáè„ÄÇ</li>
<li><strong>Êï∞ÊçÆËßÑÊ®°ÂíåÈõÜÁæ§ËµÑÊ∫ê</strong> ÔºöÊï∞ÊçÆÁöÑÂ§ßÂ∞èÂíåÈõÜÁæ§ÁöÑËµÑÊ∫êÈÖçÁΩÆ‰πü‰ºöÂΩ±ÂìçÊï∞ÊçÆÁöÑÂàÜÂå∫Êï∞Èáè„ÄÇÂ¶ÇÊûúÊï∞ÊçÆËæÉÂ∞èÔºåSparkÂèØËÉΩ‰ºö‰ΩøÁî®ËæÉÂ∞ëÁöÑÂàÜÂå∫„ÄÇËÄåÂ¶ÇÊûúÊï∞ÊçÆËæÉÂ§ßÔºåSparkÂèØËÉΩ‰ºö‰ΩøÁî®Êõ¥Â§öÁöÑÂàÜÂå∫Êù•Êõ¥Â•ΩÂú∞Âà©Áî®ÈõÜÁæ§ËµÑÊ∫ê„ÄÇ</li>
</ol>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSparkÂπ∂‰∏ç‰øùËØÅÊØè‰∏™Êï∞ÊçÆÂàÜÂå∫ÈÉΩÂÖ∑ÊúâÁõ∏ÂêåÊï∞ÈáèÁöÑÊï∞ÊçÆ„ÄÇËøôÂèñÂÜ≥‰∫éÊï∞ÊçÆÁöÑÂàÜÂ∏ÉÊÉÖÂÜµÂíåÂàÜÂå∫Á≠ñÁï•„ÄÇÊúâÊó∂ÂÄôÔºåÊï∞ÊçÆÂèØËÉΩ‰ºöÂá∫Áé∞ÂÄæÊñúÔºåÂØºËá¥Êüê‰∫õÂàÜÂå∫ÊØîÂÖ∂‰ªñÂàÜÂå∫Êõ¥Â§ß„ÄÇ</p>
<p>ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÂºèÊù•Êü•ÁúãÊï∞ÊçÆÁöÑÂàÜÂå∫Êï∞ÈáèÔºö</p>
<ul>
<li>ÂØπ‰∫éRDDÔºöÂèØ‰ª•‰ΩøÁî® <code>getNumPartitions()</code>ÊñπÊ≥ïËé∑ÂèñRDDÁöÑÂàÜÂå∫Êï∞Èáè„ÄÇ</li>
<li>ÂØπ‰∫éDataFrameÊàñDatasetÔºöÂèØ‰ª•‰ΩøÁî® <code>rdd.getNumPartitions()</code>ÊñπÊ≥ïËé∑ÂèñÂ∫ïÂ±ÇRDDÁöÑÂàÜÂå∫Êï∞Èáè„ÄÇ</li>
</ul>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂàÜÂå∫Êï∞ÈáèÂú®ËØªÂèñÊï∞ÊçÆÊó∂ÊòØÂä®ÊÄÅÁ°ÆÂÆöÁöÑÔºåÂπ∂‰∏îÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÊ∫ê„ÄÅÈÖçÁΩÆÂíåÈõÜÁæ§ËµÑÊ∫êÁöÑ‰∏çÂêåËÄåÂèòÂåñ„ÄÇÂõ†Ê≠§ÔºåÂÆûÈôÖÁöÑÂàÜÂå∫Êï∞ÈáèÂèØËÉΩ‰ºöÊúâÊâÄ‰∏çÂêå„ÄÇ</p>
<h3 id="rangepartitionerÂàÜÂå∫ÁöÑÂéüÁêÜ">RangePartitionerÂàÜÂå∫ÁöÑÂéüÁêÜ
</h3><p>RangePartitionerÊòØSpark‰∏≠ÁöÑ‰∏ÄÁßçÂàÜÂå∫Âô®ÔºåÁî®‰∫éÂ∞ÜÊï∞ÊçÆÊåâÁÖß‰∏ÄÂÆöÁöÑËåÉÂõ¥ËøõË°åÂàÜÂå∫„ÄÇÂÆÉÁöÑÂéüÁêÜÊòØÊ†πÊçÆÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥Â∞ÜÊï∞ÊçÆÂàíÂàÜÂà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠„ÄÇ</p>
<p>RangePartitionerÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂ¶Ç‰∏ãÔºö</p>
<ol>
<li>È¶ñÂÖàÔºåRangePartitioner‰ºöÂØπÊï∞ÊçÆËøõË°åÈááÊ†∑Ôºå‰ª•Ëé∑ÂèñÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥„ÄÇÈááÊ†∑ËøáÁ®ãÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <code>RDD.sample</code>ÊñπÊ≥ïÊù•ÂÆûÁé∞„ÄÇ</li>
<li>Êé•‰∏ãÊù•ÔºåRangePartitioner‰ºöÊ†πÊçÆÊåáÂÆöÁöÑÂàÜÂå∫Êï∞ÈáèÔºåÂ∞ÜÈîÆÂÄºËåÉÂõ¥ÂàíÂàÜ‰∏∫Áõ∏Â∫îÊï∞ÈáèÁöÑÂå∫Èó¥„ÄÇ</li>
<li>ÁÑ∂ÂêéÔºåRangePartitioner‰ºöÂ∞ÜÊï∞ÊçÆÊåâÁÖßÈîÆÂÄºËåÉÂõ¥ÂàíÂàÜÂà∞ÂØπÂ∫îÁöÑÂàÜÂå∫‰∏≠„ÄÇÂÖ∑‰ΩìÁöÑÂàíÂàÜÊñπÂºèÊòØÊ†πÊçÆÊï∞ÊçÆÁöÑÈîÆÂÄº‰∏éÂå∫Èó¥ÁöÑÊØîËæÉÊù•Á°ÆÂÆöÊï∞ÊçÆÊâÄÂ±ûÁöÑÂàÜÂå∫„ÄÇ</li>
<li>ÊúÄÂêéÔºåRangePartitioner‰ºöËøîÂõû‰∏Ä‰∏™ÂàÜÂå∫Âô®ÂØπË±°ÔºåÂèØ‰ª•Â∞ÜÂÖ∂Â∫îÁî®Âà∞RDDÊàñDataFrame‰∏≠„ÄÇÂú®‰ΩøÁî®RDDÊó∂ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <code>RDD.partitionBy</code>ÊñπÊ≥ïÔºåÂπ∂‰º†ÂÖ•RangePartitionerÊù•ËøõË°åÂàÜÂå∫ÔºõÂú®‰ΩøÁî®DataFrameÊó∂ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <code>DataFrame.repartition</code>ÊñπÊ≥ïÔºåÂπ∂‰º†ÂÖ•RangePartitionerÊù•ËøõË°åÂàÜÂå∫„ÄÇ</li>
</ol>
<p>RangePartitionerÁöÑ‰ºòÁÇπÊòØÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥ËøõË°åÂàÜÂå∫ÔºåÂèØ‰ª•‰øùËØÅÁõ∏ÂêåËåÉÂõ¥ÂÜÖÁöÑÊï∞ÊçÆË¢´ÂàíÂàÜÂà∞Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠Ôºå‰ªéËÄåÊèêÈ´òÊï∞ÊçÆÁöÑÂ±ÄÈÉ®ÊÄß„ÄÇËøôÂØπ‰∫é‰∏Ä‰∫õÈúÄË¶ÅÊåâÁÖßÈîÆÂÄºËåÉÂõ¥ËøõË°åËÅöÂêàÊàñÊéíÂ∫èÁöÑÊìç‰ΩúÈùûÂ∏∏ÊúâÁî®„ÄÇ</p>
<p>ÁÑ∂ËÄåÔºåRangePartitioner‰πüÂ≠òÂú®‰∏Ä‰∫õÈôêÂà∂„ÄÇÈ¶ñÂÖàÔºåÂÆÉË¶ÅÊ±ÇÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥ÊòØÂ∑≤Áü•ÁöÑÔºåËøôÂØπ‰∫é‰∏Ä‰∫õÂä®ÊÄÅÁîüÊàêÁöÑÊï∞ÊçÆÈõÜÂèØËÉΩ‰∏çÈÄÇÁî®„ÄÇÂÖ∂Ê¨°ÔºåÂ¶ÇÊûúÊï∞ÊçÆÁöÑÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÂèØËÉΩ‰ºöÂØºËá¥Êüê‰∫õÂàÜÂå∫ÁöÑÊï∞ÊçÆÈáèËøáÂ§ßÊàñËøáÂ∞èÔºå‰ªéËÄåÂΩ±ÂìçËÆ°ÁÆóÊÄßËÉΩ„ÄÇÂõ†Ê≠§ÔºåÂú®ÂÆûÈôÖ‰ΩøÁî®‰∏≠ÔºåÈúÄË¶ÅÊ†πÊçÆÊï∞ÊçÆÁöÑÁâπÁÇπÈÄâÊã©ÂêàÈÄÇÁöÑÂàÜÂå∫Á≠ñÁï•„ÄÇ</p>
<h3 id="rangepartionerÂàÜÂå∫Âô®ÁâπÁÇπ">RangePartionerÂàÜÂå∫Âô®ÁâπÁÇπ
</h3><p>RangePartitionerÂàÜÂå∫Âô®ÂÖ∑Êúâ‰ª•‰∏ãÁâπÁÇπÔºö</p>
<ol>
<li><strong>Âü∫‰∫éËåÉÂõ¥ÂàíÂàÜ</strong> ÔºöRangePartitionerÊ†πÊçÆÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥Â∞ÜÊï∞ÊçÆÂàíÂàÜÂà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏≠„ÄÇÂÆÉÂ∞ÜÈîÆÂÄºËåÉÂõ¥ÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™Âå∫Èó¥ÔºåÂπ∂Â∞ÜÊï∞ÊçÆÊåâÁÖßÈîÆÂÄº‰∏éÂå∫Èó¥ÁöÑÊØîËæÉËøõË°åÂàíÂàÜ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂ±ÄÈÉ®ÊÄß</strong> ÔºöRangePartitioner‰ºöÂ∞ÜÁõ∏ÂêåËåÉÂõ¥ÂÜÖÁöÑÊï∞ÊçÆÂàíÂàÜÂà∞Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠Ôºå‰ªéËÄåÊèêÈ´òÊï∞ÊçÆÁöÑÂ±ÄÈÉ®ÊÄß„ÄÇËøôÂØπ‰∫é‰∏Ä‰∫õÈúÄË¶ÅÊåâÁÖßÈîÆÂÄºËåÉÂõ¥ËøõË°åËÅöÂêàÊàñÊéíÂ∫èÁöÑÊìç‰ΩúÈùûÂ∏∏ÊúâÁî®„ÄÇ</li>
<li><strong>ÈÄÇÁî®‰∫éÊúâÂ∫èÊï∞ÊçÆ</strong> ÔºöRangePartitionerÈÄÇÁî®‰∫éÊúâÂ∫èÊï∞ÊçÆÁöÑÂàÜÂå∫„ÄÇÂÆÉÂèØ‰ª•‰øùËØÅÁõ∏ÂêåËåÉÂõ¥ÂÜÖÁöÑÊï∞ÊçÆË¢´ÂàíÂàÜÂà∞Âêå‰∏Ä‰∏™ÂàÜÂå∫‰∏≠Ôºå‰ªéËÄå‰øùÊåÅÊï∞ÊçÆÁöÑÊúâÂ∫èÊÄß„ÄÇ</li>
<li><strong>ÂàÜÂå∫Êï∞ÈáèÂèØÊéß</strong> ÔºöRangePartitionerÂèØ‰ª•ÈÄöËøáÊåáÂÆöÂàÜÂå∫Êï∞ÈáèÊù•ÊéßÂà∂Êï∞ÊçÆÁöÑÂàÜÂå∫‰∏™Êï∞„ÄÇËøôÂØπ‰∫é‰ºòÂåñËÆ°ÁÆóÊÄßËÉΩÂíåËµÑÊ∫êÂà©Áî®ÈùûÂ∏∏ÈáçË¶Å„ÄÇ</li>
<li><strong>ÈááÊ†∑Ëé∑ÂèñËåÉÂõ¥</strong> Ôºö‰∏∫‰∫ÜÁ°ÆÂÆöÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥ÔºåRangePartitioner‰ºöÂØπÊï∞ÊçÆËøõË°åÈááÊ†∑„ÄÇÈááÊ†∑ËøáÁ®ãÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <code>RDD.sample</code>ÊñπÊ≥ïÊù•ÂÆûÁé∞„ÄÇ</li>
<li><strong>ÈúÄË¶ÅÈîÆÂÄºËåÉÂõ¥Â∑≤Áü•</strong> ÔºöRangePartitionerË¶ÅÊ±ÇÊï∞ÊçÆÁöÑÈîÆÂÄºËåÉÂõ¥ÊòØÂ∑≤Áü•ÁöÑÔºåËøôÂØπ‰∫é‰∏Ä‰∫õÂä®ÊÄÅÁîüÊàêÁöÑÊï∞ÊçÆÈõÜÂèØËÉΩ‰∏çÈÄÇÁî®„ÄÇ</li>
<li><strong>ÂèØÂ∫îÁî®‰∫éRDDÂíåDataFrame</strong> ÔºöRangePartitionerÂèØ‰ª•Â∫îÁî®‰∫éRDDÂíåDataFrame„ÄÇÂú®‰ΩøÁî®RDDÊó∂ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <code>RDD.partitionBy</code>ÊñπÊ≥ïÔºåÂπ∂‰º†ÂÖ•RangePartitionerÊù•ËøõË°åÂàÜÂå∫ÔºõÂú®‰ΩøÁî®DataFrameÊó∂ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <code>DataFrame.repartition</code>ÊñπÊ≥ïÔºåÂπ∂‰º†ÂÖ•RangePartitionerÊù•ËøõË°åÂàÜÂå∫„ÄÇ</li>
</ol>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåRangePartitioner‰πüÂ≠òÂú®‰∏Ä‰∫õÈôêÂà∂„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÁöÑÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÂèØËÉΩ‰ºöÂØºËá¥Êüê‰∫õÂàÜÂå∫ÁöÑÊï∞ÊçÆÈáèËøáÂ§ßÊàñËøáÂ∞èÔºå‰ªéËÄåÂΩ±ÂìçËÆ°ÁÆóÊÄßËÉΩ„ÄÇÂõ†Ê≠§ÔºåÂú®‰ΩøÁî®RangePartitionerÊó∂ÔºåÈúÄË¶ÅÊ†πÊçÆÊï∞ÊçÆÁöÑÁâπÁÇπÈÄâÊã©ÂêàÈÄÇÁöÑÂàÜÂå∫Á≠ñÁï•„ÄÇ</p>
<h3 id="‰ªãÁªçparitionÂíåblockÊúâ‰ªÄ‰πàÂÖ≥ËÅîÂÖ≥Á≥ª">‰ªãÁªçparitionÂíåblockÊúâ‰ªÄ‰πàÂÖ≥ËÅîÂÖ≥Á≥ª
</h3><p>Âú®Spark‰∏≠ÔºåPartitionÔºàÂàÜÂå∫ÔºâÂíåBlockÔºàÂùóÔºâÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÊ¶ÇÂøµÔºå‰ΩÜÂÆÉ‰ª¨‰πãÈó¥Â≠òÂú®‰∏ÄÂÆöÁöÑÂÖ≥ËÅîÂÖ≥Á≥ª„ÄÇ</p>
<p>PartitionÔºàÂàÜÂå∫ÔºâÊòØÂ∞ÜÊï∞ÊçÆÈõÜÊãÜÂàÜ‰∏∫ËæÉÂ∞è„ÄÅÂèØÂπ∂Ë°åÂ§ÑÁêÜÁöÑÊï∞ÊçÆÂùóÁöÑËøáÁ®ã„ÄÇÂú®Spark‰∏≠ÔºåÊï∞ÊçÆÈõÜË¢´ÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÔºåÊØè‰∏™ÂàÜÂå∫ÂåÖÂê´Êï∞ÊçÆÁöÑ‰∏Ä‰∏™Â≠êÈõÜ„ÄÇÊØè‰∏™ÂàÜÂå∫ÈÉΩÂèØ‰ª•Âú®ÈõÜÁæ§‰∏≠ÁöÑ‰∏çÂêåËäÇÁÇπ‰∏äËøõË°åÂπ∂Ë°åÂ§ÑÁêÜ„ÄÇ</p>
<p>ËÄåBlockÔºàÂùóÔºâÊòØSpark‰∏≠Êï∞ÊçÆÂ≠òÂÇ®Âíå‰º†ËæìÁöÑÂü∫Êú¨Âçï‰Ωç„ÄÇÂú®Spark‰∏≠ÔºåÊï∞ÊçÆË¢´ÂàíÂàÜ‰∏∫Â§ö‰∏™ÂùóÔºåÊØè‰∏™ÂùóÁöÑÂ§ßÂ∞èÈÄöÂ∏∏‰∏∫128MB„ÄÇÊØè‰∏™ÂùóÈÉΩ‰ºöË¢´Â≠òÂÇ®Âú®ÈõÜÁæ§‰∏≠ÁöÑ‰∏çÂêåËäÇÁÇπ‰∏äÔºåÂπ∂‰∏îÂèØ‰ª•Âú®ËäÇÁÇπ‰πãÈó¥ËøõË°å‰º†ËæìÂíåÂÖ±‰∫´„ÄÇ</p>
<p>PartitionÂíåBlock‰πãÈó¥ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÂú®Êï∞ÊçÆÂ§ÑÁêÜËøáÁ®ã‰∏≠‰ΩìÁé∞Âá∫Êù•„ÄÇÂΩìSparkÊâßË°å‰ªªÂä°Êó∂ÔºåÊØè‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆ‰ºöË¢´Âä†ËΩΩÂà∞ÂØπÂ∫îËäÇÁÇπÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂‰ª•ÂùóÁöÑÂΩ¢ÂºèËøõË°åÂ≠òÂÇ®„ÄÇËøôÊ†∑ÂèØ‰ª•ÊèêÈ´òÊï∞ÊçÆÁöÑËØªÂèñÂíåÂ§ÑÁêÜÊïàÁéáÔºåÂõ†‰∏∫ÊØè‰∏™ËäÇÁÇπÂè™ÈúÄË¶ÅÂä†ËΩΩÂíåÂ§ÑÁêÜËá™Â∑±Ë¥üË¥£ÁöÑÂàÜÂå∫Êï∞ÊçÆÂùó„ÄÇ</p>
<p>Ê≠§Â§ñÔºåSparkËøò‰ΩøÁî®PartitionÂíåBlock‰πãÈó¥ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÊù•ËøõË°åÊï∞ÊçÆÁöÑÊú¨Âú∞ÊÄßË∞ÉÂ∫¶„ÄÇSpark‰ºöÂ∞ΩÈáèÂ∞Ü‰ªªÂä°Ë∞ÉÂ∫¶Âà∞‰∏éÊï∞ÊçÆÊâÄÂú®ÁöÑÂàÜÂå∫ÂùóÁõ∏ÂêåÁöÑËäÇÁÇπ‰∏äÊâßË°åÔºå‰ª•ÂáèÂ∞ëÊï∞ÊçÆ‰º†ËæìÁöÑÂºÄÈîÄÔºåÂπ∂ÊèêÈ´ò‰ªªÂä°ÁöÑÊâßË°åÊïàÁéá„ÄÇ</p>
<p>ÊÄªÁªìËµ∑Êù•ÔºåPartitionÂíåBlock‰πãÈó¥ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÂèØ‰ª•ÁÆÄÂçïÊèèËø∞‰∏∫ÔºöPartitionÊòØÊï∞ÊçÆÈõÜÁöÑÈÄªËæëÂàíÂàÜÔºåËÄåBlockÊòØÊï∞ÊçÆÁöÑÁâ©ÁêÜÂ≠òÂÇ®Âíå‰º†ËæìÂçï‰ΩçÔºå‰∫åËÄÖÈÖçÂêà‰ΩøÁî®ÂèØ‰ª•ÊèêÈ´òÊï∞ÊçÆÂ§ÑÁêÜÁöÑÊïàÁéáÂíåÊÄßËÉΩ„ÄÇ</p>
<h3 id="‰ªÄ‰πàÊòØ‰∫åÊ¨°ÊéíÂ∫è‰Ω†ÊòØÂ¶Ç‰ΩïÁî®sparkÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫èÁöÑ‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢">‰ªÄ‰πàÊòØ‰∫åÊ¨°ÊéíÂ∫èÔºå‰Ω†ÊòØÂ¶Ç‰ΩïÁî®sparkÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫èÁöÑÔºüÔºà‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢Ôºâ
</h3><p>‰∫åÊ¨°ÊéíÂ∫èÔºàSecondary SortingÔºâÊòØÊåáÂú®ÂØπÊï∞ÊçÆËøõË°åÊéíÂ∫èÊó∂ÔºåÈô§‰∫Ü‰∏ªÊéíÂ∫èÈîÆÔºàPrimary KeyÔºâÂ§ñÔºåËøòÈúÄË¶ÅÂØπÊ¨°Ë¶ÅÊéíÂ∫èÈîÆÔºàSecondary KeyÔºâËøõË°åÊéíÂ∫è„ÄÇÂú®Spark‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÊéíÂ∫èÂáΩÊï∞ÂíåËá™ÂÆö‰πâÂàÜÂå∫Âô®Êù•ÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫è„ÄÇ</p>
<p>Ë¶ÅÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫èÔºåÈ¶ñÂÖàÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™ÂåÖÂê´‰∏ªÊéíÂ∫èÈîÆÂíåÊ¨°Ë¶ÅÊéíÂ∫èÈîÆÁöÑÂÖÉÁªÑ‰Ωú‰∏∫Êï∞ÊçÆÁöÑÈîÆ„ÄÇÁÑ∂ÂêéÔºåÂèØ‰ª•‰ΩøÁî® <code>sortByKey()</code>ÂáΩÊï∞ÂØπÈîÆÂÄºÂØπËøõË°åÊéíÂ∫è„ÄÇÂú®ÊéíÂ∫èÊó∂ÔºåÂèØ‰ª•ÈÄöËøáËá™ÂÆö‰πâÁöÑÊéíÂ∫èÂáΩÊï∞Êù•ÊåáÂÆö‰∏ªÊéíÂ∫èÈîÆÂíåÊ¨°Ë¶ÅÊéíÂ∫èÈîÆÁöÑÊéíÂ∫èËßÑÂàô„ÄÇ</p>
<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰ΩøÁî®SparkÂÆûÁé∞‰∫åÊ¨°ÊéíÂ∫èÁöÑÁ§∫‰æã‰ª£Á†ÅÔºö</p>
<h3 id="Â¶Ç‰Ωï‰ΩøÁî®sparkËß£ÂÜ≥topnÈóÆÈ¢ò‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢">Â¶Ç‰Ωï‰ΩøÁî®SparkËß£ÂÜ≥TopNÈóÆÈ¢òÔºüÔºà‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢Ôºâ
</h3><p>Âú®Spark‰∏≠ÔºåËß£ÂÜ≥TopNÈóÆÈ¢òÈÄöÂ∏∏Ê∂âÂèä‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>
<ol>
<li><strong>Âä†ËΩΩÊï∞ÊçÆ</strong> ÔºöÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÂä†ËΩΩÊï∞ÊçÆÂà∞Spark‰∏≠„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>textFile</code>ÊñπÊ≥ïÂä†ËΩΩÊñáÊú¨Êñá‰ª∂ÔºåÊàñËÄÖ‰ΩøÁî®ÂÖ∂‰ªñÈÄÇÂêà‰Ω†Êï∞ÊçÆÊ†ºÂºèÁöÑÊñπÊ≥ïÂä†ËΩΩÊï∞ÊçÆ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜ</strong> ÔºöÊ†πÊçÆ‰Ω†ÁöÑÈúÄÊ±ÇÔºåÂØπÊï∞ÊçÆËøõË°åÂøÖË¶ÅÁöÑÈ¢ÑÂ§ÑÁêÜ„ÄÇËøôÂèØËÉΩÂåÖÊã¨Êï∞ÊçÆÊ∏ÖÊ¥ó„ÄÅËΩ¨Êç¢ÂíåËøáÊª§Á≠âÊìç‰Ωú„ÄÇ</li>
<li><strong>Êï∞ÊçÆËΩ¨Êç¢</strong> ÔºöÂ∞ÜÊï∞ÊçÆËΩ¨Êç¢‰∏∫ÈîÆÂÄºÂØπÁöÑÂΩ¢ÂºèÔºåÂÖ∂‰∏≠ÈîÆÊòØ‰Ω†Ë¶ÅËøõË°åTopNÊìç‰ΩúÁöÑÂ≠óÊÆµÔºåÂÄºÊòØ‰∏éËØ•Â≠óÊÆµÁõ∏ÂÖ≥ÁöÑÂÖ∂‰ªñÊï∞ÊçÆ„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>map</code>ÊàñËÄÖ <code>flatMap</code>ÊñπÊ≥ïÊù•ÂÆûÁé∞Ëøô‰∏™Ê≠•È™§„ÄÇ</li>
<li><strong>ÊåâÈîÆÂàÜÁªÑ</strong> Ôºö‰ΩøÁî® <code>groupByKey</code>ÊñπÊ≥ïÂ∞ÜÊï∞ÊçÆÊåâÈîÆËøõË°åÂàÜÁªÑ„ÄÇËøôÂ∞ÜÊääÂÖ∑ÊúâÁõ∏ÂêåÈîÆÁöÑÊï∞ÊçÆÂàÜÁªÑÂà∞‰∏ÄËµ∑„ÄÇ</li>
<li><strong>ËÆ°ÁÆóTopN</strong> ÔºöÂØπÊØè‰∏™ÈîÆÁöÑÊï∞ÊçÆËøõË°åÂ§ÑÁêÜÔºå‰ª•Ëé∑ÂèñTopNÁªìÊûú„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>mapValues</code>ÊñπÊ≥ïÁªìÂêàÊéíÂ∫èÊìç‰ΩúÊù•ÂÆûÁé∞Ëøô‰∏ÄÊ≠•È™§„ÄÇ‰æãÂ¶ÇÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>takeOrdered</code>ÊñπÊ≥ïËé∑ÂèñÊØè‰∏™ÈîÆÁöÑÂâçN‰∏™ÂÖÉÁ¥†„ÄÇ</li>
<li><strong>ÂêàÂπ∂ÁªìÊûú</strong> ÔºöÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅËé∑ÂæóÂÖ®Â±ÄÁöÑTopNÁªìÊûúÔºå‰Ω†ÈúÄË¶ÅÂ∞ÜÊØè‰∏™ÂàÜÂå∫ÁöÑTopNÁªìÊûúËøõË°åÂêàÂπ∂„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>reduceByKey</code>ÊñπÊ≥ïÊù•ÂêàÂπ∂ÂàÜÂå∫ÁªìÊûú„ÄÇ</li>
</ol>
<h3 id="Â¶Ç‰Ωï‰ΩøÁî®sparkËß£ÂÜ≥ÂàÜÁªÑÊéíÂ∫èÈóÆÈ¢ò‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢">Â¶Ç‰Ωï‰ΩøÁî®SparkËß£ÂÜ≥ÂàÜÁªÑÊéíÂ∫èÈóÆÈ¢òÔºüÔºà‰∫íËÅîÁΩëÂÖ¨Âè∏Â∏∏Èù¢Ôºâ
</h3><h3 id="hadoop‰∏≠mapreduceÊìç‰ΩúÁöÑmapperÂíåreducerÈò∂ÊÆµÁõ∏ÂΩì‰∫éspark‰∏≠ÁöÑÂì™Âá†‰∏™ÁÆóÂ≠ê">Hadoop‰∏≠ÔºåMapreduceÊìç‰ΩúÁöÑmapperÂíåreducerÈò∂ÊÆµÁõ∏ÂΩì‰∫éspark‰∏≠ÁöÑÂì™Âá†‰∏™ÁÆóÂ≠êÔºü
</h3><p>Âú®Hadoop‰∏≠ÔºåMapReduceÊìç‰ΩúÁöÑMapperÂíåReducerÈò∂ÊÆµÂèØ‰ª•‰∏éSpark‰∏≠ÁöÑÂ§ö‰∏™ÁÆóÂ≠êËøõË°åÂØπÂ∫î„ÄÇ‰∏ãÈù¢ÊòØÂØπÂ∫îÂÖ≥Á≥ªÁöÑËØ¶ÁªÜËß£ÈáäÔºö</p>
<p>‰∏Ä„ÄÅMapperÈò∂ÊÆµÔºö</p>
<ul>
<li>Âú®Hadoop‰∏≠ÔºåMapperÈò∂ÊÆµË¥üË¥£ÂØπËæìÂÖ•Êï∞ÊçÆËøõË°åÂàáÂàÜÂíåÊò†Â∞ÑÊìç‰Ωú„ÄÇÂÆÉÂ∞ÜËæìÂÖ•Êï∞ÊçÆÂàÜÂâ≤ÊàêÂ∞èÁöÑÊï∞ÊçÆÂùóÔºåÂπ∂‰∏∫ÊØè‰∏™Êï∞ÊçÆÂùóÁîüÊàêÈîÆÂÄºÂØπ„ÄÇ</li>
<li>Âú®Spark‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî® <code>map</code>ÁÆóÂ≠êÊù•ÂÆûÁé∞Á±ª‰ººÁöÑÂäüËÉΩ„ÄÇ<code>map</code>ÁÆóÂ≠ê‰ºöÂØπËæìÂÖ•RDD‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Â∫îÁî®‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑRDD„ÄÇ</li>
</ul>
<p>‰∫å„ÄÅReducerÈò∂ÊÆµÔºö</p>
<ul>
<li>Âú®Hadoop‰∏≠ÔºåReducerÈò∂ÊÆµË¥üË¥£ÂØπMapperÈò∂ÊÆµËæìÂá∫ÁöÑÈîÆÂÄºÂØπËøõË°åÂêàÂπ∂ÂíåÂΩíÁ∫¶Êìç‰ΩúÔºåÁîüÊàêÊúÄÁªàÁöÑËæìÂá∫ÁªìÊûú„ÄÇ</li>
<li>Âú®Spark‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî® <code>reduceByKey</code>Êàñ <code>groupByKey</code>ÁÆóÂ≠êÊù•ÂÆûÁé∞Á±ª‰ººÁöÑÂäüËÉΩ„ÄÇ<code>reduceByKey</code>ÁÆóÂ≠ê‰ºöÂ∞ÜÂÖ∑ÊúâÁõ∏ÂêåÈîÆÁöÑÂÄºËøõË°åÂêàÂπ∂ÔºåËÄå <code>groupByKey</code>ÁÆóÂ≠ê‰ºöÂ∞ÜÂÖ∑ÊúâÁõ∏ÂêåÈîÆÁöÑÂÄºËøõË°åÂàÜÁªÑ„ÄÇ</li>
</ul>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSparkÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊ®°Âûã‰∏éHadoopÁöÑMapReduceÊ®°Âûã‰∏çÂêå„ÄÇSparkÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊ®°ÂûãÊòØÂü∫‰∫éÂºπÊÄßÂàÜÂ∏ÉÂºèÊï∞ÊçÆÈõÜÔºàRDDÔºâÁöÑÔºåËÄå‰∏çÊòØÂü∫‰∫éÈîÆÂÄºÂØπÁöÑ„ÄÇÂõ†Ê≠§ÔºåÂú®Spark‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®Êõ¥Â§öÁöÑÁÆóÂ≠êÊù•ËøõË°åÊï∞ÊçÆËΩ¨Êç¢ÂíåÊìç‰ΩúÔºå‰æãÂ¶Ç <code>filter</code>„ÄÅ<code>flatMap</code>„ÄÅ<code>join</code>Á≠â„ÄÇ</p>
<p>ÊÄªÁªìËµ∑Êù•ÔºåMapperÈò∂ÊÆµÂèØ‰ª•‰ΩøÁî®SparkÁöÑ <code>map</code>ÁÆóÂ≠êÔºåËÄåReducerÈò∂ÊÆµÂèØ‰ª•‰ΩøÁî®SparkÁöÑ <code>reduceByKey</code>Êàñ <code>groupByKey</code>ÁÆóÂ≠ê„ÄÇ‰ΩÜÊòØÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSpark‰∏≠ÁöÑÁÆóÂ≠êÊõ¥Âä†ÁÅµÊ¥ªÔºåÂèØ‰ª•ËøõË°åÊõ¥Â§öÁßçÁ±ªÁöÑÊï∞ÊçÆÊìç‰ΩúÂíåËΩ¨Êç¢„ÄÇ</p>
<h3 id="spark-shellÂêØÂä®Êó∂‰ºöÂêØÂä®derby">Spark shellÂêØÂä®Êó∂‰ºöÂêØÂä®derby
</h3><p>Âú®Spark‰∏≠ÔºåDerbyÊòØ‰∏Ä‰∏™ÂÜÖÁΩÆÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÁî®‰∫éÊîØÊåÅSparkÁöÑÂÖÉÊï∞ÊçÆÂ≠òÂÇ®ÂíåÁÆ°ÁêÜ„ÄÇÂΩì‰Ω†ÂêØÂä®Spark ShellÊó∂ÔºåÂÆÉ‰ºöËá™Âä®ÂêØÂä®DerbyÊï∞ÊçÆÂ∫ì‰Ωú‰∏∫ÂÖÉÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÂêéÁ´Ø„ÄÇ</p>
<p>DerbyÊï∞ÊçÆÂ∫ìÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑJavaÊï∞ÊçÆÂ∫ìÔºåÂÆÉÂèØ‰ª•Âú®Êú¨Âú∞Ê®°Âºè‰∏ãËøêË°åÔºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÈÖçÁΩÆÊàñÂÆâË£Ö„ÄÇSpark‰ΩøÁî®DerbyÊï∞ÊçÆÂ∫ìÊù•Â≠òÂÇ®ÂÖ≥‰∫éSparkÂ∫îÁî®Á®ãÂ∫èÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåÂåÖÊã¨Ë°®ÁªìÊûÑ„ÄÅÊï∞ÊçÆÊ∫êËøûÊé•‰ø°ÊÅØ„ÄÅÊâßË°åËÆ°ÂàíÁ≠â„ÄÇ</p>
<p>ÂΩì‰Ω†ÂêØÂä®Spark ShellÊó∂ÔºåÂÆÉ‰ºöÂú®Êú¨Âú∞ÂêØÂä®‰∏Ä‰∏™DerbyÊï∞ÊçÆÂ∫ìÂÆû‰æãÔºåÂπ∂Â∞ÜÂÖÉÊï∞ÊçÆÂ≠òÂÇ®Âú®ËØ•ÂÆû‰æã‰∏≠„ÄÇËøô‰∏™DerbyÂÆû‰æãÊòØ‰∏éSpark ShellËøõÁ®ãÁªëÂÆöÁöÑÔºåÂΩì‰Ω†ÈÄÄÂá∫Spark ShellÊó∂ÔºåDerbyÊï∞ÊçÆÂ∫ì‰πü‰ºöÈöè‰πãÂÖ≥Èó≠„ÄÇ</p>
<p>ÈÄöËøáDerbyÊï∞ÊçÆÂ∫ìÔºåSparkÂèØ‰ª•Êñπ‰æøÂú∞ÁÆ°ÁêÜÂíåÊü•ËØ¢ÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂèØ‰ª•‰ΩøÁî®SparkÁöÑSQLËØ≠Ê≥ïÊù•Êü•ËØ¢Ë°®ÁªìÊûÑ„ÄÅÊâßË°åËÆ°ÂàíÁ≠â„ÄÇÊ≠§Â§ñÔºåDerbyËøòÊîØÊåÅ‰∫ãÂä°Â§ÑÁêÜÂíåÂπ∂ÂèëÊéßÂà∂ÔºåÁ°Æ‰øùÂØπÂÖÉÊï∞ÊçÆÁöÑ‰øÆÊîπÊòØÂÆâÂÖ®Âíå‰∏ÄËá¥ÁöÑ„ÄÇ</p>
<p>ÊÄª‰πãÔºåSpark ShellÂêØÂä®Êó∂‰ºöËá™Âä®ÂêØÂä®DerbyÊï∞ÊçÆÂ∫ì‰Ωú‰∏∫ÂÖÉÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÂêéÁ´ØÔºåËøô‰ΩøÂæóSparkËÉΩÂ§üÊñπ‰æøÂú∞ÁÆ°ÁêÜÂíåÊü•ËØ¢Â∫îÁî®Á®ãÂ∫èÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ„ÄÇ</p>
<h3 id="‰ªãÁªç‰∏Ä‰∏ã‰Ω†ÂØπunified-memory-managementÂÜÖÂ≠òÁÆ°ÁêÜÊ®°ÂûãÁöÑÁêÜËß£">‰ªãÁªç‰∏Ä‰∏ã‰Ω†ÂØπUnified Memory ManagementÂÜÖÂ≠òÁÆ°ÁêÜÊ®°ÂûãÁöÑÁêÜËß£
</h3><p>Unified Memory ManagementÔºàÁªü‰∏ÄÂÜÖÂ≠òÁÆ°ÁêÜÔºâÊòØ‰∏ÄÁßçÂÜÖÂ≠òÁÆ°ÁêÜÊ®°ÂûãÔºåÂÆÉÂú®ËÆ°ÁÆóÊú∫Á≥ªÁªü‰∏≠Áªü‰∏Ä‰∫ÜCPUÂíåGPU‰πãÈó¥ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ„ÄÇ‰º†Áªü‰∏äÔºåCPUÂíåGPUÊã•ÊúâÂêÑËá™Áã¨Á´ãÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÊï∞ÊçÆÈúÄË¶ÅÂú®ÂÆÉ‰ª¨‰πãÈó¥ËøõË°åÊòæÂºèÁöÑÂ§çÂà∂„ÄÇËÄåÂú®Unified Memory ManagementÊ®°Âûã‰∏≠ÔºåCPUÂíåGPUÂÖ±‰∫´Âêå‰∏ÄÂùóÂÜÖÂ≠òÔºåÊï∞ÊçÆÂèØ‰ª•Âú®CPUÂíåGPU‰πãÈó¥Ëá™Âä®ËøõË°åËøÅÁßªÔºåÊó†ÈúÄÊòæÂºèÁöÑÂ§çÂà∂Êìç‰Ωú„ÄÇ</p>
<p>Âú®Unified Memory ManagementÊ®°Âûã‰∏≠ÔºåÁ®ãÂ∫èÂëòÂèØ‰ª•Â∞ÜÂÜÖÂ≠òÂàÜÈÖçÁªôCPUÂíåGPU‰ΩøÁî®ÔºåÂπ∂ÈÄöËøáÁÆÄÂçïÁöÑÊ†áËÆ∞Êù•ÊåáÁ§∫Êï∞ÊçÆÂú®CPUÂíåGPU‰πãÈó¥ÁöÑËÆøÈóÆÊ®°Âºè„ÄÇÂΩìCPUÊàñGPUÈúÄË¶ÅËÆøÈóÆÊï∞ÊçÆÊó∂ÔºåÁ≥ªÁªü‰ºöËá™Âä®Â∞ÜÊï∞ÊçÆ‰ªé‰∏Ä‰∏™ËÆæÂ§áËøÅÁßªÂà∞Âè¶‰∏Ä‰∏™ËÆæÂ§á„ÄÇËøôÁßçËá™Âä®ÁöÑÊï∞ÊçÆËøÅÁßª‰ΩøÂæóÁ®ãÂ∫èÂëòÂèØ‰ª•Êõ¥Êñπ‰æøÂú∞ÁºñÂÜôË∑®ËÆæÂ§áÁöÑÂπ∂Ë°å‰ª£Á†ÅÔºåËÄåÊó†ÈúÄÊâãÂä®ÁÆ°ÁêÜÊï∞ÊçÆÁöÑÂ§çÂà∂ÂíåËøÅÁßª„ÄÇ</p>
<p>‰ΩøÁî®Unified Memory ManagementÊ®°ÂûãÂèØ‰ª•ÁÆÄÂåñÂπ∂Ë°åÁºñÁ®ãÔºåÂπ∂ÊèêÈ´ò‰ª£Á†ÅÁöÑÂèØÁßªÊ§çÊÄßÂíåÊÄßËÉΩ„ÄÇÁ®ãÂ∫èÂëòÂèØ‰ª•Êõ¥ÂÆπÊòìÂú∞Âà©Áî®GPUÁöÑÂπ∂Ë°åËÆ°ÁÆóËÉΩÂäõÔºåËÄåÊó†ÈúÄÂÖ≥Ê≥®Êï∞ÊçÆÁöÑÂ§çÂà∂ÂíåËøÅÁßª„ÄÇÂêåÊó∂ÔºåÁ≥ªÁªüÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÁöÑËÆøÈóÆÊ®°ÂºèËøõË°åÊô∫ËÉΩÁöÑÊï∞ÊçÆËøÅÁßªÔºå‰ª•ÊèêÈ´òËÆøÈóÆÊï∞ÊçÆÁöÑÊïàÁéá„ÄÇ</p>
<p>ÊÄª‰πãÔºåUnified Memory ManagementÊ®°ÂûãÈÄöËøáÁªü‰∏ÄCPUÂíåGPU‰πãÈó¥ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÔºåÁÆÄÂåñ‰∫ÜÂπ∂Ë°åÁºñÁ®ãÔºåÂπ∂ÊèêÈ´ò‰∫Ü‰ª£Á†ÅÁöÑÂèØÁßªÊ§çÊÄßÂíåÊÄßËÉΩ„ÄÇ</p>
<h3 id="hbaseÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂíåsparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞Áõ∏Âêå‰πà">HBaseÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂíåSparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞Áõ∏Âêå‰πà
</h3><p>HBaseÁöÑÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂíåSparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞‰∏ç‰∏ÄÂÆöÁõ∏Âêå„ÄÇÂÆÉ‰ª¨ÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÊ¶ÇÂøµÔºåÂàÜÂà´Áî®‰∫é‰∏çÂêåÁöÑÁõÆÁöÑ„ÄÇ</p>
<ol>
<li><strong>HBaseÁöÑÈ¢ÑÂàÜÂå∫‰∏™Êï∞</strong> ÔºöHBaseÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁöÑNoSQLÊï∞ÊçÆÂ∫ìÔºåÂÆÉ‰ΩøÁî®Ë°åÈîÆÔºàRow KeyÔºâÊù•ËøõË°åÊï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÁ¥¢Âºï„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞Êï∞ÊçÆÁöÑË¥üËΩΩÂùáË°°ÂíåÈ´òÊïàÊü•ËØ¢ÔºåHBase‰ºöÂ∞ÜÊï∞ÊçÆÂàÜÊï£Â≠òÂÇ®Âú®‰∏çÂêåÁöÑRegion‰∏≠„ÄÇÂú®ÂàõÂª∫HBaseË°®Êó∂ÔºåÂèØ‰ª•ÊåáÂÆöË°®ÁöÑÈ¢ÑÂàÜÂå∫‰∏™Êï∞Ôºå‰πüÁß∞‰∏∫Region‰∏™Êï∞„ÄÇÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂÜ≥ÂÆö‰∫ÜHBaseË°®Âú®ÈõÜÁæ§‰∏≠ÁöÑÂàÜÂ∏ÉÊÉÖÂÜµÔºåÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÁöÑÁâπÁÇπÂíåË¥üËΩΩË¶ÅÊ±ÇËøõË°åË∞ÉÊï¥„ÄÇ</li>
<li><strong>SparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞</strong> ÔºöÂú®Spark‰∏≠ÔºåreduceÊòØÊåáÂØπÊï∞ÊçÆËøõË°åËÅöÂêàÊìç‰ΩúÁöÑÈò∂ÊÆµÔºåÈÄöÂ∏∏ÊòØÂú®MapReduceÊ®°Âûã‰∏≠ÁöÑreduceÈò∂ÊÆµ„ÄÇÂú®Spark‰∏≠ÔºåreduceÁöÑ‰∏™Êï∞Áî±Êï∞ÊçÆÁöÑÂàÜÂå∫Êï∞ÂÜ≥ÂÆöÔºåÊØè‰∏™ÂàÜÂå∫ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™reduce‰ªªÂä°„ÄÇÂàÜÂå∫Êï∞ÂèØ‰ª•ÈÄöËøáË∞ÉÊï¥RDDÁöÑÂàÜÂå∫Á≠ñÁï•Êàñ‰ΩøÁî® <code>repartition</code>„ÄÅ<code>coalesce</code>Á≠âÊìç‰ΩúÊù•ËøõË°åÊéßÂà∂„ÄÇreduceÁöÑ‰∏™Êï∞ÂΩ±Âìç‰∫ÜÂπ∂Ë°åËÆ°ÁÆóÁöÑÁ®ãÂ∫¶ÔºåÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÈáèÂíåËÆ°ÁÆóËµÑÊ∫êËøõË°åË∞ÉÊï¥„ÄÇ</li>
</ol>
<p>ËôΩÁÑ∂HBaseÁöÑÈ¢ÑÂàÜÂå∫‰∏™Êï∞ÂíåSparkËøáÁ®ã‰∏≠ÁöÑreduce‰∏™Êï∞ÂèØ‰ª•Áõ∏‰∫íÂÖ≥ËÅîÔºå‰ΩÜÂÆÉ‰ª¨Âπ∂‰∏çÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÂÖ≥Á≥ª„ÄÇHBaseÁöÑÈ¢ÑÂàÜÂå∫‰∏™Êï∞‰∏ªË¶ÅÁî®‰∫éÊï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåË¥üËΩΩÂùáË°°ÔºåËÄåSparkÁöÑreduce‰∏™Êï∞‰∏ªË¶ÅÁî®‰∫éËÆ°ÁÆóÁöÑÂπ∂Ë°åÂ∫¶ÊéßÂà∂„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆÁöÑÁâπÁÇπÂíåËÆ°ÁÆóÈúÄÊ±ÇÊù•Ë∞ÉÊï¥ÂÆÉ‰ª¨ÁöÑ‰∏™Êï∞Ôºå‰ª•ËææÂà∞ÊúÄ‰Ω≥ÁöÑÊÄßËÉΩÂíåÊïàÊûú„ÄÇ</p>
<h3 id="ÁÆÄË¶Å‰ªãÁªç‰∏ãsparkÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ">ÁÆÄË¶Å‰ªãÁªç‰∏ãSparkÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ
</h3><h3 id="sparkËØªÂèñhdfs‰∏äÁöÑÊñá‰ª∂ÁÑ∂ÂêécountÊúâÂ§öÂ∞ëË°åÁöÑÊìç‰Ωú‰Ω†ÂèØ‰ª•ËØ¥ËØ¥ËøáÁ®ãÂêóÈÇ£Ëøô‰∏™countÊòØÂú®ÂÜÖÂ≠ò‰∏≠ËøòÊòØÁ£ÅÁõò‰∏≠ËÆ°ÁÆóÁöÑÂë¢">SparkËØªÂèñhdfs‰∏äÁöÑÊñá‰ª∂ÔºåÁÑ∂ÂêécountÊúâÂ§öÂ∞ëË°åÁöÑÊìç‰ΩúÔºå‰Ω†ÂèØ‰ª•ËØ¥ËØ¥ËøáÁ®ãÂêó„ÄÇÈÇ£Ëøô‰∏™countÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøòÊòØÁ£ÅÁõò‰∏≠ËÆ°ÁÆóÁöÑÂë¢
</h3><h3 id="hbase-regionÂ§öÂ§ß‰ºöÂàÜÂå∫sparkËØªÂèñhbaseÊï∞ÊçÆÊòØÂ¶Ç‰ΩïÂàíÂàÜpartitionÁöÑ">hbase regionÂ§öÂ§ß‰ºöÂàÜÂå∫ÔºåsparkËØªÂèñhbaseÊï∞ÊçÆÊòØÂ¶Ç‰ΩïÂàíÂàÜpartitionÁöÑ
</h3><h3 id="ËØ¥ËØ¥blockmanagerÊÄé‰πàÁÆ°ÁêÜÁ°¨ÁõòÂíåÂÜÖÂ≠òÁöÑ">ËØ¥ËØ¥BlockManagerÊÄé‰πàÁÆ°ÁêÜÁ°¨ÁõòÂíåÂÜÖÂ≠òÁöÑ
</h3><h3 id="Âàó‰∏æspark‰∏≠Â∏∏ËßÅÁöÑÁ´ØÂè£ÂàÜÂà´Êúâ‰ªÄ‰πàÂäüËÉΩ">Âàó‰∏æSpark‰∏≠Â∏∏ËßÅÁöÑÁ´ØÂè£ÔºåÂàÜÂà´Êúâ‰ªÄ‰πàÂäüËÉΩ
</h3><h3 id="ÈõÜÁæ§‰∏änodemanagerÂíåresourcemanagerÁöÑÊï∞ÈáèÂÖ≥Á≥ª">ÈõÜÁæ§‰∏änodemanagerÂíåResourceManagerÁöÑÊï∞ÈáèÂÖ≥Á≥ª
</h3><h3 id="spark-Â¶Ç‰ΩïÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫">Spark Â¶Ç‰ΩïÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫
</h3><h3 id="sparkÁöÑÈÄö‰ø°ÊñπÂºè">SparkÁöÑÈÄö‰ø°ÊñπÂºè
</h3><h3 id="sparkÂ¶Ç‰ΩïÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆsparkÂ¶Ç‰ΩïÂ§ÑÁêÜÈùûÁªìÊûÑËØùÊï∞ÊçÆ">SparkÂ¶Ç‰ΩïÂ§ÑÁêÜÁªìÊûÑÂåñÊï∞ÊçÆÔºåSparkÂ¶Ç‰ΩïÂ§ÑÁêÜÈùûÁªìÊûÑËØùÊï∞ÊçÆÔºü
</h3><h3 id="ÂØπ‰∫éspark‰Ω†ËßâÂæó‰ªñÂØπ‰∫éÁé∞ÊúâÂ§ßÊï∞ÊçÆÁöÑÁé∞Áä∂ÁöÑ‰ºòÂäøÂíåÂä£ÂäøÂú®Âì™Èáå">ÂØπ‰∫éSpark‰Ω†ËßâÂæó‰ªñÂØπ‰∫éÁé∞ÊúâÂ§ßÊï∞ÊçÆÁöÑÁé∞Áä∂ÁöÑ‰ºòÂäøÂíåÂä£ÂäøÂú®Âì™Èáå
</h3><h3 id="ÁÆÄË¶ÅÊèèËø∞‰Ω†‰∫ÜËß£ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÊåñÊéòÁÆóÊ≥ï‰∏éÂÜÖÂÆπ">ÁÆÄË¶ÅÊèèËø∞‰Ω†‰∫ÜËß£ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÊåñÊéòÁÆóÊ≥ï‰∏éÂÜÖÂÆπ
</h3><h3 id="spark-streaming‰∏≠ÂØπÊé•ÁöÑsocketÁöÑÁºìÂ≠òÁ≠ñÁï•ÊòØ‰ªÄ‰πà">Spark Streaming‰∏≠ÂØπÊé•ÁöÑsocketÁöÑÁºìÂ≠òÁ≠ñÁï•ÊòØ‰ªÄ‰πà
</h3><h3 id="mapreduceÂíåsparkÁöÑÁõ∏ÂêåÂíåÂå∫Âà´">MapreduceÂíåSparkÁöÑÁõ∏ÂêåÂíåÂå∫Âà´
</h3><p>MapReduceÂíåSparkÈÉΩÊòØÁî®‰∫éÂπ∂Ë°åËÆ°ÁÆóÁöÑÊ°ÜÊû∂„ÄÇ</p>
<p><strong>Áõ∏ÂêåÁÇπÔºö</strong></p>
<ol>
<li><strong>Âπ∂Ë°åËÆ°ÁÆó</strong> Ôºö‰∏§ËÄÖÈÉΩÊîØÊåÅÂ∞ÜÂ§ßËßÑÊ®°ÁöÑÊï∞ÊçÆÈõÜÂàíÂàÜ‰∏∫Â§ö‰∏™Â∞è‰ªªÂä°ÔºåÂπ∂Âú®ÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏≠Âπ∂Ë°åÊâßË°åËøô‰∫õ‰ªªÂä°„ÄÇ</li>
<li><strong>ÂèØÊâ©Â±ïÊÄß</strong> ÔºöÂÆÉ‰ª¨ÈÉΩÂèØ‰ª•Âú®Â§ßËßÑÊ®°ÈõÜÁæ§‰∏äËøêË°åÔºåÈÄöËøáÊ∑ªÂä†Êõ¥Â§öÁöÑËÆ°ÁÆóËäÇÁÇπÊù•Êâ©Â±ïËÆ°ÁÆóËÉΩÂäõ„ÄÇ</li>
<li><strong>ÂÆπÈîôÊÄß</strong> ÔºöÂÆÉ‰ª¨ÈÉΩÂÖ∑Â§áÊïÖÈöúÊÅ¢Â§çÊú∫Âà∂ÔºåËÉΩÂ§üÂ§ÑÁêÜËÆ°ÁÆóËäÇÁÇπÁöÑÊïÖÈöúÔºåÂπ∂‰øùËØÅËÆ°ÁÆóÁöÑÊ≠£Á°ÆÊÄß„ÄÇ</li>
</ol>
<p><strong>Âå∫Âà´Ôºö</strong></p>
<ol>
<li><strong>ÂÜÖÂ≠ò‰ΩøÁî®</strong> ÔºöMapReduceÂ∞Ü‰∏≠Èó¥Êï∞ÊçÆÂÜôÂÖ•Á£ÅÁõòÔºåËÄåSparkÂ∞Ü‰∏≠Èó¥Êï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåËøô‰ΩøÂæóSparkÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÊØîMapReduceÊõ¥Âø´ÔºåÂ∞§ÂÖ∂ÊòØÂØπ‰∫éËø≠‰ª£ËÆ°ÁÆóÂíå‰∫§‰∫íÂºèÊü•ËØ¢Á≠âÈúÄË¶ÅÂ§öÊ¨°ËØªÂÜôÊï∞ÊçÆÁöÑÂú∫ÊôØ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂ§ÑÁêÜÊ®°Âûã</strong> ÔºöMapReduceÈááÁî®‰∫ÜÁªèÂÖ∏ÁöÑ&quot;map&quot;Âíå&quot;reduce&quot;Êìç‰ΩúÊ®°ÂûãÔºåËÄåSparkÂºïÂÖ•‰∫ÜÊõ¥Â§öÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊìç‰ΩúÔºåÂ¶ÇËøáÊª§„ÄÅÊéíÂ∫è„ÄÅËøûÊé•Á≠âÔºå‰ΩøÂæóÁºñÂÜôÊï∞ÊçÆÂ§ÑÁêÜÈÄªËæëÊõ¥Âä†ÁÅµÊ¥ª„ÄÇ</li>
<li><strong>ÂÆûÊó∂ËÆ°ÁÆóÊîØÊåÅ</strong> ÔºöSparkÊèê‰æõ‰∫ÜÂÆûÊó∂ÊµÅÂ§ÑÁêÜÂäüËÉΩÔºåÂèØ‰ª•ÂØπÊï∞ÊçÆËøõË°åÂÆûÊó∂Â§ÑÁêÜÂíåÂàÜÊûêÔºåËÄåMapReduce‰∏ªË¶ÅÁî®‰∫éÁ¶ªÁ∫øÊâπÂ§ÑÁêÜ„ÄÇ</li>
<li><strong>ÁºñÁ®ãÊé•Âè£</strong> ÔºöMapReduce‰ΩøÁî®JavaÁºñÁ®ãÊé•Âè£ÔºåËÄåSparkÊîØÊåÅÂ§öÁßçÁºñÁ®ãËØ≠Ë®ÄÊé•Âè£ÔºåÂåÖÊã¨Java„ÄÅScala„ÄÅPythonÂíåRÔºå‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•‰ΩøÁî®Ëá™Â∑±ÁÜüÊÇâÁöÑËØ≠Ë®ÄËøõË°åÂºÄÂèë„ÄÇ</li>
</ol>
<p>ÊÄª‰ΩìËÄåË®ÄÔºåSparkÁõ∏ÂØπ‰∫éMapReduceÊù•ËØ¥Êõ¥Âä†ÁÅµÊ¥ªÂíåÈ´òÊïàÔºåÂ∞§ÂÖ∂ÈÄÇÁî®‰∫éÈúÄË¶ÅÂÆûÊó∂ËÆ°ÁÆóÂíåÂ§çÊùÇÊï∞ÊçÆÂ§ÑÁêÜÁöÑÂú∫ÊôØ„ÄÇ‰ΩÜÂØπ‰∫é‰∏Ä‰∫õ‰º†ÁªüÁöÑÁ¶ªÁ∫øÊâπÂ§ÑÁêÜ‰ªªÂä°ÔºåMapReduce‰ªçÁÑ∂ÊòØ‰∏Ä‰∏™ÂèØÈù†ÁöÑÈÄâÊã©„ÄÇ</p>
<h3 id="ÂØπrdddagÂíåtaskÁöÑÁêÜËß£">ÂØπRDD„ÄÅDAGÂíåTaskÁöÑÁêÜËß£
</h3><h3 id="dag‰∏∫‰ªÄ‰πàÈÄÇÂêàspark">DAG‰∏∫‰ªÄ‰πàÈÄÇÂêàSpark
</h3><h3 id="‰ªãÁªç‰∏ãsparkÁöÑdag‰ª•ÂèäÂÆÉÁöÑÁîüÊàêËøáÁ®ã">‰ªãÁªç‰∏ãSparkÁöÑDAG‰ª•ÂèäÂÆÉÁöÑÁîüÊàêËøáÁ®ã
</h3><h3 id="dagschedulerÂ¶Ç‰ΩïÂàíÂàÜÂπ≤‰∫Ü‰ªÄ‰πàÊ¥ª">DAGSchedulerÂ¶Ç‰ΩïÂàíÂàÜÔºüÂπ≤‰∫Ü‰ªÄ‰πàÊ¥ª
</h3><h3 id="sparkÁöÑÂÆπÈîôÊú∫Âà∂">SparkÁöÑÂÆπÈîôÊú∫Âà∂
</h3><h3 id="rddÁöÑÂÆπÈîô">RDDÁöÑÂÆπÈîô
</h3><h3 id="executorÂÜÖÂ≠òÂàÜÈÖç">ExecutorÂÜÖÂ≠òÂàÜÈÖç
</h3><h3 id="sparkÁöÑbatchsizeÊÄé‰πàËß£ÂÜ≥Â∞èÊñá‰ª∂ÂêàÂπ∂ÈóÆÈ¢ò">SparkÁöÑbatchsizeÔºåÊÄé‰πàËß£ÂÜ≥Â∞èÊñá‰ª∂ÂêàÂπ∂ÈóÆÈ¢ò
</h3><h3 id="sparkÂèÇÊï∞ÊÄßËÉΩË∞É‰ºò">SparkÂèÇÊï∞(ÊÄßËÉΩ)Ë∞É‰ºò
</h3><h3 id="‰ªãÁªç‰∏Ä‰∏ãsparkÊòØÊÄé‰πàÂü∫‰∫éÂÜÖÂ≠òËÆ°ÁÆóÁöÑ">‰ªãÁªç‰∏Ä‰∏ãSparkÊòØÊÄé‰πàÂü∫‰∫éÂÜÖÂ≠òËÆ°ÁÆóÁöÑ
</h3><h3 id="ËØ¥‰∏ã‰ªÄ‰πàÊòØrddÂØπrddÁöÑÁêÜËß£rddÊúâÂì™‰∫õÁâπÁÇπËØ¥‰∏ãÁü•ÈÅìÁöÑrddÁÆóÂ≠ê">ËØ¥‰∏ã‰ªÄ‰πàÊòØRDD(ÂØπRDDÁöÑÁêÜËß£)ÔºåRDDÊúâÂì™‰∫õÁâπÁÇπÔºüËØ¥‰∏ãÁü•ÈÅìÁöÑRDDÁÆóÂ≠ê
</h3><h3 id="rddÂ∫ïÂ±ÇÂéüÁêÜ">RDDÂ∫ïÂ±ÇÂéüÁêÜ
</h3><h3 id="rddÂ±ûÊÄß">RDDÂ±ûÊÄß
</h3><h3 id="rddÁöÑÁºìÂ≠òÁ∫ßÂà´">RDDÁöÑÁºìÂ≠òÁ∫ßÂà´
</h3><h3 id="sparkÂπøÊí≠ÂèòÈáèÁöÑÂÆûÁé∞ÂíåÂéüÁêÜ">SparkÂπøÊí≠ÂèòÈáèÁöÑÂÆûÁé∞ÂíåÂéüÁêÜ
</h3><h3 id="reducebykeyÂíågroupbykeyÁöÑÂå∫Âà´Âíå‰ΩúÁî®">reduceByKeyÂíågroupByKeyÁöÑÂå∫Âà´Âíå‰ΩúÁî®
</h3><h3 id="reducebykeyÂíåreduceÁöÑÂå∫Âà´">reduceByKeyÂíåreduceÁöÑÂå∫Âà´
</h3><h3 id="‰ΩøÁî®reducebykeyÂá∫Áé∞Êï∞ÊçÆÂÄæÊñúÊÄé‰πàÂäû">‰ΩøÁî®reduceByKeyÂá∫Áé∞Êï∞ÊçÆÂÄæÊñúÊÄé‰πàÂäû
</h3><h3 id="sparksqlÁöÑÊâßË°åÂéüÁêÜ">SparkSQLÁöÑÊâßË°åÂéüÁêÜ
</h3><h3 id="sparksqlÁöÑ‰ºòÂåñ">SparkSQLÁöÑ‰ºòÂåñ
</h3><h3 id="ËØ¥‰∏ãspark-checkpoint">ËØ¥‰∏ãSpark checkpoint
</h3><h3 id="sparksqlËá™ÂÆö‰πâÂáΩÊï∞ÊÄé‰πàÂàõÂª∫dataframe">SparksqlËá™ÂÆö‰πâÂáΩÊï∞ÔºüÊÄé‰πàÂàõÂª∫DataFrame
</h3><h3 id="hashpartitionerÂíårangepartitionerÁöÑÂÆûÁé∞">HashPartitionerÂíåRangePartitionerÁöÑÂÆûÁé∞
</h3><h3 id="dagschedulertaskschedulerschedulerbackendÂÆûÁé∞ÂéüÁêÜ">DAGScheduler„ÄÅTaskScheduler„ÄÅSchedulerBackendÂÆûÁé∞ÂéüÁêÜ
</h3><h3 id="driverÊÄé‰πàÁÆ°ÁêÜexecutor">DriverÊÄé‰πàÁÆ°ÁêÜexecutor
</h3><h3 id="sparkÁöÑmapÂíåflatmapÁöÑÂå∫Âà´">SparkÁöÑmapÂíåflatmapÁöÑÂå∫Âà´
</h3><h3 id="mapÂíåmappartitionÁöÑÂå∫Âà´">mapÂíåmapPartitionÁöÑÂå∫Âà´
</h3><h3 id="sparkÁöÑcacheÂíåpersistÁöÑÂå∫Âà´ÂÆÉ‰ª¨ÊòØtransformationÁÆóÂ≠êËøòÊòØactionÁÆóÂ≠ê">SparkÁöÑcacheÂíåpersistÁöÑÂå∫Âà´ÔºüÂÆÉ‰ª¨ÊòØtransformationÁÆóÂ≠êËøòÊòØactionÁÆóÂ≠êÔºü
</h3><h3 id="sparkstreamingÁöÑÂ∑•‰ΩúÂéüÁêÜ">SparkStreamingÁöÑÂ∑•‰ΩúÂéüÁêÜ
</h3><h3 id="spark-streamingÁöÑdstreamÂíådstreamgraphÁöÑÂå∫Âà´">Spark StreamingÁöÑDStreamÂíåDStreamGraphÁöÑÂå∫Âà´
</h3><h3 id="sparkËæìÂá∫Êñá‰ª∂ÁöÑ‰∏™Êï∞Â¶Ç‰ΩïÂêàÂπ∂Â∞èÊñá‰ª∂">SparkËæìÂá∫Êñá‰ª∂ÁöÑ‰∏™Êï∞ÔºåÂ¶Ç‰ΩïÂêàÂπ∂Â∞èÊñá‰ª∂
</h3><h3 id="sparkÁöÑdriverÊòØÊÄé‰πàÈ©±Âä®‰Ωú‰∏öÊµÅÁ®ãÁöÑ">SparkÁöÑdriverÊòØÊÄé‰πàÈ©±Âä®‰Ωú‰∏öÊµÅÁ®ãÁöÑ
</h3><h3 id="sparksqlÁöÑÂä£Âäø">SparkSQLÁöÑÂä£Âäø
</h3><h3 id="dagÂàíÂàÜsparkÊ∫êÁ†ÅÂÆûÁé∞">DAGÂàíÂàÜSparkÊ∫êÁ†ÅÂÆûÁé∞
</h3><h3 id="spark-steamingÁöÑÂèåÊµÅjoinÁöÑËøáÁ®ãÊÄé‰πàÂÅöÁöÑ">Spark SteamingÁöÑÂèåÊµÅjoinÁöÑËøáÁ®ãÔºåÊÄé‰πàÂÅöÁöÑ
</h3><h3 id="sparkÁöÑblockÁÆ°ÁêÜ">SparkÁöÑBlockÁÆ°ÁêÜ
</h3><h3 id="sparkÊÄé‰πà‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±">SparkÊÄé‰πà‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±
</h3><h3 id="sparksqlÂ¶Ç‰Ωï‰ΩøÁî®udf">SparkSQLÂ¶Ç‰Ωï‰ΩøÁî®UDF
</h3><h3 id="sparksqlËØªÂèñÊñá‰ª∂ÂÜÖÂ≠ò‰∏çÂ§ü‰ΩøÁî®Â¶Ç‰ΩïÂ§ÑÁêÜ">SparkSQLËØªÂèñÊñá‰ª∂ÔºåÂÜÖÂ≠ò‰∏çÂ§ü‰ΩøÁî®ÔºåÂ¶Ç‰ΩïÂ§ÑÁêÜ
</h3><h3 id="sparkÁöÑlazyÊèêÁé∞Âú®Âì™Èáå">SparkÁöÑlazyÊèêÁé∞Âú®Âì™Èáå
</h3><h3 id="spark‰∏≠ÁöÑÂπ∂Ë°åÂ∫¶Á≠â‰∫é‰ªÄ‰πà">Spark‰∏≠ÁöÑÂπ∂Ë°åÂ∫¶Á≠â‰∫é‰ªÄ‰πà
</h3><h3 id="sparkËøêË°åÊó∂Âπ∂Ë°åÂ∫¶ÁöÑËÆæÁΩÆ">SparkËøêË°åÊó∂Âπ∂Ë°åÂ∫¶ÁöÑËÆæÁΩÆ
</h3><h3 id="sparksqlÁöÑÊï∞ÊçÆÂÄæÊñú">SparkSQLÁöÑÊï∞ÊçÆÂÄæÊñú
</h3><h3 id="sparkÁöÑexactly-one">SparkÁöÑexactly-one
</h3><h3 id="sparkÁöÑrddÂíåpartitionÁöÑËÅîÁ≥ª">SparkÁöÑRDDÂíåpartitionÁöÑËÅîÁ≥ª
</h3><h3 id="spark3ÁöÑÁâπÊÄß">Spark3ÁöÑÁâπÊÄß
</h3><h3 id="spakrËÆ°ÁÆóÁöÑÁÅµÊ¥ªÊÄßÊèêÁé∞Âú®Âì™Èáå">SpakrËÆ°ÁÆóÁöÑÁÅµÊ¥ªÊÄßÊèêÁé∞Âú®Âì™Èáå
</h3><h2 id="ÂÆûÊàò">ÂÆûÊàò
</h2><h3 id="sparkÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÂ¶Ç‰ΩïÂÆö‰ΩçËß£ÂÜ≥ÊñπÊ°à">SparkÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÂÆö‰ΩçÔºåËß£ÂÜ≥ÊñπÊ°à
</h3><h3 id="sparkÊèê‰∫§‰Ω†ÁöÑjarÂåÖÊó∂ÊâÄÁî®ÁöÑÂëΩ‰ª§ÊòØ‰ªÄ‰πà">SparkÊèê‰∫§‰Ω†ÁöÑjarÂåÖÊó∂ÊâÄÁî®ÁöÑÂëΩ‰ª§ÊòØ‰ªÄ‰πà
</h3><h3 id="spark-submitÁöÑÊó∂ÂÄôÂ¶Ç‰ΩïÂºïÂÖ•Â§ñÈÉ®jarÂåÖ">spark-submitÁöÑÊó∂ÂÄôÂ¶Ç‰ΩïÂºïÂÖ•Â§ñÈÉ®jarÂåÖ
</h3><h3 id="‰Ω†Â¶Ç‰Ωï‰ªékafka‰∏≠Ëé∑ÂèñÊï∞ÊçÆ">‰Ω†Â¶Ç‰Ωï‰ªéKafka‰∏≠Ëé∑ÂèñÊï∞ÊçÆ
</h3><h3 id="spark-streamingÂØπÊé•kafka‰∏§ÁßçÊï¥ÂêàÊñπÂºèÁöÑÂå∫Âà´">Spark StreamingÂØπÊé•Kafka‰∏§ÁßçÊï¥ÂêàÊñπÂºèÁöÑÂå∫Âà´
</h3><h3 id="Â¶Ç‰ΩïÈÖçÁΩÆspark-masterÁöÑha">Â¶Ç‰ΩïÈÖçÁΩÆSpark masterÁöÑHA
</h3><h3 id="Âú®‰∏Ä‰∏™‰∏çÁ°ÆÂÆöÁöÑÊï∞ÊçÆËßÑÊ®°ÁöÑËåÉÂõ¥ÂÜÖËøõË°åÊéíÂ∫èÂèØ‰ª•ÈááÁî®‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ï">Âú®‰∏Ä‰∏™‰∏çÁ°ÆÂÆöÁöÑÊï∞ÊçÆËßÑÊ®°ÁöÑËåÉÂõ¥ÂÜÖËøõË°åÊéíÂ∫èÂèØ‰ª•ÈááÁî®‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ï
</h3><ol>
<li><strong>ÂÜÖÂ≠òÊéíÂ∫è</strong> ÔºöÂ¶ÇÊûúÊï∞ÊçÆËßÑÊ®°ËæÉÂ∞èÔºåÂèØ‰ª•Â∞ÜÊâÄÊúâÊï∞ÊçÆÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ËøõË°åÊéíÂ∫è„ÄÇËøôÁßçÊñπÊ≥ïÁÆÄÂçïÂø´ÈÄüÔºåÈÄÇÁî®‰∫éËÉΩÂ§ü‰∏ÄÊ¨°ÊÄßÂä†ËΩΩÂà∞ÂÜÖÂ≠òÁöÑÊï∞ÊçÆÈõÜ„ÄÇ</li>
<li><strong>Â§ñÈÉ®ÊéíÂ∫è</strong> ÔºöÂΩìÊï∞ÊçÆËßÑÊ®°ËæÉÂ§ßÔºåÊó†Ê≥ï‰∏ÄÊ¨°ÊÄßÂä†ËΩΩÂà∞ÂÜÖÂ≠òÊó∂ÔºåÂèØ‰ª•ÈááÁî®Â§ñÈÉ®ÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂ§ñÈÉ®ÊéíÂ∫èÂ∞ÜÊï∞ÊçÆÂàíÂàÜ‰∏∫Â§ö‰∏™ËæÉÂ∞èÁöÑÂùóÔºåÂπ∂Âú®Á£ÅÁõò‰∏äËøõË°åÊéíÂ∫èÂíåÂêàÂπ∂Êìç‰Ωú„ÄÇ</li>
</ol>
<ul>
<li>È¶ñÂÖàÔºåÂ∞ÜÊï∞ÊçÆÂàÜÂâ≤ÊàêÈÄÇÂΩìÂ§ßÂ∞èÁöÑÂùóÔºåÂπ∂Â∞ÜÊØè‰∏™ÂùóÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ËøõË°åÊéíÂ∫è„ÄÇ</li>
<li>ÁÑ∂ÂêéÔºå‰ΩøÁî®ÂΩíÂπ∂ÊéíÂ∫èÁ≠âÁÆóÊ≥ïÂ∞ÜÊéíÂ∫èÂ•ΩÁöÑÂùóÈÄê‰∏ÄÂêàÂπ∂ÔºåÁõ¥Âà∞ÂæóÂà∞ÂÆåÊï¥ÊéíÂ∫èÁöÑÁªìÊûú„ÄÇ
Â§ñÈÉ®ÊéíÂ∫èÁöÑ‰ºòÁÇπÊòØÂèØ‰ª•Â§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆÔºå‰ΩÜÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÁ£ÅÁõòÁ©∫Èó¥ÂíåIOÊìç‰Ωú„ÄÇ</li>
</ul>
<ol start="3">
<li><strong>ÂàÜÂ∏ÉÂºèÊéíÂ∫è</strong> ÔºöÂØπ‰∫éË∂ÖÂ§ßËßÑÊ®°ÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•ÈááÁî®ÂàÜÂ∏ÉÂºèÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂàÜÂ∏ÉÂºèÊéíÂ∫èÂ∞ÜÊï∞ÊçÆÂàÜÂ∏ÉÂú®Â§öÂè∞ËÆ°ÁÆóÊú∫‰∏äËøõË°åÂπ∂Ë°åÊéíÂ∫èÂíåÂêàÂπ∂„ÄÇ</li>
</ol>
<ul>
<li>È¶ñÂÖàÔºåÂ∞ÜÊï∞ÊçÆÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ÔºåÂπ∂Â∞ÜÊØè‰∏™ÂàÜÂå∫ÂàÜÈÖçÁªô‰∏çÂêåÁöÑËÆ°ÁÆóËäÇÁÇπ„ÄÇ</li>
<li>ÊØè‰∏™ËäÇÁÇπÁã¨Á´ãÂØπËá™Â∑±Ë¥üË¥£ÁöÑÊï∞ÊçÆÂàÜÂå∫ËøõË°åÊéíÂ∫è„ÄÇ</li>
<li>ÊúÄÂêéÔºå‰ΩøÁî®ÂΩíÂπ∂ÊéíÂ∫èÁ≠âÁÆóÊ≥ïÂ∞ÜÂêÑ‰∏™ËäÇÁÇπÁöÑÊéíÂ∫èÁªìÊûúÂêàÂπ∂ÊàêÊúÄÁªàÁöÑÂÖ®Â±ÄÊéíÂ∫èÁªìÊûú„ÄÇ
ÂàÜÂ∏ÉÂºèÊéíÂ∫èÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®ÈõÜÁæ§ÁöÑËÆ°ÁÆóËµÑÊ∫êÔºåÈ´òÊïàÂú∞Â§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆ„ÄÇ</li>
</ul>
<p>Êó†ËÆ∫‰ΩøÁî®Âì™ÁßçÊñπÊ≥ïÔºåÂú®‰∏çÁ°ÆÂÆöÊï∞ÊçÆËßÑÊ®°ÁöÑÊÉÖÂÜµ‰∏ãÔºåÈÉΩÈúÄË¶ÅËÄÉËôëÂÜÖÂ≠òÂíåÁ£ÅÁõòÁöÑÈôêÂà∂ÔºåÈÄâÊã©ÈÄÇÂΩìÁöÑÁÆóÊ≥ïÂíåÊï∞ÊçÆÂàÜÂâ≤Á≠ñÁï•Ôºå‰ª•ÂÆûÁé∞È´òÊïàÁöÑÊéíÂ∫èÊìç‰Ωú„ÄÇ</p>
<h3 id="sparkÂ¶Ç‰ΩïËá™ÂÆö‰πâpartitionerÂàÜÂå∫Âô®">SparkÂ¶Ç‰ΩïËá™ÂÆö‰πâpartitionerÂàÜÂå∫Âô®
</h3><h3 id="‰ΩøÁî®shellÂíåscala‰ª£Á†ÅÂÆûÁé∞wordcount">‰ΩøÁî®shellÂíåscala‰ª£Á†ÅÂÆûÁé∞WordCount
</h3><h3 id="ÊÄé‰πàÁî®sparkÂÅöÊï∞ÊçÆÊ∏ÖÊ¥ó">ÊÄé‰πàÁî®SparkÂÅöÊï∞ÊçÆÊ∏ÖÊ¥ó
</h3><h3 id="ËØ¥ËØ¥sparkÊÄé‰πàÊï¥Âêàhive">ËØ¥ËØ¥SparkÊÄé‰πàÊï¥Âêàhive
</h3>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/%E4%B8%80%E6%96%87%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82raft%E7%AE%97%E6%B3%95/">
        
        
            <div class="article-image">
                <img src="/p/%E4%B8%80%E6%96%87%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82raft%E7%AE%97%E6%B3%95/JzXWDq.c66ad75b4b2530aec67a8a6870f97170_hu14209571841734247621.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ‰∏ÄÊñáÂΩªÂ∫ïÊêûÊáÇRaftÁÆóÊ≥ï"
                        
                        data-hash="md5-xmrXW0slMK7GeopocPlxcA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">‰∏ÄÊñáÂΩªÂ∫ïÊêûÊáÇRaftÁÆóÊ≥ï</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hive%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/">
        
        
            <div class="article-image">
                <img src="/p/hive%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/trees-8136806_1280.357dd549ed51f498bcbf5425f76e0416_hu9173719500181869714.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HiveÈù¢ËØï‰∏ÄÊñáÈÄö"
                        
                        data-hash="md5-NX3VSe1R9Ji8v1Ql924EFg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HiveÈù¢ËØï‰∏ÄÊñáÈÄö</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/flink%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/">
        
        
            <div class="article-image">
                <img src="/p/flink%E9%9D%A2%E8%AF%95%E4%B8%80%E6%96%87%E9%80%9A/leaf-8687801_1280.88b6b08dfc2ee2e24256c1491b57935f_hu14693269959298157630.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post FlinkÈù¢ËØï‰∏ÄÊñáÈÄö"
                        
                        data-hash="md5-iLawjfwu4uJCVsFJG1eTXw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">FlinkÈù¢ËØï‰∏ÄÊñáÈÄö</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86%E4%B8%80%E6%96%87%E9%80%9A/">
        
        
            <div class="article-image">
                <img src="/p/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86%E4%B8%80%E6%96%87%E9%80%9A/grebe-7972183_1280.6dd8a2d7b8cf99148cf7a877d9459ae8_hu10399000877992530385.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ‰∫åÂèâÊ†ëÈÅçÂéÜ‰∏ÄÊñáÈÄö"
                        
                        data-hash="md5-bdii17jPmRSM96h32UWa6A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">‰∫åÂèâÊ†ëÈÅçÂéÜ‰∏ÄÊñáÈÄö</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E4%B8%80%E6%96%87%E9%80%9A/">
        
        
            <div class="article-image">
                <img src="/p/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E4%B8%80%E6%96%87%E9%80%9A/matt-le-SJSpo9hQf7s-unsplash.8eae06664ddfb3e8dc6e000756cb703b_hu13612953062116952428.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Âä®ÊÄÅËßÑÂàí‰∏ÄÊñáÈÄö"
                        
                        data-hash="md5-jq4GZk3fs&#43;jcbgAHVstwOw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Âä®ÊÄÅËßÑÂàí‰∏ÄÊñáÈÄö</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="sherlock-lin/utterances-comments"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2022 - 
        
        2025 sherlock-lin
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">Êú¨Á´ôÊÄªËÆøÈóÆÈáè <span id="busuanzi_value_site_pv"></span> Ê¨° ¬∑ </span>
<span id="busuanzi_container_site_uv">ÊÇ®ÊòØÊú¨Á´ôÁ¨¨ <span id="busuanzi_value_site_uv"></span> ‰ΩçËÆøÈóÆËÄÖ</span>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
